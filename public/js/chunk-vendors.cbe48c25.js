(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),a=n("fc6a"),s=n("c04e"),c=n("5135"),u=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1276:function(e,t,n){"use strict";var r=n("d784"),i=n("44e7"),o=n("825a"),a=n("1d80"),s=n("4840"),c=n("8aa5"),u=n("50c4"),l=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,p=Math.min,m=4294967295,v=!f((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?m:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);var s,c,u,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,f+"g");while(s=h.call(v,r)){if(c=v.lastIndex,c>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=o))break;v.lastIndex===s.index&&v.lastIndex++}return p===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var h=o(e),f=String(this),d=s(h,RegExp),g=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),b=new d(v?h:"^(?:"+h.source+")",y),_=void 0===i?m:i>>>0;if(0===_)return[];if(0===f.length)return null===l(b,f)?[f]:[];var x=0,w=0,S=[];while(w<f.length){b.lastIndex=v?w:0;var A,T=l(b,v?f:f.slice(w));if(null===T||(A=p(u(b.lastIndex+(v?0:w)),f.length))===x)w=c(f,w,g);else{if(S.push(f.slice(x,w)),S.length===_)return S;for(var E=1;E<=T.length-1;E++)if(S.push(T[E]),S.length===_)return S;w=x=A}}return S.push(f.slice(x)),S}]}),!v)},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1fb5":function(e,t,n){"use strict";t.byteLength=l,t.toByteArray=f,t.fromByteArray=m;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function f(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(h(e,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(d(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(p(e,s,s+a>c?c:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2266:function(e,t,n){var r=n("825a"),i=n("e95a"),o=n("50c4"),a=n("0366"),s=n("35a1"),c=n("9bdd"),u=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,n,l,h){var f,d,p,m,v,g,y,b=a(t,n,l?2:1);if(h)f=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,m=o(e.length);m>p;p++)if(v=l?b(r(y=e[p])[0],y[1]):b(e[p]),v&&v instanceof u)return v;return new u(!1)}f=d.call(e)}g=f.next;while(!(y=g.call(f)).done)if(v=c(f,b,y.value,l),"object"==typeof v&&v&&v instanceof u)return v;return new u(!1)};l.stop=function(e){return new u(!0,e)}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),a=n("6eeb"),s=n("ce4e"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,h,f,d,p,m=e.target,v=e.global,g=e.stat;if(l=v?r:g?r[m]||s(m,{}):(r[m]||{}).prototype,l)for(h in t){if(d=t[h],e.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=u(v?h:m+(g?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(l,h,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),o=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),a=n("ad6d"),s="toString",c=RegExp.prototype,u=c[s],l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=s;(l||h)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("9bf2"),o=n("b622"),a=n("83ab"),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},2639:function(e,t,n){e.exports=function(){return new Worker(n.p+"36feabeade549769d688.worker.js")}},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},2909:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){if(Array.isArray(e))return r(e)}n.d(t,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("fb6a"),n("b0c0"),n("25f0");function a(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return i(e)||o(e)||a(e)||s()}},"2b0e":function(e,t,n){"use strict";n.r(t),function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function a(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function h(e){return"[object RegExp]"===u.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function _(e,t){return b.call(e,t)}function x(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var w=/-(\w)/g,S=x((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),A=x((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,E=x((function(e){return e.replace(T,"-$1").toLowerCase()}));function M(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function P(e,t){return e.bind(t)}var C=Function.prototype.bind?P:M;function R(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function k(e,t){for(var n in t)e[n]=t[n];return e}function L(e){for(var t={},n=0;n<e.length;n++)e[n]&&k(t,e[n]);return t}function O(e,t,n){}var I=function(e,t,n){return!1},N=function(e){return e};function D(e,t){if(e===t)return!0;var n=c(e),r=c(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return D(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(n){return D(e[n],t[n])}))}catch(u){return!1}}function F(e,t){for(var n=0;n<e.length;n++)if(D(e[n],t))return n;return-1}function j(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var U="data-server-rendered",z=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:O,parsePlatformTagName:N,mustUseProp:I,async:!0,_lifecycleHooks:B},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function W(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q=new RegExp("[^"+G.source+".$_\\d]");function X(e){if(!q.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var Y,$="__proto__"in{},Z="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,K=J&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),ee=Q&&/msie|trident/.test(Q),te=Q&&Q.indexOf("msie 9.0")>0,ne=Q&&Q.indexOf("edge/")>0,re=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===K),ie=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),oe={}.watch,ae=!1;if(Z)try{var se={};Object.defineProperty(se,"passive",{get:function(){ae=!0}}),window.addEventListener("test-passive",null,se)}catch(Sa){}var ce=function(){return void 0===Y&&(Y=!Z&&!J&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),Y},ue=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var he,fe="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);he="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var de=O,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){y(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},me.target=null;var ve=[];function ge(e){ve.push(e),me.target=e}function ye(){ve.pop(),me.target=ve[ve.length-1]}var be=function(e,t,n,r,i,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_e={child:{configurable:!0}};_e.child.get=function(){return this.componentInstance},Object.defineProperties(be.prototype,_e);var xe=function(e){void 0===e&&(e="");var t=new be;return t.text=e,t.isComment=!0,t};function we(e){return new be(void 0,void 0,void 0,String(e))}function Se(e){var t=new be(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ae=Array.prototype,Te=Object.create(Ae),Ee=["push","pop","shift","unshift","splice","sort","reverse"];Ee.forEach((function(e){var t=Ae[e];W(Te,e,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Me=Object.getOwnPropertyNames(Te),Pe=!0;function Ce(e){Pe=e}var Re=function(e){this.value=e,this.dep=new me,this.vmCount=0,W(e,"__ob__",this),Array.isArray(e)?($?ke(e,Te):Le(e,Te,Me),this.observeArray(e)):this.walk(e)};function ke(e,t){e.__proto__=t}function Le(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(e,o,t[o])}}function Oe(e,t){var n;if(c(e)&&!(e instanceof be))return _(e,"__ob__")&&e.__ob__ instanceof Re?n=e.__ob__:Pe&&!ce()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Re(e)),t&&n&&n.vmCount++,n}function Ie(e,t,n,r,i){var o=new me,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=e[t]);var u=!i&&Oe(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return me.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Fe(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!==t&&r!==r||s&&!c||(c?c.call(e,t):n=t,u=!i&&Oe(t),o.notify())}})}}function Ne(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Ie(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function De(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||_(e,t)&&(delete e[t],n&&n.dep.notify())}}function Fe(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Fe(t)}Re.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Ie(e,t[n])},Re.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Oe(e[t])};var je=H.optionMergeStrategies;function Ue(e,t){if(!t)return e;for(var n,r,i,o=fe?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=e[n],i=t[n],_(e,n)?r!==i&&l(r)&&l(i)&&Ue(r,i):Ne(e,n,i));return e}function ze(e,t,n){return n?function(){var r="function"===typeof t?t.call(n,n):t,i="function"===typeof e?e.call(n,n):e;return r?Ue(r,i):i}:t?e?function(){return Ue("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Be(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?He(n):n}function He(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function Ge(e,t,n,r){var i=Object.create(e||null);return t?k(i,t):i}je.data=function(e,t,n){return n?ze(e,t,n):t&&"function"!==typeof t?e:ze(e,t)},B.forEach((function(e){je[e]=Be})),z.forEach((function(e){je[e+"s"]=Ge})),je.watch=function(e,t,n,r){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in k(i,e),t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},je.props=je.methods=je.inject=je.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return k(i,e),t&&k(i,t),i},je.provide=ze;var Ve=function(e,t){return void 0===t?e:t};function We(e,t){var n=e.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=S(i),a[o]={type:null})}else if(l(n))for(var s in n)i=n[s],o=S(s),a[o]=l(i)?i:{type:i};else 0;e.props=a}}function qe(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?k({from:o},a):{from:a}}else 0}}function Xe(e){var t=e.directives;if(t)for(var n in t){var r=t[n];"function"===typeof r&&(t[n]={bind:r,update:r})}}function Ye(e,t,n){if("function"===typeof t&&(t=t.options),We(t,n),qe(t,n),Xe(t),!t._base&&(t.extends&&(e=Ye(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ye(e,t.mixins[r],n);var o,a={};for(o in e)s(o);for(o in t)_(e,o)||s(o);function s(r){var i=je[r]||Ve;a[r]=i(e[r],t[r],n,r)}return a}function $e(e,t,n,r){if("string"===typeof n){var i=e[t];if(_(i,n))return i[n];var o=S(n);if(_(i,o))return i[o];var a=A(o);if(_(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Ze(e,t,n,r){var i=t[e],o=!_(n,e),a=n[e],s=et(Boolean,i.type);if(s>-1)if(o&&!_(i,"default"))a=!1;else if(""===a||a===E(e)){var c=et(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=Je(r,i,e);var u=Pe;Ce(!0),Oe(a),Ce(u)}return a}function Je(e,t,n){if(_(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof r&&"Function"!==Ke(t.type)?r.call(e):r}}function Ke(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qe(e,t){return Ke(e)===Ke(t)}function et(e,t){if(!Array.isArray(t))return Qe(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Qe(t[n],e))return n;return-1}function tt(e,t,n){ge();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,e,t,n);if(a)return}catch(Sa){rt(Sa,r,"errorCaptured hook")}}}rt(e,t,n)}finally{ye()}}function nt(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&d(o)&&!o._handled&&(o.catch((function(e){return tt(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(Sa){tt(Sa,r,i)}return o}function rt(e,t,n){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,n)}catch(Sa){Sa!==e&&it(Sa,null,"config.errorHandler")}it(e,t,n)}function it(e,t,n){if(!Z&&!J||"undefined"===typeof console)throw e;console.error(e)}var ot,at=!1,st=[],ct=!1;function ut(){ct=!1;var e=st.slice(0);st.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();ot=function(){lt.then(ut),re&&setTimeout(O)},at=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ut)}:function(){setTimeout(ut,0)};else{var ht=1,ft=new MutationObserver(ut),dt=document.createTextNode(String(ht));ft.observe(dt,{characterData:!0}),ot=function(){ht=(ht+1)%2,dt.data=String(ht)},at=!0}function pt(e,t){var n;if(st.push((function(){if(e)try{e.call(t)}catch(Sa){tt(Sa,t,"nextTick")}else n&&n(t)})),ct||(ct=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var mt=new he;function vt(e){gt(e,mt),mt.clear()}function gt(e,t){var n,r,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof be)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){n=e.length;while(n--)gt(e[n],t)}else{r=Object.keys(e),n=r.length;while(n--)gt(e[r[n]],t)}}}var yt=x((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function bt(e,t){function n(){var e=arguments,r=n.fns;if(!Array.isArray(r))return nt(r,null,arguments,t,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)nt(i[o],null,e,t,"v-on handler")}return n.fns=e,n}function _t(e,t,n,i,a,s){var c,u,l,h;for(c in e)u=e[c],l=t[c],h=yt(c),r(u)||(r(l)?(r(u.fns)&&(u=e[c]=bt(u,s)),o(h.once)&&(u=e[c]=a(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==l&&(l.fns=u,e[c]=l));for(c in t)r(e[c])&&(h=yt(c),i(h.name,t[c],h.capture))}function xt(e,t,n){var a;e instanceof be&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function c(){n.apply(this,arguments),y(a.fns,c)}r(s)?a=bt([c]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(c)):a=bt([s,c]),a.merged=!0,e[t]=a}function wt(e,t,n){var o=t.options.props;if(!r(o)){var a={},s=e.attrs,c=e.props;if(i(s)||i(c))for(var u in o){var l=E(u);St(a,c,u,l,!0)||St(a,s,u,l,!1)}return a}}function St(e,t,n,r,o){if(i(t)){if(_(t,n))return e[n]=t[n],o||delete t[n],!0;if(_(t,r))return e[n]=t[r],o||delete t[r],!0}return!1}function At(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Tt(e){return s(e)?[we(e)]:Array.isArray(e)?Mt(e):void 0}function Et(e){return i(e)&&i(e.text)&&a(e.isComment)}function Mt(e,t){var n,a,c,u,l=[];for(n=0;n<e.length;n++)a=e[n],r(a)||"boolean"===typeof a||(c=l.length-1,u=l[c],Array.isArray(a)?a.length>0&&(a=Mt(a,(t||"")+"_"+n),Et(a[0])&&Et(u)&&(l[c]=we(u.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Et(u)?l[c]=we(u.text+a):""!==a&&l.push(we(a)):Et(a)&&Et(u)?l[c]=we(u.text+a.text):(o(e._isVList)&&i(a.tag)&&r(a.key)&&i(t)&&(a.key="__vlist"+t+"_"+n+"__"),l.push(a)));return l}function Pt(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Ct(e){var t=Rt(e.$options.inject,e);t&&(Ce(!1),Object.keys(t).forEach((function(n){Ie(e,n,t[n])})),Ce(!0))}function Rt(e,t){if(e){for(var n=Object.create(null),r=fe?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=e[o].from,s=t;while(s){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var c=e[o].default;n[o]="function"===typeof c?c.call(t):c}else 0}}return n}}function kt(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(Lt)&&delete n[u];return n}function Lt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Ot(e,t,r){var i,o=Object.keys(t).length>0,a=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},e)e[c]&&"$"!==c[0]&&(i[c]=It(t,c,e[c]))}else i={};for(var u in t)u in i||(i[u]=Nt(t,u));return e&&Object.isExtensible(e)&&(e._normalized=i),W(i,"$stable",a),W(i,"$key",s),W(i,"$hasNormal",o),i}function It(e,t,n){var r=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Tt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function Nt(e,t){return function(){return e[t]}}function Dt(e,t){var n,r,o,a,s;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),r=0,o=e.length;r<o;r++)n[r]=t(e[r],r);else if("number"===typeof e)for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(c(e))if(fe&&e[Symbol.iterator]){n=[];var u=e[Symbol.iterator](),l=u.next();while(!l.done)n.push(t(l.value,n.length)),l=u.next()}else for(a=Object.keys(e),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=t(e[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Ft(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=k(k({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function jt(e){return $e(this.$options,"filters",e,!0)||N}function Ut(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function zt(e,t,n,r,i){var o=H.keyCodes[t]||n;return i&&r&&!H.keyCodes[t]?Ut(i,r):o?Ut(o,e):r?E(r)!==t:void 0}function Bt(e,t,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=L(n));var a=function(a){if("class"===a||"style"===a||g(a))o=e;else{var s=e.attrs&&e.attrs.type;o=r||H.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=S(a),u=E(a);if(!(c in o)&&!(u in o)&&(o[a]=n[a],i)){var l=e.on||(e.on={});l["update:"+a]=function(e){n[a]=e}}};for(var s in n)a(s)}else;return e}function Ht(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Vt(r,"__static__"+e,!1)),r}function Gt(e,t,n){return Vt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Vt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Wt(e[r],t+"_"+r,n);else Wt(e,t,n)}function Wt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function qt(e,t){if(t)if(l(t)){var n=e.on=e.on?k({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Xt(e,t,n,r){t=t||{$stable:!n};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?Xt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Yt(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function $t(e,t){return"string"===typeof e?t+e:e}function Zt(e){e._o=Gt,e._n=m,e._s=p,e._l=Dt,e._t=Ft,e._q=D,e._i=F,e._m=Ht,e._f=jt,e._k=zt,e._b=Bt,e._v=we,e._e=xe,e._u=Xt,e._g=qt,e._d=Yt,e._p=$t}function Jt(e,t,r,i,a){var s,c=this,u=a.options;_(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var l=o(u._compiled),h=!l;this.data=e,this.props=t,this.children=r,this.parent=i,this.listeners=e.on||n,this.injections=Rt(u.inject,i),this.slots=function(){return c.$slots||Ot(e.scopedSlots,c.$slots=kt(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ot(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ot(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var o=hn(s,e,t,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(e,t,n,r){return hn(s,e,t,n,r,h)}}function Kt(e,t,r,o,a){var s=e.options,c={},u=s.props;if(i(u))for(var l in u)c[l]=Ze(l,u,t||n);else i(r.attrs)&&en(c,r.attrs),i(r.props)&&en(c,r.props);var h=new Jt(r,c,a,o,e),f=s.render.call(null,h._c,h);if(f instanceof be)return Qt(f,r,h.parent,s,h);if(Array.isArray(f)){for(var d=Tt(f)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Qt(d[m],r,h.parent,s,h);return p}}function Qt(e,t,n,r,i){var o=Se(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function en(e,t){for(var n in t)e[S(n)]=t[n]}Zt(Jt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var r=e.componentInstance=on(e,Rn);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;Nn(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Un(n,"mounted")),e.data.keepAlive&&(t._isMounted?Kn(n):Fn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?jn(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,a,s){if(!r(e)){var u=n.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var l;if(r(e.cid)&&(l=e,e=xn(l,u),void 0===e))return _n(l,t,n,a,s);t=t||{},xr(e),i(t.model)&&cn(e.options,t);var h=wt(t,e,s);if(o(e.options.functional))return Kt(e,h,t,n,a);var f=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var d=t.slot;t={},d&&(t.slot=d)}an(t);var p=e.options.name||s,m=new be("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:h,listeners:f,tag:s,children:a},l);return m}}}function on(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function an(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=t[r],o=tn[r];i===o||i&&i._merged||(t[r]=i?sn(o,i):o)}}function sn(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function cn(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],s=t.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var un=1,ln=2;function hn(e,t,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=ln),fn(e,t,n,r,i)}function fn(e,t,n,r,o){if(i(n)&&i(n.__ob__))return xe();if(i(n)&&i(n.is)&&(t=n.is),!t)return xe();var a,s,c;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=Tt(r):o===un&&(r=At(r)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),a=H.isReservedTag(t)?new be(H.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!i(c=$e(e.$options,"components",t))?new be(t,n,r,void 0,void 0,e):rn(c,n,e,r,t)):a=rn(t,n,e,r);return Array.isArray(a)?a:i(a)?(i(s)&&dn(a,s),i(n)&&pn(n),a):xe()}function dn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),i(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];i(c.tag)&&(r(c.ns)||o(n)&&"svg"!==c.tag)&&dn(c,t,n)}}function pn(e){c(e.style)&&vt(e.style),c(e.class)&&vt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=kt(t._renderChildren,i),e.$scopedSlots=n,e._c=function(t,n,r,i){return hn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return hn(e,t,n,r,i,!0)};var o=r&&r.data;Ie(e,"$attrs",o&&o.attrs||n,null,!0),Ie(e,"$listeners",t._parentListeners||n,null,!0)}var vn,gn=null;function yn(e){Zt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,i=n._parentVnode;i&&(t.$scopedSlots=Ot(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;try{gn=t,e=r.call(t._renderProxy,t.$createElement)}catch(Sa){tt(Sa,t,"render"),e=t._vnode}finally{gn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof be||(e=xe()),e.parent=i,e}}function bn(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function _n(e,t,n,r,i){var o=xe();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function xn(e,t){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var n=gn;if(n&&i(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(n&&!i(e.owners)){var a=e.owners=[n],s=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(a,n)}));var h=function(e){for(var t=0,n=a.length;t<n;t++)a[t].$forceUpdate();e&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},f=j((function(n){e.resolved=bn(n,t),s?a.length=0:h(!0)})),p=j((function(t){i(e.errorComp)&&(e.error=!0,h(!0))})),m=e(f,p);return c(m)&&(d(m)?r(e.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),i(m.error)&&(e.errorComp=bn(m.error,t)),i(m.loading)&&(e.loadingComp=bn(m.loading,t),0===m.delay?e.loading=!0:u=setTimeout((function(){u=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,r(e.resolved)&&p(null)}),m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function wn(e){return e.isComment&&e.asyncFactory}function Sn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(i(n)&&(i(n.componentOptions)||wn(n)))return n}}function An(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Pn(e,t)}function Tn(e,t){vn.$on(e,t)}function En(e,t){vn.$off(e,t)}function Mn(e,t){var n=vn;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function Pn(e,t,n){vn=e,_t(t,n||{},Tn,En,Mn,e),vn=void 0}function Cn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var s=a.length;while(s--)if(o=a[s],o===t||o.fn===t){a.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'+e+'"',o=0,a=n.length;o<a;o++)nt(n[o],t,r,t,i)}return t}}var Rn=null;function kn(e){var t=Rn;return Rn=e,function(){Rn=t}}function Ln(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function On(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=kn(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Un(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Un(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function In(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=xe),Un(e,"beforeMount"),r=function(){e._update(e._render(),n)},new nr(e,r,O,{before:function(){e._isMounted&&!e._isDestroyed&&Un(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Un(e,"mounted")),e}function Nn(e,t,r,i,o){var a=i.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key),u=!!(o||e.$options._renderChildren||c);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||n,e.$listeners=r||n,t&&e.$options.props){Ce(!1);for(var l=e._props,h=e.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=e.$options.props;l[d]=Ze(d,p,t,e)}Ce(!0),e.$options.propsData=t}r=r||n;var m=e.$options._parentListeners;e.$options._parentListeners=r,Pn(e,r,m),u&&(e.$slots=kt(o,i.context),e.$forceUpdate())}function Dn(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Fn(e,t){if(t){if(e._directInactive=!1,Dn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Fn(e.$children[n]);Un(e,"activated")}}function jn(e,t){if((!t||(e._directInactive=!0,!Dn(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)jn(e.$children[n]);Un(e,"deactivated")}}function Un(e,t){ge();var n=e.$options[t],r=t+" hook";if(n)for(var i=0,o=n.length;i<o;i++)nt(n[i],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var zn=[],Bn=[],Hn={},Gn=!1,Vn=!1,Wn=0;function qn(){Wn=zn.length=Bn.length=0,Hn={},Gn=Vn=!1}var Xn=0,Yn=Date.now;if(Z&&!ee){var $n=window.performance;$n&&"function"===typeof $n.now&&Yn()>document.createEvent("Event").timeStamp&&(Yn=function(){return $n.now()})}function Zn(){var e,t;for(Xn=Yn(),Vn=!0,zn.sort((function(e,t){return e.id-t.id})),Wn=0;Wn<zn.length;Wn++)e=zn[Wn],e.before&&e.before(),t=e.id,Hn[t]=null,e.run();var n=Bn.slice(),r=zn.slice();qn(),Qn(n),Jn(r),ue&&H.devtools&&ue.emit("flush")}function Jn(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Un(r,"updated")}}function Kn(e){e._inactive=!1,Bn.push(e)}function Qn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Fn(e[t],!0)}function er(e){var t=e.id;if(null==Hn[t]){if(Hn[t]=!0,Vn){var n=zn.length-1;while(n>Wn&&zn[n].id>e.id)n--;zn.splice(n+1,0,e)}else zn.push(e);Gn||(Gn=!0,pt(Zn))}}var tr=0,nr=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new he,this.newDepIds=new he,this.expression="","function"===typeof t?this.getter=t:(this.getter=X(t),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var e;ge(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Sa){if(!this.user)throw Sa;tt(Sa,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),ye(),this.cleanupDeps()}return e},nr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},nr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():er(this)},nr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Sa){tt(Sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:O,set:O};function ir(e,t,n){rr.get=function(){return this[t][n]},rr.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rr)}function or(e){e._watchers=[];var t=e.$options;t.props&&ar(e,t.props),t.methods&&pr(e,t.methods),t.data?sr(e):Oe(e._data={},!0),t.computed&&lr(e,t.computed),t.watch&&t.watch!==oe&&mr(e,t.watch)}function ar(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Ce(!1);var a=function(o){i.push(o);var a=Ze(o,t,n,e);Ie(r,o,a),o in e||ir(e,"_props",o)};for(var s in t)a(s);Ce(!0)}function sr(e){var t=e.$options.data;t=e._data="function"===typeof t?cr(t,e):t||{},l(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&_(r,o)||V(o)||ir(e,"_data",o)}Oe(t,!0)}function cr(e,t){ge();try{return e.call(t,t)}catch(Sa){return tt(Sa,t,"data()"),{}}finally{ye()}}var ur={lazy:!0};function lr(e,t){var n=e._computedWatchers=Object.create(null),r=ce();for(var i in t){var o=t[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new nr(e,a||O,O,ur)),i in e||hr(e,i,o)}}function hr(e,t,n){var r=!ce();"function"===typeof n?(rr.get=r?fr(t):dr(n),rr.set=O):(rr.get=n.get?r&&!1!==n.cache?fr(t):dr(n.get):O,rr.set=n.set||O),Object.defineProperty(e,t,rr)}function fr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function dr(e){return function(){return e.call(this,this)}}function pr(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?O:C(t[n],e)}function mr(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)vr(e,n,r[i]);else vr(e,n,r)}}function vr(e,t,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function gr(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ne,e.prototype.$delete=De,e.prototype.$watch=function(e,t,n){var r=this;if(l(t))return vr(r,e,t,n);n=n||{},n.user=!0;var i=new nr(r,e,t,n);if(n.immediate)try{t.call(r,i.value)}catch(o){tt(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function br(e){e.prototype._init=function(e){var t=this;t._uid=yr++,t._isVue=!0,e&&e._isComponent?_r(t,e):t.$options=Ye(xr(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Ln(t),An(t),mn(t),Un(t,"beforeCreate"),Ct(t),or(t),Pt(t),Un(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function _r(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function xr(e){var t=e.options;if(e.super){var n=xr(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=wr(e);i&&k(e.extendOptions,i),t=e.options=Ye(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function wr(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function Sr(e){this._init(e)}function Ar(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=R(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Tr(e){e.mixin=function(e){return this.options=Ye(this.options,e),this}}function Er(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=Ye(n.options,e),a["super"]=n,a.options.props&&Mr(a),a.options.computed&&Pr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,z.forEach((function(e){a[e]=n[e]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=k({},a.options),i[r]=a,a}}function Mr(e){var t=e.options.props;for(var n in t)ir(e.prototype,"_props",n)}function Pr(e){var t=e.options.computed;for(var n in t)hr(e.prototype,n,t[n])}function Cr(e){z.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Rr(e){return e&&(e.Ctor.options.name||e.tag)}function kr(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function Lr(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var a=n[o];if(a){var s=Rr(a.componentOptions);s&&!t(s)&&Or(n,o,r,i)}}}function Or(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,y(n,t)}br(Sr),gr(Sr),Cn(Sr),On(Sr),yn(Sr);var Ir=[String,RegExp,Array],Nr={name:"keep-alive",abstract:!0,props:{include:Ir,exclude:Ir,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Or(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Lr(e,(function(e){return kr(t,e)}))})),this.$watch("exclude",(function(t){Lr(e,(function(e){return!kr(t,e)}))}))},render:function(){var e=this.$slots.default,t=Sn(e),n=t&&t.componentOptions;if(n){var r=Rr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!kr(o,r))||a&&r&&kr(a,r))return t;var s=this,c=s.cache,u=s.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;c[l]?(t.componentInstance=c[l].componentInstance,y(u,l),u.push(l)):(c[l]=t,u.push(l),this.max&&u.length>parseInt(this.max)&&Or(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Dr={KeepAlive:Nr};function Fr(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:de,extend:k,mergeOptions:Ye,defineReactive:Ie},e.set=Ne,e.delete=De,e.nextTick=pt,e.observable=function(e){return Oe(e),e},e.options=Object.create(null),z.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,k(e.options.components,Dr),Ar(e),Tr(e),Er(e),Cr(e)}Fr(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ce}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:Jt}),Sr.version="2.6.11";var jr=v("style,class"),Ur=v("input,textarea,option,select,progress"),zr=function(e,t,n){return"value"===n&&Ur(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Br=v("contenteditable,draggable,spellcheck"),Hr=v("events,caret,typing,plaintext-only"),Gr=function(e,t){return Yr(t)||"false"===t?"false":"contenteditable"===e&&Hr(t)?t:"true"},Vr=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",qr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Xr=function(e){return qr(e)?e.slice(6,e.length):""},Yr=function(e){return null==e||!1===e};function $r(e){var t=e.data,n=e,r=e;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Zr(r.data,t));while(i(n=n.parent))n&&n.data&&(t=Zr(t,n.data));return Jr(t.staticClass,t.class)}function Zr(e,t){return{staticClass:Kr(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function Jr(e,t){return i(e)||i(t)?Kr(e,Qr(t)):""}function Kr(e,t){return e?t?e+" "+t:e:t||""}function Qr(e){return Array.isArray(e)?ei(e):c(e)?ti(e):"string"===typeof e?e:""}function ei(e){for(var t,n="",r=0,o=e.length;r<o;r++)i(t=Qr(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ti(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(e){return ri(e)||ii(e)};function ai(e){return ii(e)?"svg":"math"===e?"math":void 0}var si=Object.create(null);function ci(e){if(!Z)return!0;if(oi(e))return!1;if(e=e.toLowerCase(),null!=si[e])return si[e];var t=document.createElement(e);return e.indexOf("-")>-1?si[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:si[e]=/HTMLUnknownElement/.test(t.toString())}var ui=v("text,number,password,search,email,tel,url");function li(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function hi(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function fi(e,t){return document.createElementNS(ni[e],t)}function di(e){return document.createTextNode(e)}function pi(e){return document.createComment(e)}function mi(e,t,n){e.insertBefore(t,n)}function vi(e,t){e.removeChild(t)}function gi(e,t){e.appendChild(t)}function yi(e){return e.parentNode}function bi(e){return e.nextSibling}function _i(e){return e.tagName}function xi(e,t){e.textContent=t}function wi(e,t){e.setAttribute(t,"")}var Si=Object.freeze({createElement:hi,createElementNS:fi,createTextNode:di,createComment:pi,insertBefore:mi,removeChild:vi,appendChild:gi,parentNode:yi,nextSibling:bi,tagName:_i,setTextContent:xi,setStyleScope:wi}),Ai={create:function(e,t){Ti(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ti(e,!0),Ti(t))},destroy:function(e){Ti(e,!0)}};function Ti(e,t){var n=e.data.ref;if(i(n)){var r=e.context,o=e.componentInstance||e.elm,a=r.$refs;t?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Ei=new be("",{},[]),Mi=["create","activate","update","remove","destroy"];function Pi(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&Ci(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&r(t.asyncFactory.error))}function Ci(e,t){if("input"!==e.tag)return!0;var n,r=i(n=e.data)&&i(n=n.attrs)&&n.type,o=i(n=t.data)&&i(n=n.attrs)&&n.type;return r===o||ui(r)&&ui(o)}function Ri(e,t,n){var r,o,a={};for(r=t;r<=n;++r)o=e[r].key,i(o)&&(a[o]=r);return a}function ki(e){var t,n,a={},c=e.modules,u=e.nodeOps;for(t=0;t<Mi.length;++t)for(a[Mi[t]]=[],n=0;n<c.length;++n)i(c[n][Mi[t]])&&a[Mi[t]].push(c[n][Mi[t]]);function l(e){return new be(u.tagName(e).toLowerCase(),{},[],void 0,e)}function h(e,t){function n(){0===--n.listeners&&f(e)}return n.listeners=t,n}function f(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function d(e,t,n,r,a,s,c){if(i(e.elm)&&i(s)&&(e=s[c]=Se(e)),e.isRootInsert=!a,!p(e,t,n,r)){var l=e.data,h=e.children,f=e.tag;i(f)?(e.elm=e.ns?u.createElementNS(e.ns,f):u.createElement(f,e),w(e),b(e,h,t),i(l)&&x(e,t),y(n,e.elm,r)):o(e.isComment)?(e.elm=u.createComment(e.text),y(n,e.elm,r)):(e.elm=u.createTextNode(e.text),y(n,e.elm,r))}}function p(e,t,n,r){var a=e.data;if(i(a)){var s=i(e.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(e,!1),i(e.componentInstance))return m(e,t),y(n,e.elm,r),o(s)&&g(e,t,n,r),!0}}function m(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,_(e)?(x(e,t),w(e)):(Ti(e),t.push(e))}function g(e,t,n,r){var o,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Ei,s);t.push(s);break}y(n,e.elm,r)}function y(e,t,n){i(e)&&(i(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function b(e,t,n){if(Array.isArray(t)){0;for(var r=0;r<t.length;++r)d(t[r],n,e.elm,null,!0,t,r)}else s(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function _(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function x(e,n){for(var r=0;r<a.create.length;++r)a.create[r](Ei,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(Ei,e),i(t.insert)&&n.push(e))}function w(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)i(t=n.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}i(t=Rn)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function S(e,t,n,r,i,o){for(;r<=i;++r)d(n[r],o,e,t,!1,n,r)}function A(e){var t,n,r=e.data;if(i(r))for(i(t=r.hook)&&i(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(i(t=e.children))for(n=0;n<e.children.length;++n)A(e.children[n])}function T(e,t,n){for(;t<=n;++t){var r=e[t];i(r)&&(i(r.tag)?(E(r),A(r)):f(r.elm))}}function E(e,t){if(i(t)||i(e.data)){var n,r=a.remove.length+1;for(i(t)?t.listeners+=r:t=h(e.elm,r),i(n=e.componentInstance)&&i(n=n._vnode)&&i(n.data)&&E(n,t),n=0;n<a.remove.length;++n)a.remove[n](e,t);i(n=e.data.hook)&&i(n=n.remove)?n(e,t):t()}else f(e.elm)}function M(e,t,n,o,a){var s,c,l,h,f=0,p=0,m=t.length-1,v=t[0],g=t[m],y=n.length-1,b=n[0],_=n[y],x=!a;while(f<=m&&p<=y)r(v)?v=t[++f]:r(g)?g=t[--m]:Pi(v,b)?(C(v,b,o,n,p),v=t[++f],b=n[++p]):Pi(g,_)?(C(g,_,o,n,y),g=t[--m],_=n[--y]):Pi(v,_)?(C(v,_,o,n,y),x&&u.insertBefore(e,v.elm,u.nextSibling(g.elm)),v=t[++f],_=n[--y]):Pi(g,b)?(C(g,b,o,n,p),x&&u.insertBefore(e,g.elm,v.elm),g=t[--m],b=n[++p]):(r(s)&&(s=Ri(t,f,m)),c=i(b.key)?s[b.key]:P(b,t,f,m),r(c)?d(b,o,e,v.elm,!1,n,p):(l=t[c],Pi(l,b)?(C(l,b,o,n,p),t[c]=void 0,x&&u.insertBefore(e,l.elm,v.elm)):d(b,o,e,v.elm,!1,n,p)),b=n[++p]);f>m?(h=r(n[y+1])?null:n[y+1].elm,S(e,h,n,p,y,o)):p>y&&T(t,f,m)}function P(e,t,n,r){for(var o=n;o<r;o++){var a=t[o];if(i(a)&&Pi(e,a))return o}}function C(e,t,n,s,c,l){if(e!==t){i(t.elm)&&i(s)&&(t=s[c]=Se(t));var h=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?L(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,d=t.data;i(d)&&i(f=d.hook)&&i(f=f.prepatch)&&f(e,t);var p=e.children,m=t.children;if(i(d)&&_(t)){for(f=0;f<a.update.length;++f)a.update[f](e,t);i(f=d.hook)&&i(f=f.update)&&f(e,t)}r(t.text)?i(p)&&i(m)?p!==m&&M(h,p,m,n,l):i(m)?(i(e.text)&&u.setTextContent(h,""),S(h,null,m,0,m.length-1,n)):i(p)?T(p,0,p.length-1):i(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),i(d)&&i(f=d.hook)&&i(f=f.postpatch)&&f(e,t)}}}function R(e,t,n){if(o(n)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var k=v("attrs,class,staticClass,staticStyle,key");function L(e,t,n,r){var a,s=t.tag,c=t.data,u=t.children;if(r=r||c&&c.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(a=c.hook)&&i(a=a.init)&&a(t,!0),i(a=t.componentInstance)))return m(t,n),!0;if(i(s)){if(i(u))if(e.hasChildNodes())if(i(a=c)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var l=!0,h=e.firstChild,f=0;f<u.length;f++){if(!h||!L(h,u[f],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else b(t,u,n);if(i(c)){var d=!1;for(var p in c)if(!k(p)){d=!0,x(t,n);break}!d&&c["class"]&&vt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!r(t)){var c=!1,h=[];if(r(e))c=!0,d(t,h);else{var f=i(e.nodeType);if(!f&&Pi(e,t))C(e,t,h,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(U)&&(e.removeAttribute(U),n=!0),o(n)&&L(e,t,h))return R(t,h,!0),e;e=l(e)}var p=e.elm,m=u.parentNode(p);if(d(t,h,p._leaveCb?null:m,u.nextSibling(p)),i(t.parent)){var v=t.parent,g=_(t);while(v){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=t.elm,g){for(var b=0;b<a.create.length;++b)a.create[b](Ei,v);var x=v.data.hook.insert;if(x.merged)for(var w=1;w<x.fns.length;w++)x.fns[w]()}else Ti(v);v=v.parent}}i(m)?T([e],0,0):i(e.tag)&&A(e)}}return R(t,h,c),t.elm}i(e)&&A(e)}}var Li={create:Oi,update:Oi,destroy:function(e){Oi(e,Ei)}};function Oi(e,t){(e.data.directives||t.data.directives)&&Ii(e,t)}function Ii(e,t){var n,r,i,o=e===Ei,a=t===Ei,s=Di(e.data.directives,e.context),c=Di(t.data.directives,t.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,ji(i,"update",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(ji(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var h=function(){for(var n=0;n<u.length;n++)ji(u[n],"inserted",t,e)};o?xt(t,"insert",h):h()}if(l.length&&xt(t,"postpatch",(function(){for(var n=0;n<l.length;n++)ji(l[n],"componentUpdated",t,e)})),!o)for(n in s)c[n]||ji(s[n],"unbind",e,e,a)}var Ni=Object.create(null);function Di(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=Ni),i[Fi(r)]=r,r.def=$e(t.$options,"directives",r.name,!0);return i}function Fi(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ji(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(Sa){tt(Sa,n.context,"directive "+e.name+" "+t+" hook")}}var Ui=[Ai,Li];function zi(e,t){var n=t.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var o,a,s,c=t.elm,u=e.data.attrs||{},l=t.data.attrs||{};for(o in i(l.__ob__)&&(l=t.data.attrs=k({},l)),l)a=l[o],s=u[o],s!==a&&Bi(c,o,a);for(o in(ee||ne)&&l.value!==u.value&&Bi(c,"value",l.value),u)r(l[o])&&(qr(o)?c.removeAttributeNS(Wr,Xr(o)):Br(o)||c.removeAttribute(o))}}function Bi(e,t,n){e.tagName.indexOf("-")>-1?Hi(e,t,n):Vr(t)?Yr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Br(t)?e.setAttribute(t,Gr(t,n)):qr(t)?Yr(n)?e.removeAttributeNS(Wr,Xr(t)):e.setAttributeNS(Wr,t,n):Hi(e,t,n)}function Hi(e,t,n){if(Yr(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var Gi={create:zi,update:zi};function Vi(e,t){var n=t.elm,o=t.data,a=e.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=$r(t),c=n._transitionClasses;i(c)&&(s=Kr(s,Qr(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Wi,qi={create:Vi,update:Vi},Xi="__r",Yi="__c";function $i(e){if(i(e[Xi])){var t=ee?"change":"input";e[t]=[].concat(e[Xi],e[t]||[]),delete e[Xi]}i(e[Yi])&&(e.change=[].concat(e[Yi],e.change||[]),delete e[Yi])}function Zi(e,t,n){var r=Wi;return function i(){var o=t.apply(null,arguments);null!==o&&Qi(e,i,n,r)}}var Ji=at&&!(ie&&Number(ie[1])<=53);function Ki(e,t,n,r){if(Ji){var i=Xn,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Wi.addEventListener(e,t,ae?{capture:n,passive:r}:n)}function Qi(e,t,n,r){(r||Wi).removeEventListener(e,t._wrapper||t,n)}function eo(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};Wi=t.elm,$i(n),_t(n,i,Ki,Qi,Zi,t.context),Wi=void 0}}var to,no={create:eo,update:eo};function ro(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(n in i(c.__ob__)&&(c=t.data.domProps=k({},c)),s)n in c||(a[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=r(o)?"":String(o);io(a,u)&&(a.value=u)}else if("innerHTML"===n&&ii(a.tagName)&&r(a.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var l=to.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(Sa){}}}}function io(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||ao(e,t))}function oo(e,t){var n=!0;try{n=document.activeElement!==e}catch(Sa){}return n&&e.value!==t}function ao(e,t){var n=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(n)!==m(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var so={create:ro,update:ro},co=x((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function uo(e){var t=lo(e.style);return e.staticStyle?k(e.staticStyle,t):t}function lo(e){return Array.isArray(e)?L(e):"string"===typeof e?co(e):e}function ho(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=uo(i.data))&&k(r,n)}(n=uo(e.data))&&k(r,n);var o=e;while(o=o.parent)o.data&&(n=uo(o.data))&&k(r,n);return r}var fo,po=/^--/,mo=/\s*!important$/,vo=function(e,t,n){if(po.test(t))e.style.setProperty(t,n);else if(mo.test(n))e.style.setProperty(E(t),n.replace(mo,""),"important");else{var r=yo(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},go=["Webkit","Moz","ms"],yo=x((function(e){if(fo=fo||document.createElement("div").style,e=S(e),"filter"!==e&&e in fo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<go.length;n++){var r=go[n]+t;if(r in fo)return r}}));function bo(e,t){var n=t.data,o=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,c=t.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},h=u||l,f=lo(t.data.style)||{};t.data.normalizedStyle=i(f.__ob__)?k({},f):f;var d=ho(t,!0);for(s in h)r(d[s])&&vo(c,s,"");for(s in d)a=d[s],a!==h[s]&&vo(c,s,null==a?"":a)}}var _o={create:bo,update:bo},xo=/\s+/;function wo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(xo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function So(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(xo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Ao(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&k(t,To(e.name||"v")),k(t,e),t}return"string"===typeof e?To(e):void 0}}var To=x((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Eo=Z&&!te,Mo="transition",Po="animation",Co="transition",Ro="transitionend",ko="animation",Lo="animationend";Eo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Co="WebkitTransition",Ro="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ko="WebkitAnimation",Lo="webkitAnimationEnd"));var Oo=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Io(e){Oo((function(){Oo(e)}))}function No(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),wo(e,t))}function Do(e,t){e._transitionClasses&&y(e._transitionClasses,t),So(e,t)}function Fo(e,t,n){var r=Uo(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Mo?Ro:Lo,c=0,u=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),o+1),e.addEventListener(s,l)}var jo=/\b(transform|all)(,|$)/;function Uo(e,t){var n,r=window.getComputedStyle(e),i=(r[Co+"Delay"]||"").split(", "),o=(r[Co+"Duration"]||"").split(", "),a=zo(i,o),s=(r[ko+"Delay"]||"").split(", "),c=(r[ko+"Duration"]||"").split(", "),u=zo(s,c),l=0,h=0;t===Mo?a>0&&(n=Mo,l=a,h=o.length):t===Po?u>0&&(n=Po,l=u,h=c.length):(l=Math.max(a,u),n=l>0?a>u?Mo:Po:null,h=n?n===Mo?o.length:c.length:0);var f=n===Mo&&jo.test(r[Co+"Property"]);return{type:n,timeout:l,propCount:h,hasTransform:f}}function zo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Bo(t)+Bo(e[n])})))}function Bo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ho(e,t){var n=e.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Ao(e.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,u=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,v=o.beforeEnter,g=o.enter,y=o.afterEnter,b=o.enterCancelled,_=o.beforeAppear,x=o.appear,w=o.afterAppear,S=o.appearCancelled,A=o.duration,T=Rn,E=Rn.$vnode;while(E&&E.parent)T=E.context,E=E.parent;var M=!T._isMounted||!e.isRootInsert;if(!M||x||""===x){var P=M&&f?f:u,C=M&&p?p:h,R=M&&d?d:l,k=M&&_||v,L=M&&"function"===typeof x?x:g,O=M&&w||y,I=M&&S||b,N=m(c(A)?A.enter:A);0;var D=!1!==a&&!te,F=Wo(L),U=n._enterCb=j((function(){D&&(Do(n,R),Do(n,C)),U.cancelled?(D&&Do(n,P),I&&I(n)):O&&O(n),n._enterCb=null}));e.data.show||xt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,U)})),k&&k(n),D&&(No(n,P),No(n,C),Io((function(){Do(n,P),U.cancelled||(No(n,R),F||(Vo(N)?setTimeout(U,N):Fo(n,s,U)))}))),e.data.show&&(t&&t(),L&&L(n,U)),D||F||U()}}}function Go(e,t){var n=e.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Ao(e.data.transition);if(r(o)||1!==n.nodeType)return t();if(!i(n._leaveCb)){var a=o.css,s=o.type,u=o.leaveClass,l=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,v=o.leaveCancelled,g=o.delayLeave,y=o.duration,b=!1!==a&&!te,_=Wo(d),x=m(c(y)?y.leave:y);0;var w=n._leaveCb=j((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(Do(n,l),Do(n,h)),w.cancelled?(b&&Do(n,u),v&&v(n)):(t(),p&&p(n)),n._leaveCb=null}));g?g(S):S()}function S(){w.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),f&&f(n),b&&(No(n,u),No(n,h),Io((function(){Do(n,u),w.cancelled||(No(n,l),_||(Vo(x)?setTimeout(w,x):Fo(n,s,w)))}))),d&&d(n,w),b||_||w())}}function Vo(e){return"number"===typeof e&&!isNaN(e)}function Wo(e){if(r(e))return!1;var t=e.fns;return i(t)?Wo(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function qo(e,t){!0!==t.data.show&&Ho(t)}var Xo=Z?{create:qo,activate:qo,remove:function(e,t){!0!==e.data.show?Go(e,t):t()}}:{},Yo=[Gi,qi,no,so,_o,Xo],$o=Yo.concat(Ui),Zo=ki({nodeOps:Si,modules:$o});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&ia(e,"input")}));var Jo={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?xt(n,"postpatch",(function(){Jo.componentUpdated(e,t,n)})):Ko(e,t,n.context),e._vOptions=[].map.call(e.options,ta)):("textarea"===n.tag||ui(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",na),e.addEventListener("compositionend",ra),e.addEventListener("change",ra),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ko(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ta);if(i.some((function(e,t){return!D(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return ea(e,i)})):t.value!==t.oldValue&&ea(t.value,i);o&&ia(e,"change")}}}};function Ko(e,t,n){Qo(e,t,n),(ee||ne)&&setTimeout((function(){Qo(e,t,n)}),0)}function Qo(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=F(r,ta(a))>-1,a.selected!==o&&(a.selected=o);else if(D(ta(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function ea(e,t){return t.every((function(t){return!D(t,e)}))}function ta(e){return"_value"in e?e._value:e.value}function na(e){e.target.composing=!0}function ra(e){e.target.composing&&(e.target.composing=!1,ia(e.target,"input"))}function ia(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function oa(e){return!e.componentInstance||e.data&&e.data.transition?e:oa(e.componentInstance._vnode)}var aa={bind:function(e,t,n){var r=t.value;n=oa(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,Ho(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=oa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Ho(n,(function(){e.style.display=e.__vOriginalDisplay})):Go(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},sa={model:Jo,show:aa},ca={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ua(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ua(Sn(t.children)):e}function la(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[S(o)]=i[o];return t}function ha(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function fa(e){while(e=e.parent)if(e.data.transition)return!0}function da(e,t){return t.key===e.key&&t.tag===e.tag}var pa=function(e){return e.tag||wn(e)},ma=function(e){return"show"===e.name},va={name:"transition",props:ca,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(pa),n.length)){0;var r=this.mode;0;var i=n[0];if(fa(this.$vnode))return i;var o=ua(i);if(!o)return i;if(this._leaving)return ha(e,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var c=(o.data||(o.data={})).transition=la(this),u=this._vnode,l=ua(u);if(o.data.directives&&o.data.directives.some(ma)&&(o.data.show=!0),l&&l.data&&!da(o,l)&&!wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=k({},c);if("out-in"===r)return this._leaving=!0,xt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),ha(e,i);if("in-out"===r){if(wn(o))return u;var f,d=function(){f()};xt(c,"afterEnter",d),xt(c,"enterCancelled",d),xt(h,"delayLeave",(function(e){f=e}))}}return i}}},ga=k({tag:String,moveClass:String},ca);delete ga.mode;var ya={props:ga,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=kn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=la(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var u=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ba),e.forEach(_a),e.forEach(xa),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;No(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ro,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ro,e),n._moveCb=null,Do(n,t))})}})))},methods:{hasMove:function(e,t){if(!Eo)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){So(n,e)})),wo(n,t),n.style.display="none",this.$el.appendChild(n);var r=Uo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ba(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function _a(e){e.data.newPos=e.elm.getBoundingClientRect()}function xa(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var wa={Transition:va,TransitionGroup:ya};Sr.config.mustUseProp=zr,Sr.config.isReservedTag=oi,Sr.config.isReservedAttr=jr,Sr.config.getTagNamespace=ai,Sr.config.isUnknownElement=ci,k(Sr.options.directives,sa),k(Sr.options.components,wa),Sr.prototype.__patch__=Z?Zo:O,Sr.prototype.$mount=function(e,t){return e=e&&Z?li(e):void 0,In(this,e,t)},Z&&setTimeout((function(){H.devtools&&ue&&ue.emit("init",Sr)}),0),t["default"]=Sr}.call(this,n("c8ba"))},"2cf4":function(e,t,n){var r,i,o,a=n("da84"),s=n("d039"),c=n("c6b6"),u=n("0366"),l=n("1be4"),h=n("cc12"),f=n("1cdc"),d=a.location,p=a.setImmediate,m=a.clearImmediate,v=a.process,g=a.MessageChannel,y=a.Dispatch,b=0,_={},x="onreadystatechange",w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){w(e)}},A=function(e){w(e.data)},T=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete _[e]},"process"==c(v)?r=function(e){v.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:g&&!f?(i=new g,o=i.port2,i.port1.onmessage=A,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(T)||"file:"===d.protocol?r=x in h("script")?function(e){l.appendChild(h("script"))[x]=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=T,a.addEventListener("message",A,!1))),e.exports={set:p,clear:m}},"2d00":function(e,t,n){var r,i,o=n("da84"),a=n("342f"),s=o.process,c=s&&s.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),a=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,c=0;while(s>c)i.f(e,n=r[c++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4383:function(module,exports,__webpack_require__){(function(Buffer,process,global){
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
(function(e,t){module.exports=t()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return o.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return o.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}});var r=n(1),i=n(198),o=n(5),a=n(209),s=n(200),c=n(203),u=n(210),l=n(211),h=n(7),f=h.isNodeJS;if(f){var d=n(212).PDFNodeStream;(0,i.setPDFNetworkStreamFactory)((function(e){return new d(e)}))}else{var p,m=n(215).PDFNetworkStream;(0,r.isFetchSupported)()&&(p=n(216).PDFFetchStream),(0,i.setPDFNetworkStreamFactory)((function(e){return p&&(0,r.isValidFetchUrl)(e.url)?new p(e):new m(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=R,t.getFilenameFromUrl=k,t.isFetchSupported=I,t.isValidFetchUrl=N,t.loadScript=D,t.deprecated=F,t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var r=o(n(2)),i=n(5);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}var w="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=w;var S="http://www.w3.org/2000/svg",A=function(){function e(){b(this,e)}return x(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.DOMCanvasFactory=A;var T=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,o=void 0!==i&&i;b(this,e),this.baseUrl=r,this.isCompressed=o}return x(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=y(r["default"].mark((function e(t){var n,o,a,s=this;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(o=this.baseUrl+n+(this.isCompressed?".bcmap":""),a=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE,!I()||!N(o,document.baseURI)){e.next=9;break}return e.abrupt("return",fetch(o).then(function(){var e=y(r["default"].mark((function e(t){var n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(!s.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,t.arrayBuffer();case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=i.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:a});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(o))})));case 9:return e.abrupt("return",new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",o,!0),s.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var r;if(200===n.status||0===n.status)if(s.isCompressed&&n.response?r=new Uint8Array(n.response):!s.isCompressed&&n.responseText&&(r=(0,i.stringToBytes)(n.responseText)),r)return void e({cMapData:r,compressionType:a});t(new Error(n.statusText))}},n.send(null)}))["catch"]((function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(o))})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}]),e}();t.DOMCMapReaderFactory=T;var E=function(){function e(){b(this,e)}return x(e,[{key:"create",value:function(e,t){(0,i.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(S,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,i.assert)("string"===typeof e,"Invalid SVG element type"),document.createElementNS(S,e)}}]),e}();t.DOMSVGFactory=E;var M=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,o=t.offsetX,a=void 0===o?0:o,s=t.offsetY,c=void 0===s?0:s,u=t.dontFlip,l=void 0!==u&&u;b(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=c;var h,f,d,p,m,v,g,y,_=(n[2]+n[0])/2,x=(n[3]+n[1])/2;switch(i%=360,i=i<0?i+360:i,i){case 180:h=-1,f=0,d=0,p=1;break;case 90:h=0,f=1,d=1,p=0;break;case 270:h=0,f=-1,d=-1,p=0;break;case 0:h=1,f=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(d=-d,p=-p),0===h?(m=Math.abs(x-n[1])*r+a,v=Math.abs(_-n[0])*r+c,g=Math.abs(n[3]-n[1])*r,y=Math.abs(n[2]-n[0])*r):(m=Math.abs(_-n[0])*r+a,v=Math.abs(x-n[1])*r+c,g=Math.abs(n[2]-n[0])*r,y=Math.abs(n[3]-n[1])*r),this.transform=[h*r,f*r,d*r,p*r,m-h*r*_-d*r*x,v-f*r*_-p*r*x],this.width=g,this.height=y}return x(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,o=void 0===i?this.rotation:i,a=t.offsetX,s=void 0===a?this.offsetX:a,c=t.offsetY,u=void 0===c?this.offsetY:c,l=t.dontFlip,h=void 0!==l&&l;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:s,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(e,t){return i.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=M;var P=function(e){l(n,e);var t=f(n);function n(e,r){var i;return b(this,n),i=t.call(this,e),i.type=r,i}return n}(i.BaseException);t.RenderingCancelledException=P;var C={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.target,o=t.rel,a=t.enabled,s=void 0===a||a;(0,i.assert)(n&&"string"===typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var c=(0,i.removeNullCharacters)(n);s?e.href=e.title=c:(e.href="",e.title="Disabled: ".concat(c),e.onclick=function(){return!1});var u="";switch(r){case C.NONE:break;case C.SELF:u="_self";break;case C.BLANK:u="_blank";break;case C.PARENT:u="_parent";break;case C.TOP:u="_top";break}e.target=u,e.rel="string"===typeof o?o:w}function k(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)}t.LinkTarget=C;var L,O=function(){function e(){b(this,e),this.started=Object.create(null),this.times=[]}return x(e,[{key:"time",value:function(e){e in this.started&&(0,i.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,i.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=a(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.name;o.length>n&&(n=o.length)}}catch(h){r.e(h)}finally{r.f()}var s,c=a(this.times);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=u.end-u.start;t.push("".concat(u.name.padEnd(n)," ").concat(l,"ms\n"))}}catch(h){c.e(h)}finally{c.f()}return t.join("")}}]),e}();function I(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function N(e,t){try{var n=t?new URL(e,t):new URL(e),r=n.protocol;return"http:"===r||"https:"===r}catch(i){return!1}}function D(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){n(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)}))}function F(e){console.log("Deprecated API usage: "+e)}t.StatTimer=O;var j=function(){function e(){b(this,e)}return x(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,i.isString)(e))return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=L.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;var o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;var a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;var u=t[7]||"Z",l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;var h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===u?(a+=l,s+=h):"+"===u&&(a-=l,s-=h),new Date(Date.UTC(n,r,o,a,s,c))}}]),e}();t.PDFDateString=j},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";(function(e){function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=T(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==r&&i.call(x,a)&&(b=x);var w=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e,n){function r(o,a,s,c){var u=l(e[o],e,a);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"===t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(f).then((function(e){h.value=e,s(h)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;function a(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return o=o?o.then(i,i):i()}this._invoke=a}function T(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return k()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:n,done:!0}}return g.prototype=w.constructor=y,y.constructor=g,y[c]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(A.prototype),A.prototype[s]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new A(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=f();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=re,t.arraysToBytes=ie,t.assert=z,t.bytesToString=te,t.createPromiseCapability=we,t.getVerbosityLevel=D,t.info=F,t.isArrayBuffer=_e,t.isArrayEqual=xe,t.isBool=ge,t.isEmptyObj=ve,t.isNum=ye,t.isString=be,t.isSameOrigin=B,t.createValidAbsoluteUrl=G,t.removeNullCharacters=ee,t.setVerbosityLevel=N,t.shadow=V,t.string32=oe,t.stringToBytes=ne,t.stringToPDFString=de,t.stringToUTF8String=pe,t.utf8StringToString=me,t.warn=j,t.unreachable=U,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(6);var p=[1,0,0,1,0,0];t.IDENTITY_MATRIX=p;var m=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=m;var v={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=v;var g={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=g;var y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=y;var b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=b;var _={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=_;var x={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=x;var w={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=w;var S={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=S;var A={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=A;var T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=T;var E={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=E;var M={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=M;var P={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=P;var C={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=C;var R={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=R;var k={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=k;var L={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"};t.UNSUPPORTED_FEATURES=L;var O={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=O;var I=C.WARNINGS;function N(e){Number.isInteger(e)&&(I=e)}function D(){return I}function F(e){I>=C.INFOS&&console.log("Info: ".concat(e))}function j(e){I>=C.WARNINGS&&console.log("Warning: ".concat(e))}function U(e){throw new Error(e)}function z(e,t){e||U(t)}function B(e,t){var n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin}function H(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(H(n))return n}catch(r){}return null}function V(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var W=function(){function e(t){this.constructor===e&&U("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=W;var q=function(e){s(n,e);var t=u(n);function n(e,r){var i;return a(this,n),i=t.call(this,e),i.code=r,i}return n}(W);t.PasswordException=q;var X=function(e){s(n,e);var t=u(n);function n(e,r){var i;return a(this,n),i=t.call(this,e),i.details=r,i}return n}(W);t.UnknownErrorException=X;var Y=function(e){s(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(W);t.InvalidPDFException=Y;var $=function(e){s(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(W);t.MissingPDFException=$;var Z=function(e){s(n,e);var t=u(n);function n(e,r){var i;return a(this,n),i=t.call(this,e),i.status=r,i}return n}(W);t.UnexpectedResponseException=Z;var J=function(e){s(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(W);t.FormatError=J;var K=function(e){s(n,e);var t=u(n);function n(){return a(this,n),t.apply(this,arguments)}return n}(W);t.AbortException=K;var Q=/\x00/g;function ee(e){return"string"!==typeof e?(j("The argument for removeNullCharacters must be a string."),e):e.replace(Q,"")}function te(e){z(null!==e&&"object"===o(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var r=[],i=0;i<t;i+=n){var a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function ne(e){z("string"===typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function re(e){return void 0!==e.length?e.length:(z(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}function ie(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=re(e[r]);for(var i=0,o=new Uint8Array(n),a=0;a<t;a++){var s=e[a];s instanceof Uint8Array||(s="string"===typeof s?ne(s):new Uint8Array(s));var c=s.byteLength;o.set(s,i),i+=c}return o}function oe(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function ae(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return 1===t[0]}var se={get value(){return V(this,"value",ae())}};function ce(){try{return new Function(""),!0}catch(e){return!1}}t.IsLittleEndianCached=se;var ue={get value(){return V(this,"value",ce())}};t.IsEvalSupportedCached=ue;var le=["rgb(",0,",",0,",",0,")"],he=function(){function e(){a(this,e)}return i(e,null,[{key:"makeCssRgb",value:function(e,t,n){return le[1]=e,le[3]=t,le[5]=n,le.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){var n=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[n,r]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[r,i]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),o=e.applyTransform([t[0],t[3]],n),a=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],o[0],a[0]),Math.min(r[1],i[1],o[1],a[1]),Math.max(r[0],i[0],o[0],a[0]),Math.max(r[1],i[1],o[1],a[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(n+o)/2,s=Math.sqrt((n+o)*(n+o)-4*(n*o-i*r))/2,c=a+s||1,u=a-s||1;return[Math.sqrt(c),Math.sqrt(u)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),o=[t[1],t[3],n[1],n[3]].sort(r),a=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(a[0]=i[1],a[2]=i[2],o[0]===t[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===t[1]?(a[1]=o[1],a[3]=o[2],a):null):null}}]),e}();t.Util=he;var fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function de(e){var t=e.length,n=[];if(""===e[0]&&""===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if(""===e[0]&&""===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var o=0;o<t;++o){var a=fe[e.charCodeAt(o)];n.push(a?String.fromCharCode(a):e.charAt(o))}return n.join("")}function pe(e){return decodeURIComponent(escape(e))}function me(e){return unescape(encodeURIComponent(e))}function ve(e){for(var t in e)return!1;return!0}function ge(e){return"boolean"===typeof e}function ye(e){return"number"===typeof e}function be(e){return"string"===typeof e}function _e(e){return"object"===o(e)&&null!==e&&void 0!==e.byteLength}function xe(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function we(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e}var Se=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&URL.createObjectURL){var i=new Blob([t],{type:n});return URL.createObjectURL(i)}for(var o="data:".concat(n,";base64,"),a=0,s=t.length;a<s;a+=3){var c=255&t[a],u=255&t[a+1],l=255&t[a+2],h=c>>2,f=(3&c)<<4|u>>4,d=a+1<s?(15&u)<<2|l>>6:64,p=a+2<s?63&l:64;o+=e[h]+e[f]+e[d]+e[p]}return o}}();t.createObjectURL=Se},function(e,t,n){"use strict";var r=n(7);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}if("undefined"===typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!==typeof globalThis&&globalThis.Math===Math||(globalThis=n(8)),globalThis._pdfjsCompatibilityChecked=!0;var o="object"===("undefined"===typeof window?"undefined":i(window))&&"object"===("undefined"===typeof document?"undefined":i(document)),a="undefined"!==typeof navigator&&navigator.userAgent||"",s=/Trident/.test(a);(function(){!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")})})(),function(){!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")})}(),function(){o&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){if(o&&!r.isNodeJS){var e=document.createElement("div");if(e.classList.add("testOne","testTwo"),!0!==e.classList.contains("testOne")||!0!==e.classList.contains("testTwo")){var t=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];t.call(this,a)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var a=o[i];n.call(this,a)}}}}}(),function(){if(o&&!r.isNodeJS){var e=document.createElement("div");!1!==e.classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t})}}(),function(){if(o&&s){var e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(t,n,r){var i=void 0===r?[t,n]:[t,n,r];e.apply(this,i)},window.history.replaceState=function(e,n,r){var i=void 0===r?[e,n]:[e,n,r];t.apply(this,i)}}}(),function(){String.prototype.startsWith||n(53)}(),function(){String.prototype.endsWith||n(64)}(),function(){String.prototype.includes||n(66)}(),function(){Array.prototype.includes||n(68)}(),function(){Array.from||n(76)}(),function(){Object.assign||n(98)}(),function(){Math.log2||(Math.log2=n(101))}(),function(){Number.isNaN||(Number.isNaN=n(103))}(),function(){Number.isInteger||(Number.isInteger=n(105))}(),function(){Uint8Array.prototype.slice||n(108)}(),function(){globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=n(113))}(),function(){globalThis.URL=n(136)}(),function(){var e=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(t){}e||(globalThis.ReadableStream=n(143).ReadableStream)}(),function(){globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=n(144))}(),function(){globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=n(151))}(),function(){globalThis.WeakMap||(globalThis.WeakMap=n(153))}(),function(){globalThis.WeakSet||(globalThis.WeakSet=n(159))}(),function(){String.prototype.codePointAt||n(161)}(),function(){String.fromCodePoint||(String.fromCodePoint=n(163))}(),function(){globalThis.Symbol||n(165)}(),function(){String.prototype.padStart||n(188)}(),function(){String.prototype.padEnd||n(193)}(),function(){Object.values||(Object.values=n(195))}()}},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var i="object"===("undefined"===typeof process?"undefined":r(process))&&process+""==="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=i},function(e,t,n){n(9),e.exports=n(11)},function(e,t,n){var r=n(10),i=n(11);r({global:!0},{globalThis:i})},function(e,t,n){var r=n(11),i=n(12).f,o=n(26),a=n(29),s=n(30),c=n(40),u=n(52);e.exports=function(e,t){var n,l,h,f,d,p,m=e.target,v=e.global,g=e.stat;if(l=v?r:g?r[m]||s(m,{}):(r[m]||{}).prototype,l)for(h in t){if(d=t[h],e.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=u(v?h:m+(g?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(l,h,d,e)}}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(e,t,n){var r=n(13),i=n(15),o=n(16),a=n(17),s=n(21),c=n(23),u=n(24),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(14);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(18),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(14),i=n(19),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(13),i=n(14),o=n(25);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(22),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(13),i=n(27),o=n(16);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(13),i=n(24),o=n(28),a=n(21),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(11),i=n(26),o=n(23),a=n(30),s=n(31),c=n(33),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=h.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(e,t,n){var r=n(11),i=n(26);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(32),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),i=n(30),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},function(e,t,n){var r,i,o,a=n(34),s=n(11),c=n(22),u=n(26),l=n(23),h=n(35),f=n(39),d=s.WeakMap,p=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new d,g=v.get,y=v.has,b=v.set;r=function(e,t){return b.call(v,e,t),t},i=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=h("state");f[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},function(e,t,n){var r=n(11),i=n(31),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(36),i=n(38),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(37),i=n(32);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(23),i=n(41),o=n(12),a=n(27);e.exports=function(e,t){for(var n=i(t),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||s(e,l,c(t,l))}}},function(e,t,n){var r=n(42),i=n(44),o=n(51),a=n(28);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(43),i=n(11),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(11);e.exports=r},function(e,t,n){var r=n(45),i=n(50),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(23),i=n(17),o=n(46).indexOf,a=n(39);e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);while(t.length>c)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(17),i=n(47),o=n(49),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(48),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(48),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(14),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){n(54);var r=n(61);e.exports=r("String","startsWith")},function(e,t,n){"use strict";var r=n(10),i=n(12).f,o=n(47),a=n(55),s=n(20),c=n(60),u=n(37),l="".startsWith,h=Math.min,f=c("startsWith"),d=!u&&!f&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!f},{startsWith:function(e){var t=String(s(this));a(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(56);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(22),i=n(19),o=n(57),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(11),i=n(36),o=n(23),a=n(38),s=n(58),c=n(59),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},function(e,t,n){var r=n(14);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(58);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(57),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},function(e,t,n){var r=n(11),i=n(62),o=Function.call;e.exports=function(e,t,n){return i(o,r[e].prototype[t],n)}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){n(65);var r=n(61);e.exports=r("String","endsWith")},function(e,t,n){"use strict";var r=n(10),i=n(12).f,o=n(47),a=n(55),s=n(20),c=n(60),u=n(37),l="".endsWith,h=Math.min,f=c("endsWith"),d=!u&&!f&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!d&&!f},{endsWith:function(e){var t=String(s(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:h(o(n),r),c=String(e);return l?l.call(t,c,i):t.slice(i-c.length,i)===c}})},function(e,t,n){n(67);var r=n(61);e.exports=r("String","includes")},function(e,t,n){"use strict";var r=n(10),i=n(55),o=n(20),a=n(60);r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(69);var r=n(61);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(10),i=n(46).includes,o=n(70),a=n(75),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){var r=n(57),i=n(71),o=n(27),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r,i=n(28),o=n(72),a=n(50),s=n(39),c=n(74),u=n(25),l=n(35),h=">",f="<",d="prototype",p="script",m=l("IE_PROTO"),v=function(){},g=function(e){return f+p+h+e+f+"/"+p+h},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?y(r):b();var e=a.length;while(e--)delete _[d][a[e]];return _()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=i(e),n=new v,v[d]=null,n[m]=e):n=_(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(13),i=n(27),o=n(28),a=n(73);e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,c=0;while(s>c)i.f(e,n=r[c++],t[n]);return e}},function(e,t,n){var r=n(45),i=n(50);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(42);e.exports=r("document","documentElement")},function(e,t,n){var r=n(13),i=n(14),o=n(23),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,h=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,h)}))}},function(e,t,n){n(77),n(89);var r=n(43);e.exports=r.Array.from},function(e,t,n){"use strict";var r=n(78).charAt,i=n(33),o=n(79),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(48),i=n(20),o=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";var r=n(10),i=n(80),o=n(82),a=n(87),s=n(85),c=n(26),u=n(29),l=n(57),h=n(37),f=n(86),d=n(81),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,n,l,d,x,w){i(n,t,l);var S,A,T,E=function(e){if(e===d&&k)return k;if(!m&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",P=!1,C=e.prototype,R=C[v]||C["@@iterator"]||d&&C[d],k=!m&&R||E(d),L="Array"==t&&C.entries||R;if(L&&(S=o(L.call(new e)),p!==Object.prototype&&S.next&&(h||o(S)===p||(a?a(S,p):"function"!=typeof S[v]&&c(S,v,_)),s(S,M,!0,!0),h&&(f[M]=_))),d==y&&R&&R.name!==y&&(P=!0,k=function(){return R.call(this)}),h&&!w||C[v]===k||c(C,v,k),f[t]=k,d)if(A={values:E(y),keys:x?k:E(g),entries:E(b)},w)for(T in A)(m||P||!(T in C))&&u(C,T,A[T]);else r({target:t,proto:!0,forced:m||P},A);return A}},function(e,t,n){"use strict";var r=n(81).IteratorPrototype,i=n(71),o=n(16),a=n(85),s=n(86),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=c,e}},function(e,t,n){"use strict";var r,i,o,a=n(82),s=n(26),c=n(23),u=n(57),l=n(37),h=u("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),l||c(r,h)||s(r,h,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(23),i=n(83),o=n(35),a=n(84),s=o("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(14);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(27).f,i=n(23),o=n(57),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(28),i=n(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(10),i=n(90),o=n(97),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},function(e,t,n){"use strict";var r=n(62),i=n(83),o=n(91),a=n(92),s=n(47),c=n(93),u=n(94);e.exports=function(e){var t,n,l,h,f,d,p=i(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,b=u(p),_=0;if(y&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(t=s(p.length),n=new m(t);t>_;_++)d=y?g(p[_],_):p[_],c(n,_,d);else for(h=b.call(p),f=h.next,n=new m;!(l=f.call(h)).done;_++)d=y?o(h,g,[l.value,_],!0):l.value,c(n,_,d);return n.length=_,n}},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},function(e,t,n){var r=n(57),i=n(86),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){"use strict";var r=n(21),i=n(27),o=n(16);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(95),i=n(86),o=n(57),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(96),i=n(19),o=n(57),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(57),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},function(e,t,n){var r=n(57),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},function(e,t,n){n(99);var r=n(43);e.exports=r.Object.assign},function(e,t,n){var r=n(10),i=n(100);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(13),i=n(14),o=n(73),a=n(51),s=n(15),c=n(83),u=n(18),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=a.f,f=s.f;while(i>l){var d,p=u(arguments[l++]),m=h?o(p).concat(h(p)):o(p),v=m.length,g=0;while(v>g)d=m[g++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},function(e,t,n){n(102);var r=n(43);e.exports=r.Math.log2},function(e,t,n){var r=n(10),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},function(e,t,n){n(104);var r=n(43);e.exports=r.Number.isNaN},function(e,t,n){var r=n(10);r({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){n(106);var r=n(43);e.exports=r.Number.isInteger},function(e,t,n){var r=n(10),i=n(107);r({target:"Number",stat:!0},{isInteger:i})},function(e,t,n){var r=n(22),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(109)},function(e,t,n){"use strict";var r=n(110),i=n(112),o=n(14),a=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,u=[].slice,l=o((function(){new Int8Array(1).slice()}));c("slice",(function(e,t){var n=u.call(a(this),e,t),r=i(this,this.constructor),o=0,c=n.length,l=new(s(r))(c);while(c>o)l[o]=n[o++];return l}),l)},function(e,t,n){"use strict";var r,i=n(111),o=n(13),a=n(11),s=n(22),c=n(23),u=n(95),l=n(26),h=n(29),f=n(27).f,d=n(82),p=n(87),m=n(57),v=n(38),g=a.Int8Array,y=g&&g.prototype,b=a.Uint8ClampedArray,_=b&&b.prototype,x=g&&d(g),w=y&&d(y),S=Object.prototype,A=S.isPrototypeOf,T=m("toStringTag"),E=v("TYPED_ARRAY_TAG"),M=i&&!!p&&"Opera"!==u(a.opera),P=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(e){var t=u(e);return"DataView"===t||c(C,t)},k=function(e){return s(e)&&c(C,u(e))},L=function(e){if(k(e))return e;throw TypeError("Target is not a typed array")},O=function(e){if(p){if(A.call(x,e))return e}else for(var t in C)if(c(C,r)){var n=a[t];if(n&&(e===n||A.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},I=function(e,t,n){if(o){if(n)for(var r in C){var i=a[r];i&&c(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||h(w,e,n?t:M&&y[e]||t)}},N=function(e,t,n){var r,i;if(o){if(p){if(n)for(r in C)i=a[r],i&&c(i,e)&&delete i[e];if(x[e]&&!n)return;try{return h(x,e,n?t:M&&g[e]||t)}catch(s){}}for(r in C)i=a[r],!i||i[e]&&!n||h(i,e,t)}};for(r in C)a[r]||(M=!1);if((!M||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},M))for(r in C)a[r]&&p(a[r],x);if((!M||!w||w===S)&&(w=x.prototype,M))for(r in C)a[r]&&p(a[r].prototype,w);if(M&&d(_)!==w&&p(_,w),o&&!c(w,T))for(r in P=!0,f(w,T,{get:function(){return s(this)?this[E]:void 0}}),C)a[r]&&l(a[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:P&&E,aTypedArray:L,aTypedArrayConstructor:O,exportTypedArrayMethod:I,exportTypedArrayStaticMethod:N,isView:R,isTypedArray:k,TypedArray:x,TypedArrayPrototype:w}},function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},function(e,t,n){var r=n(28),i=n(63),o=n(57),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},function(e,t,n){n(114),n(77),n(116),n(119),n(134),n(135);var r=n(43);e.exports=r.Promise},function(e,t,n){var r=n(96),i=n(29),o=n(115);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(96),i=n(95);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(11),i=n(117),o=n(118),a=n(26),s=n(57),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(m){d[c]=l}if(d[u]||a(d,u,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(m){d[p]=o[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(17),i=n(70),o=n(86),a=n(33),s=n(79),c="Array Iterator",u=a.set,l=a.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r,i,o,a,s=n(10),c=n(37),u=n(11),l=n(42),h=n(120),f=n(29),d=n(121),p=n(85),m=n(122),v=n(22),g=n(63),y=n(123),b=n(19),_=n(31),x=n(124),w=n(97),S=n(112),A=n(125).set,T=n(128),E=n(129),M=n(131),P=n(130),C=n(132),R=n(33),k=n(52),L=n(57),O=n(133),I=L("species"),N="Promise",D=R.get,F=R.set,j=R.getterFor(N),U=h,z=u.TypeError,B=u.document,H=u.process,G=l("fetch"),V=P.f,W=V,q="process"==b(H),X=!!(B&&B.createEvent&&u.dispatchEvent),Y="unhandledrejection",$="rejectionhandled",Z=0,J=1,K=2,Q=1,ee=2,te=k(N,(function(){var e=_(U)!==String(U);if(!e){if(66===O)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype["finally"])return!0;if(O>=51&&/native code/.test(U))return!1;var t=U.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[I]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){U.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;T((function(){var i=t.value,o=t.state==J,a=0;while(r.length>a){var s,c,u,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(o||(t.rejection===ee&&ce(e,t),t.rejection=Q),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===l.promise?d(z("Promise-chain cycle")):(c=re(s))?c.call(s,f,d):f(s)):d(i)}catch(m){p&&!u&&p.exit(),d(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,n){var r,i;X?(r=B.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===Y&&M("Unhandled promise rejection",n)},ae=function(e,t){A.call(u,(function(){var n,r=t.value,i=se(t);if(i&&(n=C((function(){q?H.emit("unhandledRejection",r,e):oe(Y,e,r)})),t.rejection=q||se(t)?ee:Q,n.error))throw n.value}))},se=function(e){return e.rejection!==Q&&!e.parent},ce=function(e,t){A.call(u,(function(){q?H.emit("rejectionHandled",e):oe($,e,t.value)}))},ue=function(e,t,n,r){return function(i){e(t,n,i,r)}},le=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=K,ie(e,t,!0))},he=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw z("Promise can't be resolved itself");var i=re(n);i?T((function(){var r={done:!1};try{i.call(n,ue(he,e,r,t),ue(le,e,r,t))}catch(o){le(e,r,o,t)}})):(t.value=n,t.state=J,ie(e,t,!1))}catch(o){le(e,{done:!1},o,t)}}};te&&(U=function(e){y(this,U,N),g(e),r.call(this);var t=D(this);try{e(ue(he,this,t),ue(le,this,t))}catch(n){le(this,t,n)}},r=function(e){F(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(U.prototype,{then:function(e,t){var n=j(this),r=V(S(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=q?H.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ue(he,e,t),this.reject=ue(le,e,t)},P.f=V=function(e){return e===U||e===o?new i(e):W(e)},c||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(U,G.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:U}),p(U,N,!1,!0),m(N),o=l(N),s({target:N,stat:!0,forced:te},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:c||te},{resolve:function(e){return E(c&&this===o?U:this,e)}}),s({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=V(t),r=n.resolve,i=n.reject,o=C((function(){var n=g(t.resolve),o=[],a=0,s=1;x(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=V(t),r=n.reject,i=C((function(){var i=g(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(11);e.exports=r.Promise},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(42),i=n(27),o=n(57),a=n(13),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(28),i=n(92),o=n(47),a=n(62),s=n(94),c=n(91),u=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,n,l,h){var f,d,p,m,v,g,y,b=a(t,n,l?2:1);if(h)f=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,m=o(e.length);m>p;p++)if(v=l?b(r(y=e[p])[0],y[1]):b(e[p]),v&&v instanceof u)return v;return new u(!1)}f=d.call(e)}g=f.next;while(!(y=g.call(f)).done)if(v=c(f,b,y.value,l),"object"==typeof v&&v&&v instanceof u)return v;return new u(!1)};l.stop=function(e){return new u(!0,e)}},function(e,t,n){var r,i,o,a=n(11),s=n(14),c=n(19),u=n(62),l=n(74),h=n(25),f=n(126),d=a.location,p=a.setImmediate,m=a.clearImmediate,v=a.process,g=a.MessageChannel,y=a.Dispatch,b=0,_={},x="onreadystatechange",w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){w(e)}},A=function(e){w(e.data)},T=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},m=function(e){delete _[e]},"process"==c(v)?r=function(e){v.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:g&&!f?(i=new g,o=i.port2,i.port1.onmessage=A,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(T)||"file:"===d.protocol?r=x in h("script")?function(e){l.appendChild(h("script"))[x]=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=T,a.addEventListener("message",A,!1))),e.exports={set:p,clear:m}},function(e,t,n){var r=n(127);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(42);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i,o,a,s,c,u,l,h=n(11),f=n(12).f,d=n(19),p=n(125).set,m=n(126),v=h.MutationObserver||h.WebKitMutationObserver,g=h.process,y=h.Promise,b="process"==d(g),_=f(h,"queueMicrotask"),x=_&&_.value;x||(r=function(){var e,t;b&&(e=g.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},b?a=function(){g.nextTick(r)}:v&&!m?(s=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){p.call(h,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(28),i=n(22),o=n(130);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},function(e,t,n){"use strict";var r=n(63),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(11);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){var r,i,o=n(11),a=n(127),s=o.process,c=s&&s.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(10),i=n(63),o=n(130),a=n(132),s=n(124);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,c=n.reject,u=a((function(){var n=i(t.resolve),o=[],a=0,c=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),c++,n.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--c||r(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--c||r(o))}))})),--c||r(o)}));return u.error&&c(u.value),n.promise}})},function(e,t,n){"use strict";var r=n(10),i=n(37),o=n(120),a=n(14),s=n(42),c=n(112),u=n(129),l=n(29),h=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",s("Promise").prototype["finally"])},function(e,t,n){n(137),n(142),n(140);var r=n(43);e.exports=r.URL},function(e,t,n){"use strict";n(77);var r,i=n(10),o=n(13),a=n(138),s=n(11),c=n(72),u=n(29),l=n(123),h=n(23),f=n(100),d=n(90),p=n(78).codeAt,m=n(139),v=n(85),g=n(140),y=n(33),b=s.URL,_=g.URLSearchParams,x=g.getState,w=y.set,S=y.getterFor("URL"),A=Math.floor,T=Math.pow,E="Invalid authority",M="Invalid scheme",P="Invalid host",C="Invalid port",R=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,L=/\d/,O=/^(0x|0X)/,I=/^[0-7]+$/,N=/^\d+$/,D=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,U=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,z=/[\u0009\u000A\u000D]/g,B=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return P;if(n=G(t.slice(1,-1)),!n)return P;e.host=n}else if(K(e)){if(t=m(t),F.test(t))return P;if(n=H(t),null===n)return P;e.host=n}else{if(j.test(t))return P;for(n="",r=d(t),i=0;i<r.length;i++)n+=Z(r[i],q);e.host=n}},H=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=c[r],""==i)return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=O.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?N:8==o?I:D).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=T(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*T(256,3-r);return s},G=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return e.charAt(h)};if(":"==f()){if(":"!=e.charAt(1))return;h+=2,u++,l=u}while(f()){if(8==u)return;if(":"!=f()){t=n=0;while(n<4&&D.test(f()))t=16*t+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,u>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!L.test(f()))return;while(L.test(f())){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}c[u]=256*c[u]+i,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;h++,u++,l=u}}if(null!==l){a=u-l,u=7;while(0!=u&&a>0)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s}else if(8!=u)return;return c},V=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},W=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=A(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=V(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},q={},X=f({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),Y=f({},X,{"#":1,"?":1,"{":1,"}":1}),$=f({},Y,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Z=function(e,t){var n=p(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return h(J,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&R.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ie=function(e){return"."===e||"%2e"===e.toLowerCase()},oe=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ae={},se={},ce={},ue={},le={},he={},fe={},de={},pe={},me={},ve={},ge={},ye={},be={},_e={},xe={},we={},Se={},Ae={},Te={},Ee={},Me=function(e,t,n,i){var o,a,s,c,u=n||ae,l=0,f="",p=!1,m=!1,v=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(U,"")),t=t.replace(z,""),o=d(t);while(l<=o.length){switch(a=o[l],u){case ae:if(!a||!R.test(a)){if(n)return M;u=ce;continue}f+=a.toLowerCase(),u=se;break;case se:if(a&&(k.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(n)return M;f="",u=ce,l=0;continue}if(n&&(K(e)!=h(J,f)||"file"==f&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(K(e)&&J[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?u=be:K(e)&&i&&i.scheme==e.scheme?u=ue:K(e)?u=de:"/"==o[l+1]?(u=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=Ae)}break;case ce:if(!i||i.cannotBeABaseURL&&"#"!=a)return M;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,u=Ee;break}u="file"==i.scheme?be:he;continue;case ue:if("/"!=a||"/"!=o[l+1]){u=he;continue}u=pe,l++;break;case le:if("/"==a){u=me;break}u=Se;continue;case he:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&K(e))u=fe;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",u=Te;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),u=Se;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ee}break;case fe:if(!K(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,u=Se;continue}u=me}else u=pe;break;case de:if(u=pe,"/"!=a||"/"!=f.charAt(l+1))continue;l++;break;case pe:if("/"!=a&&"\\"!=a){u=me;continue}break;case me:if("@"==a){p&&(f="%40"+f),p=!0,s=d(f);for(var g=0;g<s.length;g++){var y=s[g];if(":"!=y||v){var b=Z(y,$);v?e.password+=b:e.username+=b}else v=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)){if(p&&""==f)return E;l-=d(f).length+1,f="",u=ve}else f+=a;break;case ve:case ge:if(n&&"file"==e.scheme){u=xe;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)){if(K(e)&&""==f)return P;if(n&&""==f&&(Q(e)||null!==e.port))return;if(c=B(e,f),c)return c;if(f="",u=we,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return P;if(c=B(e,f),c)return c;if(f="",u=ye,n==ge)return}break;case ye:if(!L.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&K(e)||n){if(""!=f){var _=parseInt(f,10);if(_>65535)return C;e.port=K(e)&&_===J[e.scheme]?null:_,f=""}if(n)return;u=we;continue}return C}f+=a;break;case be:if(e.scheme="file","/"==a||"\\"==a)u=_e;else{if(!i||"file"!=i.scheme){u=Se;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",u=Te;else{if("#"!=a){ne(o.slice(l).join(""))||(e.host=i.host,e.path=i.path.slice(),re(e)),u=Se;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",u=Ee}}break;case _e:if("/"==a||"\\"==a){u=xe;break}i&&"file"==i.scheme&&!ne(o.slice(l).join(""))&&(te(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),u=Se;continue;case xe:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&te(f))u=Se;else if(""==f){if(e.host="",n)return;u=we}else{if(c=B(e,f),c)return c;if("localhost"==e.host&&(e.host=""),n)return;f="",u=we}continue}f+=a;break;case we:if(K(e)){if(u=Se,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=Se,"/"!=a))continue}else e.fragment="",u=Ee;else e.query="",u=Te;break;case Se:if(a==r||"/"==a||"\\"==a&&K(e)||!n&&("?"==a||"#"==a)){if(oe(f)?(re(e),"/"==a||"\\"==a&&K(e)||e.path.push("")):ie(f)?"/"==a||"\\"==a&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(a==r||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==a?(e.query="",u=Te):"#"==a&&(e.fragment="",u=Ee)}else f+=Z(a,Y);break;case Ae:"?"==a?(e.query="",u=Te):"#"==a?(e.fragment="",u=Ee):a!=r&&(e.path[0]+=Z(a,q));break;case Te:n||"#"!=a?a!=r&&("'"==a&&K(e)?e.query+="%27":e.query+="#"==a?"%23":Z(a,q)):(e.fragment="",u=Ee);break;case Ee:a!=r&&(e.fragment+=Z(a,X));break}l++}},Pe=function(e){var t,n,r=l(this,Pe,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof Pe)t=S(i);else if(n=Me(t={},String(i)),n)throw TypeError(n);if(n=Me(s,a,null,t),n)throw TypeError(n);var c=s.searchParams=new _,u=x(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},o||(r.href=Re.call(r),r.origin=ke.call(r),r.protocol=Le.call(r),r.username=Oe.call(r),r.password=Ie.call(r),r.host=Ne.call(r),r.hostname=De.call(r),r.port=Fe.call(r),r.pathname=je.call(r),r.search=Ue.call(r),r.searchParams=ze.call(r),r.hash=Be.call(r))},Ce=Pe.prototype,Re=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",Q(e)&&(u+=n+(r?":"+r:"")+"@"),u+=W(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},ke=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&K(e)?t+"://"+W(e.host)+(null!==n?":"+n:""):"null"},Le=function(){return S(this).scheme+":"},Oe=function(){return S(this).username},Ie=function(){return S(this).password},Ne=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?W(t):W(t)+":"+n},De=function(){var e=S(this).host;return null===e?"":W(e)},Fe=function(){var e=S(this).port;return null===e?"":String(e)},je=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ue=function(){var e=S(this).query;return e?"?"+e:""},ze=function(){return S(this).searchParams},Be=function(){var e=S(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&c(Ce,{href:He(Re,(function(e){var t=S(this),n=String(e),r=Me(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:He(ke),protocol:He(Le,(function(e){var t=S(this);Me(t,String(e)+":",ae)})),username:He(Oe,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Z(n[r],$)}})),password:He(Ie,(function(e){var t=S(this),n=d(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Z(n[r],$)}})),host:He(Ne,(function(e){var t=S(this);t.cannotBeABaseURL||Me(t,String(e),ve)})),hostname:He(De,(function(e){var t=S(this);t.cannotBeABaseURL||Me(t,String(e),ge)})),port:He(Fe,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Me(t,e,ye))})),pathname:He(je,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Me(t,e+"",we))})),search:He(Ue,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Me(t,e,Te)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:He(ze),hash:He(Be,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Me(t,e,Ee)):t.fragment=null}))}),u(Ce,"toJSON",(function(){return Re.call(this)}),{enumerable:!0}),u(Ce,"toString",(function(){return Re.call(this)}),{enumerable:!0}),b){var Ge=b.createObjectURL,Ve=b.revokeObjectURL;Ge&&u(Pe,"createObjectURL",(function(e){return Ge.apply(b,arguments)})),Ve&&u(Pe,"revokeObjectURL",(function(e){return Ve.apply(b,arguments)}))}v(Pe,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Pe})},function(e,t,n){var r=n(14),i=n(57),o=n(37),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,c=700,u=72,l=128,h="-",f=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=i-o,v=Math.floor,g=String.fromCharCode,y=function(e){var t=[],n=0,r=e.length;while(n<r){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},b=function(e){return e+22+75*(e<26)},_=function(e,t,n){var r=0;for(e=n?v(e/c):e>>1,e+=v(e/t);e>m*a>>1;r+=i)e=v(e/m);return v(r+(m+1)*e/(e+s))},x=function(e){var t=[];e=y(e);var n,s,c=e.length,f=l,d=0,m=u;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(g(s));var x=t.length,w=x;x&&t.push(h);while(w<c){var S=r;for(n=0;n<e.length;n++)s=e[n],s>=f&&s<S&&(S=s);var A=w+1;if(S-f>v((r-d)/A))throw RangeError(p);for(d+=(S-f)*A,f=S,n=0;n<e.length;n++){if(s=e[n],s<f&&++d>r)throw RangeError(p);if(s==f){for(var T=d,E=i;;E+=i){var M=E<=m?o:E>=m+a?a:E-m;if(T<M)break;var P=T-M,C=i-M;t.push(g(b(M+P%C))),T=v(P/C)}t.push(g(b(T))),m=_(d,A,w==x),d=0,++w}}++d,++f}return t.join("")};e.exports=function(e){var t,n,r=[],i=e.toLowerCase().replace(d,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(f.test(n)?"xn--"+x(n):n);return r.join(".")}},function(e,t,n){"use strict";n(118);var r=n(10),i=n(42),o=n(138),a=n(29),s=n(121),c=n(85),u=n(80),l=n(33),h=n(123),f=n(23),d=n(62),p=n(95),m=n(28),v=n(22),g=n(71),y=n(16),b=n(141),_=n(94),x=n(57),w=i("fetch"),S=i("Headers"),A=x("iterator"),T="URLSearchParams",E=T+"Iterator",M=l.set,P=l.getterFor(T),C=l.getterFor(E),R=/\+/g,k=Array(4),L=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(R," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(L(n--),O);return t}},N=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return D[e]},j=function(e){return encodeURIComponent(e).replace(N,F)},U=function(e,t){if(t){var n,r,i=t.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))}},z=function(e){this.entries.length=0,U(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=u((function(e,t){M(this,{type:E,iterator:b(P(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),G=function(){h(this,G,T);var e,t,n,r,i,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(M(l,{type:T,entries:d,updateURL:function(){},updateSearchParams:z}),void 0!==u)if(v(u))if(e=_(u),"function"===typeof e){t=e.call(u),n=t.next;while(!(r=n.call(t)).done){if(i=b(m(r.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}}else for(c in u)f(u,c)&&d.push({key:c,value:u[c]+""});else U(d,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},V=G.prototype;s(V,{append:function(e,t){B(arguments.length,2);var n=P(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){B(arguments.length,1);var t=P(this),n=t.entries,r=e+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=P(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){B(arguments.length,1);for(var t=P(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){B(arguments.length,1);var t=P(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var n,r=P(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)n=i[c],n.key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=P(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){var t,n=P(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),a(V,A,V.entries),a(V,"toString",(function(){var e,t=P(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(j(e.key)+"="+j(e.value));return n.join("&")}),{enumerable:!0}),c(G,T),r({global:!0,forced:!o},{URLSearchParams:G}),o||"function"!=typeof w||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],v(t)&&(n=t.body,p(n)===T&&(r=t.headers?new S(t.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(n)),headers:y(0,r)}))),i.push(t)),w.apply(this,i)}}),e.exports={URLSearchParams:G,getState:P}},function(e,t,n){var r=n(28),i=n(94);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";var r=n(10);r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}var r=Number.isNaN||function(e){return e!==e},i=n;function o(e){return"object"===typeof e&&null!==e||"function"===typeof e}function a(e){return e.slice()}function s(e,t,n,r,i){new Uint8Array(e).set(new Uint8Array(n,r,i),t)}function c(e){return!1!==u(e)&&e!==1/0}function u(e){return"number"===typeof e&&(!r(e)&&!(e<0))}function l(e,t,n){if("function"!==typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function h(e,t,n,r){var i=e[t];if(void 0!==i){if("function"!==typeof i)throw new TypeError(i+" is not a method");switch(n){case 0:return function(){return d(i,e,r)};case 1:return function(t){var n=[t].concat(r);return d(i,e,n)}}}return function(){return S(void 0)}}function f(e,t,n){var r=e[t];if(void 0!==r)return l(r,e,n)}function d(e,t,n){try{return S(l(e,t,n))}catch(r){return A(r)}}function p(e){return e}function m(e){return!1}function v(e){if(e=Number(e),r(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function g(e){if(void 0===e)return function(){return 1};if("function"!==typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}var y=Promise,b=Promise.prototype.then,_=Promise.resolve.bind(y),x=Promise.reject.bind(y);function w(e){return new y(e)}function S(e){return _(e)}function A(e){return x(e)}function T(e,t,n){return b.call(e,t,n)}function E(e,t,n){T(T(e,t,n),void 0,i)}function M(e,t){E(e,t)}function P(e,t){E(e,void 0,t)}function C(e,t,n){return T(e,t,n)}function R(e){T(e,void 0,i)}var k=16384,L=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;t._elements.length===k-1&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,o=i[n];return r===k&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,o},e.prototype.forEach=function(e){var t=this._cursor,n=this._front,r=n._elements;while(t!==r.length||void 0!==n._next){if(t===r.length&&(n=n._next,r=n._elements,t=0,0===r.length))break;e(r[t]),++t}},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}();function O(e,t,n){var r=null;!0===n&&(r=Object.prototype);var i=Object.create(r);return i.value=e,i.done=t,i}function I(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?j(e):"closed"===t._state?z(e):U(e,t._storedError)}function N(e,t){var n=e._ownerReadableStream;return Fn(n,t)}function D(e){"readable"===e._ownerReadableStream._state?B(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):H(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function F(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function j(e){e._closedPromise=w((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n}))}function U(e,t){j(e),B(e,t)}function z(e){j(e),G(e)}function B(e,t){R(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function H(e,t){U(e,t)}function G(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}var V=t("[[CancelSteps]]"),W=t("[[PullSteps]]");function q(e,t){void 0===t&&(t=!1);var n=new Q(e);return n._forAuthorCode=t,n}function X(e){var t=w((function(t,n){var r={_resolve:t,_reject:n};e._reader._readRequests.push(r)}));return t}function Y(e,t,n){var r=e._reader,i=r._readRequests.shift();i._resolve(O(t,n,r._forAuthorCode))}function $(e){return e._reader._readRequests.length}function Z(e){var t=e._reader;return void 0!==t&&!!ee(t)}var J,K,Q=function(){function e(e){if(!1===Nn(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Dn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readRequests=new L}return Object.defineProperty(e.prototype,"closed",{get:function(){return ee(this)?this._closedPromise:A(ne("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return ee(this)?void 0===this._ownerReadableStream?A(F("cancel")):N(this,e):A(ne("cancel"))},e.prototype.read=function(){return ee(this)?void 0===this._ownerReadableStream?A(F("read from")):te(this):A(ne("read"))},e.prototype.releaseLock=function(){if(!ee(this))throw ne("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},e}();function ee(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function te(e){var t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?S(O(void 0,!0,e._forAuthorCode)):"errored"===t._state?A(t._storedError):t._readableStreamController[W]()}function ne(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}"symbol"===typeof t.asyncIterator&&(J={},J[t.asyncIterator]=function(){return this},K=J,Object.defineProperty(K,t.asyncIterator,{enumerable:!1}));var re={next:function(){if(!1===oe(this))return A(ae("next"));var e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?A(F("iterate")):C(te(e),(function(t){var n=t.done;n&&D(e);var r=t.value;return O(r,n,!0)}))},return:function(e){if(!1===oe(this))return A(ae("next"));var t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return A(F("finish iterating"));if(t._readRequests.length>0)return A(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var n=N(t,e);return D(t),C(n,(function(){return O(e,!0,!0)}))}return D(t),S(O(e,!0,!0))}};function ie(e,t){void 0===t&&(t=!1);var n=q(e),r=Object.create(re);return r._asyncIteratorReader=n,r._preventCancel=Boolean(t),r}function oe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")}function ae(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}function se(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ce(e,t,n){if(n=Number(n),!c(n))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function ue(e){var t=e._queue.peek();return t.value}function le(e){e._queue=new L,e._queueTotalSize=0}void 0!==K&&Object.setPrototypeOf(re,K),Object.defineProperty(re,"next",{enumerable:!1}),Object.defineProperty(re,"return",{enumerable:!1});var he=t("[[AbortSteps]]"),fe=t("[[ErrorSteps]]"),de=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),ve(this);var n=t.size,r=t.highWaterMark,i=e.type;if(void 0!==i)throw new RangeError("Invalid type is specified");var o=g(n);void 0===r&&(r=1),r=v(r),Ye(this,e,r,o)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===ge(this))throw at("locked");return ye(this)},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ge(this)?A(at("abort")):!0===ye(this)?A(new TypeError("Cannot abort a stream that already has a writer")):be(this,e)},e.prototype.close=function(){return!1===ge(this)?A(at("close")):!0===ye(this)?A(new TypeError("Cannot close a stream that already has a writer")):!0===Ce(this)?A(new TypeError("Cannot close an already-closing stream")):_e(this)},e.prototype.getWriter=function(){if(!1===ge(this))throw at("getWriter");return pe(this)},e}();function pe(e){return new Ne(e)}function me(e,t,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var a=Object.create(de.prototype);ve(a);var s=Object.create(We.prototype);return Xe(a,s,e,t,n,r,i,o),a}function ve(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new L,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function ye(e){return void 0!==e._writer}function be(e,t){var n=e._state;if("closed"===n||"errored"===n)return S(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var r=!1;"erroring"===n&&(r=!0,t=void 0);var i=w((function(n,i){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:i,_reason:t,_wasAlreadyErroring:r}}));return e._pendingAbortRequest._promise=i,!1===r&&Se(e,t),i}function _e(e){var t=e._state;if("closed"===t||"errored"===t)return A(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var n=w((function(t,n){var r={_resolve:t,_reject:n};e._closeRequest=r})),r=e._writer;return void 0!==r&&!0===e._backpressure&&"writable"===t&&xt(r),Ze(e._writableStreamController),n}function xe(e){var t=w((function(t,n){var r={_resolve:t,_reject:n};e._writeRequests.push(r)}));return t}function we(e,t){var n=e._state;"writable"!==n?Ae(e):Se(e,t)}function Se(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&Be(r,t),!1===Re(e)&&!0===n._started&&Ae(e)}function Ae(e){e._state="errored",e._writableStreamController[fe]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new L,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void Oe(e);var r=e._writableStreamController[he](n._reason);E(r,(function(){n._resolve(),Oe(e)}),(function(t){n._reject(t),Oe(e)}))}else Oe(e)}function Te(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Ee(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,we(e,t)}function Me(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var n=e._writer;void 0!==n&&pt(n)}function Pe(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),we(e,t)}function Ce(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Re(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function ke(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Le(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Oe(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&ft(t,e._storedError)}function Ie(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(!0===t?bt(n):xt(n)),e._backpressure=t}var Ne=function(){function e(e){if(!1===ge(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ye(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!1===Ce(e)&&!0===e._backpressure?mt(this):gt(this),ut(this);else if("erroring"===t)vt(this,e._storedError),ut(this);else if("closed"===t)gt(this),ht(this);else{var n=e._storedError;vt(this,n),lt(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return!1===De(this)?A(st("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===De(this))throw st("desiredSize");if(void 0===this._ownerWritableStream)throw ct("desiredSize");return He(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return!1===De(this)?A(st("ready")):this._readyPromise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===De(this)?A(st("abort")):void 0===this._ownerWritableStream?A(ct("abort")):Fe(this,e)},e.prototype.close=function(){if(!1===De(this))return A(st("close"));var e=this._ownerWritableStream;return void 0===e?A(ct("close")):!0===Ce(e)?A(new TypeError("Cannot close an already-closing stream")):je(this)},e.prototype.releaseLock=function(){if(!1===De(this))throw st("releaseLock");var e=this._ownerWritableStream;void 0!==e&&Ge(this)},e.prototype.write=function(e){return!1===De(this)?A(st("write")):void 0===this._ownerWritableStream?A(ct("write to")):Ve(this,e)},e}();function De(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Fe(e,t){var n=e._ownerWritableStream;return be(n,t)}function je(e){var t=e._ownerWritableStream;return _e(t)}function Ue(e){var t=e._ownerWritableStream,n=t._state;return!0===Ce(t)||"closed"===n?S(void 0):"errored"===n?A(t._storedError):je(e)}function ze(e,t){"pending"===e._closedPromiseState?ft(e,t):dt(e,t)}function Be(e,t){"pending"===e._readyPromiseState?yt(e,t):_t(e,t)}function He(e){var t=e._ownerWritableStream,n=t._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:Ke(t._writableStreamController)}function Ge(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Be(e,n),ze(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Ve(e,t){var n=e._ownerWritableStream,r=n._writableStreamController,i=Je(r,t);if(n!==e._ownerWritableStream)return A(ct("write to"));var o=n._state;if("errored"===o)return A(n._storedError);if(!0===Ce(n)||"closed"===o)return A(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return A(n._storedError);var a=xe(n);return Qe(r,t,i),a}var We=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return e.prototype.error=function(e){if(!1===qe(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var t=this._controlledWritableStream._state;"writable"===t&&ot(this,e)},e.prototype[he]=function(e){var t=this._abortAlgorithm(e);return $e(this),t},e.prototype[fe]=function(){le(this)},e}();function qe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}function Xe(e,t,n,r,i,o,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,le(t),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=o;var c=it(t);Ie(e,c);var u=n(),l=S(u);E(l,(function(){t._started=!0,et(t)}),(function(n){t._started=!0,we(e,n)}))}function Ye(e,t,n,r){var i=Object.create(We.prototype);function o(){return f(t,"start",[i])}var a=h(t,"write",1,[i]),s=h(t,"close",0,[]),c=h(t,"abort",1,[]);Xe(e,i,o,a,s,c,n,r)}function $e(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ze(e){ce(e,"close",0),et(e)}function Je(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return tt(e,n),1}}function Ke(e){return e._strategyHWM-e._queueTotalSize}function Qe(e,t,n){var r={chunk:t};try{ce(e,r,n)}catch(a){return void tt(e,a)}var i=e._controlledWritableStream;if(!1===Ce(i)&&"writable"===i._state){var o=it(e);Ie(i,o)}et(e)}function et(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var n=t._state;if("erroring"!==n){if(0!==e._queue.length){var r=ue(e);"close"===r?nt(e):rt(e,r.chunk)}}else Ae(t)}}function tt(e,t){"writable"===e._controlledWritableStream._state&&ot(e,t)}function nt(e){var t=e._controlledWritableStream;ke(t),se(e);var n=e._closeAlgorithm();$e(e),E(n,(function(){Me(t)}),(function(e){Pe(t,e)}))}function rt(e,t){var n=e._controlledWritableStream;Le(n);var r=e._writeAlgorithm(t);E(r,(function(){Te(n);var t=n._state;if(se(e),!1===Ce(n)&&"writable"===t){var r=it(e);Ie(n,r)}et(e)}),(function(t){"writable"===n._state&&$e(e),Ee(n,t)}))}function it(e){var t=Ke(e);return t<=0}function ot(e,t){var n=e._controlledWritableStream;$e(e),Se(n,t)}function at(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function st(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function ct(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ut(e){e._closedPromise=w((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"}))}function lt(e,t){ut(e),ft(e,t)}function ht(e){ut(e),pt(e)}function ft(e,t){R(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function dt(e,t){lt(e,t)}function pt(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function mt(e){e._readyPromise=w((function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n})),e._readyPromiseState="pending"}function vt(e,t){mt(e),yt(e,t)}function gt(e){mt(e),xt(e)}function yt(e,t){R(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function bt(e){mt(e)}function _t(e,t){vt(e,t)}function xt(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function wt(e){if("object"!==typeof e||null===e)return!1;try{return"boolean"===typeof e.aborted}catch(J){return!1}}var St="undefined"!==typeof DOMException?DOMException:void 0;function At(e){if("function"!==typeof e&&"object"!==typeof e)return!1;try{return new e,!0}catch(J){return!1}}function Tt(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var Et=At(St)?St:Tt();function Mt(e,t,r,i,o,a){var s=q(e),c=pe(t);e._disturbed=!0;var u=!1,l=S(void 0);return w((function(h,f){var d;if(void 0!==a){if(d=function(){var n=new Et("Aborted","AbortError"),r=[];!1===i&&r.push((function(){return"writable"===t._state?be(t,n):S(void 0)})),!1===o&&r.push((function(){return"readable"===e._state?Fn(e,n):S(void 0)})),_((function(){return Promise.all(r.map((function(e){return e()})))}),!0,n)},!0===a.aborted)return void d();a.addEventListener("abort",d)}function p(){return w((function(e,t){function n(r){r?e():T(m(),n,t)}n(!1)}))}function m(){return!0===u?S(!0):T(c._readyPromise,(function(){return T(te(s),(function(e){return!0===e.done||(l=T(Ve(c,e.value),void 0,n),!1)}))}))}if(y(e,s._closedPromise,(function(e){!1===i?_((function(){return be(t,e)}),!0,e):x(!0,e)})),y(t,c._closedPromise,(function(t){!1===o?_((function(){return Fn(e,t)}),!0,t):x(!0,t)})),b(e,s._closedPromise,(function(){!1===r?_((function(){return Ue(c)})):x()})),!0===Ce(t)||"closed"===t._state){var v=new TypeError("the destination writable stream closed before all data could be piped to it");!1===o?_((function(){return Fn(e,v)}),!0,v):x(!0,v)}function g(){var e=l;return T(l,(function(){return e!==l?g():void 0}))}function y(e,t,n){"errored"===e._state?n(e._storedError):P(t,n)}function b(e,t,n){"closed"===e._state?n():M(t,n)}function _(e,n,r){function i(){E(e(),(function(){return A(n,r)}),(function(e){return A(!0,e)}))}!0!==u&&(u=!0,"writable"===t._state&&!1===Ce(t)?M(g(),i):i())}function x(e,n){!0!==u&&(u=!0,"writable"===t._state&&!1===Ce(t)?M(g(),(function(){return A(e,n)})):A(e,n))}function A(e,t){Ge(c),D(s),void 0!==a&&a.removeEventListener("abort",d),e?f(t):h(void 0)}R(p())}))}var Pt=function(){function e(){throw new TypeError}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===Ct(this))throw Bt("desiredSize");return Dt(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===Ct(this))throw Bt("close");if(!1===jt(this))throw new TypeError("The stream is not in a state that permits close");Ot(this)},e.prototype.enqueue=function(e){if(!1===Ct(this))throw Bt("enqueue");if(!1===jt(this))throw new TypeError("The stream is not in a state that permits enqueue");return It(this,e)},e.prototype.error=function(e){if(!1===Ct(this))throw Bt("error");Nt(this,e)},e.prototype[V]=function(e){le(this);var t=this._cancelAlgorithm(e);return Lt(this),t},e.prototype[W]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=se(this);return!0===this._closeRequested&&0===this._queue.length?(Lt(this),jn(e)):Rt(this),S(O(t,!1,e._reader._forAuthorCode))}var n=X(e);return Rt(this),n},e}();function Ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Rt(e){var t=kt(e);if(!1!==t)if(!0!==e._pulling){e._pulling=!0;var n=e._pullAlgorithm();E(n,(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Rt(e))}),(function(t){Nt(e,t)}))}else e._pullAgain=!0}function kt(e){var t=e._controlledReadableStream;if(!1===jt(e))return!1;if(!1===e._started)return!1;if(!0===Dn(t)&&$(t)>0)return!0;var n=Dt(e);return n>0}function Lt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ot(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Lt(e),jn(t))}function It(e,t){var n=e._controlledReadableStream;if(!0===Dn(n)&&$(n)>0)Y(n,t,!1);else{var r=void 0;try{r=e._strategySizeAlgorithm(t)}catch(i){throw Nt(e,i),i}try{ce(e,t,r)}catch(o){throw Nt(e,o),o}}Rt(e)}function Nt(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(le(e),Lt(e),Un(n,t))}function Dt(e){var t=e._controlledReadableStream,n=t._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function Ft(e){return!0!==kt(e)}function jt(e){var t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function Ut(e,t,n,r,i,o,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,le(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t;var s=n();E(S(s),(function(){t._started=!0,Rt(t)}),(function(e){Nt(t,e)}))}function zt(e,t,n,r){var i=Object.create(Pt.prototype);function o(){return f(t,"start",[i])}var a=h(t,"pull",0,[i]),s=h(t,"cancel",1,[]);Ut(e,i,o,a,s,n,r)}function Bt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Ht(e,t){var n,r,i,o,s,c=q(e),u=!1,l=!1,h=!1,f=w((function(e){s=e}));function d(){if(!0===u)return S(void 0);u=!0;var e=C(te(c),(function(e){u=!1;var t=e.done;if(!0===t)return!1===l&&Ot(i._readableStreamController),void(!1===h&&Ot(o._readableStreamController));var n=e.value,r=n,a=n;!1===l&&It(i._readableStreamController,r),!1===h&&It(o._readableStreamController,a)}));return R(e),S(void 0)}function p(t){if(l=!0,n=t,!0===h){var i=a([n,r]),o=Fn(e,i);s(o)}return f}function m(t){if(h=!0,r=t,!0===l){var i=a([n,r]),o=Fn(e,i);s(o)}return f}function v(){}return i=On(v,d,p),o=On(v,d,m),P(c._closedPromise,(function(e){Nt(i._readableStreamController,e),Nt(o._readableStreamController,e)})),[i,o]}var Gt=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},Vt=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!1===Xt(this))throw xn("view");return this._view},enumerable:!0,configurable:!0}),e.prototype.respond=function(e){if(!1===Xt(this))throw xn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");m(this._view.buffer),vn(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!1===Xt(this))throw xn("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");m(e.buffer),gn(this._associatedReadableByteStreamController,e)},e}(),Wt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!1===qt(this))throw wn("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(Vt.prototype);_n(n,this,t),this._byobRequest=n}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===qt(this))throw wn("desiredSize");return mn(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===qt(this))throw wn("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");fn(this)},e.prototype.enqueue=function(e){if(!1===qt(this))throw wn("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");m(e.buffer),dn(this,e)},e.prototype.error=function(e){if(!1===qt(this))throw wn("error");pn(this,e)},e.prototype[V]=function(e){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek();t.bytesFilled=0}le(this);var n=this._cancelAlgorithm(e);return hn(this),n},e.prototype[W]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength,tn(this);var n=void 0;try{n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(s){return A(s)}return S(O(n,!1,e._reader._forAuthorCode))}var r=this._autoAllocateChunkSize;if(void 0!==r){var i=void 0;try{i=new ArrayBuffer(r)}catch(c){return A(c)}var o={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var a=X(e);return Yt(this),a},e}();function qt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Xt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Yt(e){var t=ln(e);if(!1!==t)if(!0!==e._pulling){e._pulling=!0;var n=e._pullAlgorithm();E(n,(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Yt(e))}),(function(t){pn(e,t)}))}else e._pullAgain=!0}function $t(e){nn(e),e._pendingPullIntos=new L}function Zt(e,t){var n=!1;"closed"===e._state&&(n=!0);var r=Jt(t);"default"===t.readerType?Y(e,r,n):Tn(e,r,n)}function Jt(e){var t=e.bytesFilled,n=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/n)}function Kt(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function Qt(e,t){var n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,a=o-o%n,c=i,u=!1;a>r&&(c=a-t.bytesFilled,u=!0);var l=e._queue;while(c>0){var h=l.peek(),f=Math.min(c,h.byteLength),d=t.byteOffset+t.bytesFilled;s(t.buffer,d,h.buffer,h.byteOffset,f),h.byteLength===f?l.shift():(h.byteOffset+=f,h.byteLength-=f),e._queueTotalSize-=f,en(e,f,t),c-=f}return u}function en(e,t,n){nn(e),n.bytesFilled+=t}function tn(e){0===e._queueTotalSize&&!0===e._closeRequested?(hn(e),jn(e._controlledReadableByteStream)):Yt(e)}function nn(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function rn(e){while(e._pendingPullIntos.length>0){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();!0===Qt(e,t)&&(un(e),Zt(e._controlledReadableByteStream,t))}}function on(e,t){var n=e._controlledReadableByteStream,r=1;t.constructor!==DataView&&(r=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o=p(t.buffer),a={buffer:o,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:r,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),An(n);if("closed"===n._state){var s=new i(a.buffer,a.byteOffset,0);return S(O(s,!0,n._reader._forAuthorCode))}if(e._queueTotalSize>0){if(!0===Qt(e,a)){var c=Jt(a);return tn(e),S(O(c,!1,n._reader._forAuthorCode))}if(!0===e._closeRequested){var u=new TypeError("Insufficient bytes to fill elements in the given buffer");return pn(e,u),A(u)}}e._pendingPullIntos.push(a);var l=An(n);return Yt(e),l}function an(e,t){t.buffer=p(t.buffer);var n=e._controlledReadableByteStream;if(!0===Mn(n))while(En(n)>0){var r=un(e);Zt(n,r)}}function sn(e,t,n){if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range");if(en(e,t,n),!(n.bytesFilled<n.elementSize)){un(e);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,o=n.buffer.slice(i-r,i);Kt(e,o,0,o.byteLength)}n.buffer=p(n.buffer),n.bytesFilled-=r,Zt(e._controlledReadableByteStream,n),rn(e)}}function cn(e,t){var n=e._pendingPullIntos.peek(),r=e._controlledReadableByteStream;if("closed"===r._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");an(e,n)}else sn(e,t,n);Yt(e)}function un(e){var t=e._pendingPullIntos.shift();return nn(e),t}function ln(e){var t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(!0===e._closeRequested)return!1;if(!1===e._started)return!1;if(!0===Z(t)&&$(t)>0)return!0;if(!0===Mn(t)&&En(t)>0)return!0;var n=mn(e);return n>0}function hn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function fn(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){var n=e._pendingPullIntos.peek();if(n.bytesFilled>0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw pn(e,r),r}}hn(e),jn(t)}}function dn(e,t){var n=e._controlledReadableByteStream,r=t.buffer,i=t.byteOffset,o=t.byteLength,a=p(r);if(!0===Z(n))if(0===$(n))Kt(e,a,i,o);else{var s=new Uint8Array(a,i,o);Y(n,s,!1)}else!0===Mn(n)?(Kt(e,a,i,o),rn(e)):Kt(e,a,i,o);Yt(e)}function pn(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&($t(e),le(e),hn(e),Un(n,t))}function mn(e){var t=e._controlledReadableByteStream,n=t._state;return"errored"===n?null:"closed"===n?0:e._strategyHWM-e._queueTotalSize}function vn(e,t){if(t=Number(t),!1===c(t))throw new RangeError("bytesWritten must be a finite");cn(e,t)}function gn(e,t){var n=e._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=t.buffer,cn(e,t.byteLength)}function yn(e,t,n,r,i,o,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,le(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=v(o),t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new L,e._readableStreamController=t;var s=n();E(S(s),(function(){t._started=!0,Yt(t)}),(function(e){pn(t,e)}))}function bn(e,t,n){var r=Object.create(Wt.prototype);function i(){return f(t,"start",[r])}var o=h(t,"pull",0,[r]),a=h(t,"cancel",1,[]),s=t.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Gt(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");yn(e,r,i,o,a,n,s)}function _n(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function xn(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function wn(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Sn(e,t){void 0===t&&(t=!1);var n=new Pn(e);return n._forAuthorCode=t,n}function An(e){var t=w((function(t,n){var r={_resolve:t,_reject:n};e._reader._readIntoRequests.push(r)}));return t}function Tn(e,t,n){var r=e._reader,i=r._readIntoRequests.shift();i._resolve(O(t,n,r._forAuthorCode))}function En(e){return e._reader._readIntoRequests.length}function Mn(e){var t=e._reader;return void 0!==t&&!!Cn(t)}var Pn=function(){function e(e){if(!Nn(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===qt(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Dn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readIntoRequests=new L}return Object.defineProperty(e.prototype,"closed",{get:function(){return Cn(this)?this._closedPromise:A(kn("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return Cn(this)?void 0===this._ownerReadableStream?A(F("cancel")):N(this,e):A(kn("cancel"))},e.prototype.read=function(e){return Cn(this)?void 0===this._ownerReadableStream?A(F("read from")):ArrayBuffer.isView(e)?(m(e.buffer),0===e.byteLength?A(new TypeError("view must have non-zero byteLength")):Rn(this,e)):A(new TypeError("view must be an array buffer view")):A(kn("read"))},e.prototype.releaseLock=function(){if(!Cn(this))throw kn("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},e}();function Cn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Rn(e,t){var n=e._ownerReadableStream;return n._disturbed=!0,"errored"===n._state?A(n._storedError):on(n._readableStreamController,t)}function kn(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var Ln=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),In(this);var n=t.size,r=t.highWaterMark,i=e.type,o=String(i);if("bytes"===o){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),r=v(r),bn(this,e,r)}else{if(void 0!==i)throw new RangeError("Invalid type is specified");var a=g(n);void 0===r&&(r=1),r=v(r),zt(this,e,r,a)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===Nn(this))throw zn("locked");return Dn(this)},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return!1===Nn(this)?A(zn("cancel")):!0===Dn(this)?A(new TypeError("Cannot cancel a stream that already has a reader")):Fn(this,e)},e.prototype.getReader=function(e){var t=(void 0===e?{}:e).mode;if(!1===Nn(this))throw zn("getReader");if(void 0===t)return q(this,!0);if(t=String(t),"byob"===t)return Sn(this,!0);throw new RangeError("Invalid mode is specified")},e.prototype.pipeThrough=function(e,t){var n=e.writable,r=e.readable,i=void 0===t?{}:t,o=i.preventClose,a=i.preventAbort,s=i.preventCancel,c=i.signal;if(!1===Nn(this))throw zn("pipeThrough");if(!1===ge(n))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Nn(r))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(o=Boolean(o),a=Boolean(a),s=Boolean(s),void 0!==c&&!wt(c))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Dn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ye(n))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var u=Mt(this,n,o,a,s,c);return R(u),r},e.prototype.pipeTo=function(e,t){var n=void 0===t?{}:t,r=n.preventClose,i=n.preventAbort,o=n.preventCancel,a=n.signal;return!1===Nn(this)?A(zn("pipeTo")):!1===ge(e)?A(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),i=Boolean(i),o=Boolean(o),void 0===a||wt(a)?!0===Dn(this)?A(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ye(e)?A(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Mt(this,e,r,i,o,a):A(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},e.prototype.tee=function(){if(!1===Nn(this))throw zn("tee");var e=Ht(this);return a(e)},e.prototype.getIterator=function(e){var t=(void 0===e?{}:e).preventCancel,n=void 0!==t&&t;if(!1===Nn(this))throw zn("getIterator");return ie(this,n)},e}();function On(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var o=Object.create(Ln.prototype);In(o);var a=Object.create(Pt.prototype);return Ut(o,a,e,t,n,r,i),o}function In(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Nn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function Dn(e){return void 0!==e._reader}function Fn(e,t){if(e._disturbed=!0,"closed"===e._state)return S(void 0);if("errored"===e._state)return A(e._storedError);jn(e);var r=e._readableStreamController[V](t);return C(r,n)}function jn(e){e._state="closed";var t=e._reader;void 0!==t&&(ee(t)&&(t._readRequests.forEach((function(e){e._resolve(O(void 0,!0,t._forAuthorCode))})),t._readRequests=new L),G(t))}function Un(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(ee(n)?(n._readRequests.forEach((function(e){e._reject(t)})),n._readRequests=new L):(n._readIntoRequests.forEach((function(e){e._reject(t)})),n._readIntoRequests=new L),B(n,t))}function zn(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}"symbol"===typeof t.asyncIterator&&Object.defineProperty(Ln.prototype,t.asyncIterator,{value:Ln.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Bn=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}return e.prototype.size=function(e){return e.byteLength},e}(),Hn=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}return e.prototype.size=function(){return 1},e}(),Gn=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r=t.size,i=t.highWaterMark,o=n.size,a=n.highWaterMark,s=e.writableType;if(void 0!==s)throw new RangeError("Invalid writable type specified");var c=g(r);void 0===i&&(i=1),i=v(i);var u=e.readableType;if(void 0!==u)throw new RangeError("Invalid readable type specified");var l,h=g(o);void 0===a&&(a=0),a=v(a);var d=w((function(e){l=e}));Vn(this,d,i,c,a,h),Kn(this,e);var p=f(e,"start",[this._transformStreamController]);l(p)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!1===Wn(this))throw ur("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!1===Wn(this))throw ur("writable");return this._writable},enumerable:!0,configurable:!0}),e}();function Vn(e,t,n,r,i,o){function a(){return t}function s(t){return ir(e,t)}function c(t){return or(e,t)}function u(){return ar(e)}function l(){return sr(e)}function h(t){return Xn(e,t),S(void 0)}e._writable=me(a,s,u,c,n,r),e._readable=On(a,l,h,i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Yn(e,!0),e._transformStreamController=void 0}function Wn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function qn(e,t){Nt(e._readable._readableStreamController,t),Xn(e,t)}function Xn(e,t){Qn(e._transformStreamController),tt(e._writable._writableStreamController,t),!0===e._backpressure&&Yn(e,!1)}function Yn(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=w((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}var $n=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===Zn(this))throw cr("desiredSize");var e=this._controlledTransformStream._readable._readableStreamController;return Dt(e)},enumerable:!0,configurable:!0}),e.prototype.enqueue=function(e){if(!1===Zn(this))throw cr("enqueue");er(this,e)},e.prototype.error=function(e){if(!1===Zn(this))throw cr("error");tr(this,e)},e.prototype.terminate=function(){if(!1===Zn(this))throw cr("terminate");rr(this)},e}();function Zn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Jn(e,t,n,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r}function Kn(e,t){var n=Object.create($n.prototype),r=function(e){try{return er(n,e),S(void 0)}catch(t){return A(t)}},i=t.transform;if(void 0!==i){if("function"!==typeof i)throw new TypeError("transform is not a method");r=function(e){return d(i,t,[e,n])}}var o=h(t,"flush",0,[n]);Jn(e,n,r,o)}function Qn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function er(e,t){var n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!1===jt(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{It(r,t)}catch(o){throw Xn(n,o),n._readable._storedError}var i=Ft(r);i!==n._backpressure&&Yn(n,!0)}function tr(e,t){qn(e._controlledTransformStream,t)}function nr(e,t){var n=e._transformAlgorithm(t);return C(n,void 0,(function(t){throw qn(e._controlledTransformStream,t),t}))}function rr(e){var t=e._controlledTransformStream,n=t._readable._readableStreamController;!0===jt(n)&&Ot(n);var r=new TypeError("TransformStream terminated");Xn(t,r)}function ir(e,t){var n=e._transformStreamController;if(!0===e._backpressure){var r=e._backpressureChangePromise;return C(r,(function(){var r=e._writable,i=r._state;if("erroring"===i)throw r._storedError;return nr(n,t)}))}return nr(n,t)}function or(e,t){return qn(e,t),S(void 0)}function ar(e){var t=e._readable,n=e._transformStreamController,r=n._flushAlgorithm();return Qn(n),C(r,(function(){if("errored"===t._state)throw t._storedError;var e=t._readableStreamController;!0===jt(e)&&Ot(e)}),(function(n){throw qn(e,n),t._storedError}))}function sr(e){return Yn(e,!1),e._backpressureChangePromise}function cr(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function ur(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=Bn,e.CountQueuingStrategy=Hn,e.ReadableStream=Ln,e.TransformStream=Gn,e.WritableStream=de,Object.defineProperty(e,"__esModule",{value:!0})}))},function(e,t,n){n(145),n(114),n(77),n(116);var r=n(43);e.exports=r.Map},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(52),a=n(29),s=n(147),c=n(124),u=n(123),l=n(22),h=n(14),f=n(97),d=n(85),p=n(149);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=m?"set":"add",y=i[e],b=y&&y.prototype,_=y,x={},w=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof y||!(v||b.forEach&&!h((function(){(new y).entries().next()})))))_=n.getConstructor(t,e,m,g),s.REQUIRED=!0;else if(o(e,!0)){var S=new _,A=S[g](v?{}:-0,1)!=S,T=h((function(){S.has(1)})),E=f((function(e){new y(e)})),M=!v&&h((function(){var e=new y,t=5;while(t--)e[g](t,t);return!e.has(-0)}));E||(_=t((function(t,n){u(t,_,e);var r=p(new y,t,_);return void 0!=n&&c(n,r[g],r,m),r})),_.prototype=b,b.constructor=_),(T||M)&&(w("delete"),w("has"),m&&w("get")),(M||A)&&w(g),v&&b.clear&&delete b.clear}return x[e]=_,r({global:!0,forced:_!=y},x),d(_,e),v||n.setStrong(_,e,m),_}},function(e,t,n){var r=n(39),i=n(22),o=n(23),a=n(27).f,s=n(38),c=n(148),u=s("meta"),l=0,h=Object.isExtensible||function(){return!0},f=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!h(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},p=function(e,t){if(!o(e,u)){if(!h(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},m=function(e){return c&&v.REQUIRED&&h(e)&&!o(e,u)&&f(e),e},v=e.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:m};r[u]=!0},function(e,t,n){var r=n(14);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(22),i=n(87);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t,n){"use strict";var r=n(27).f,i=n(71),o=n(121),a=n(62),s=n(123),c=n(124),u=n(79),l=n(122),h=n(13),f=n(147).fastKey,d=n(33),p=d.set,m=d.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),void 0!=r&&c(r,e[u],e,n)})),d=m(t),v=function(e,t,n){var r,i,o=d(e),a=g(e,t);return a?a.value=n:(o.last=a={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},g=function(e,t){var n,r=d(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(l.prototype,{clear:function(){var e=this,t=d(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,h?t.size=0:e.size=0},delete:function(e){var t=this,n=d(t),r=g(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:t.size--}return!!r},forEach:function(e){var t,n=d(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),o(l.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){n(152),n(114),n(77),n(116);var r=n(43);e.exports=r.Set},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){n(114),n(154),n(116);var r=n(43);e.exports=r.WeakMap},function(e,t,n){"use strict";var r,i=n(11),o=n(121),a=n(147),s=n(146),c=n(155),u=n(22),l=n(33).enforce,h=n(34),f=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=e.exports=s("WeakMap",p,c);if(h&&f){r=c.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var v=m.prototype,g=v["delete"],y=v.has,b=v.get,_=v.set;o(v,{delete:function(e){if(u(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),g.call(this,e)||t.frozen["delete"](e)}return g.call(this,e)},has:function(e){if(u(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(u(e)&&!d(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(u(e)&&!d(e)){var n=l(this);n.frozen||(n.frozen=new r),y.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},function(e,t,n){"use strict";var r=n(121),i=n(147).getWeakData,o=n(28),a=n(22),s=n(123),c=n(124),u=n(156),l=n(23),h=n(33),f=h.set,d=h.getterFor,p=u.find,m=u.findIndex,v=0,g=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var h=e((function(e,r){s(e,h,t),f(e,{type:t,id:v++,frozen:void 0}),void 0!=r&&c(r,e[u],e,n)})),p=d(t),m=function(e,t,n){var r=p(e),a=i(o(t),!0);return!0===a?g(r).set(t,n):a[r.id]=n,e};return r(h.prototype,{delete:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t)["delete"](e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?g(t).has(e):n&&l(n,t.id)}}),r(h.prototype,n?{get:function(e){var t=p(this);if(a(e)){var n=i(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),h}}},function(e,t,n){var r=n(62),i=n(18),o=n(83),a=n(47),s=n(157),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=5==e||h;return function(d,p,m,v){for(var g,y,b=o(d),_=i(b),x=r(p,m,3),w=a(_.length),S=0,A=v||s,T=t?A(d,w):n?A(d,0):void 0;w>S;S++)if((f||S in _)&&(g=_[S],y=x(g,S,b),e))if(t)T[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(T,g)}else if(l)return!1;return h?-1:u||l?l:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var r=n(22),i=n(158),o=n(57),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(19);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){n(114),n(160),n(116);var r=n(43);e.exports=r.WeakSet},function(e,t,n){"use strict";var r=n(146),i=n(155);r("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){n(162);var r=n(61);e.exports=r("String","codePointAt")},function(e,t,n){"use strict";var r=n(10),i=n(78).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){n(164);var r=n(43);e.exports=r.String.fromCodePoint},function(e,t,n){var r=n(10),i=n(49),o=String.fromCharCode,a=String.fromCodePoint,s=!!a&&1!=a.length;r({target:"String",stat:!0,forced:s},{fromCodePoint:function(e){var t,n=[],r=arguments.length,a=0;while(r>a){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){n(166),n(114),n(168),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187);var r=n(43);e.exports=r.Symbol},function(e,t,n){"use strict";var r=n(10),i=n(14),o=n(158),a=n(22),s=n(83),c=n(47),u=n(93),l=n(157),h=n(167),f=n(57),d=n(133),p=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=d>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=h("concat"),b=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},_=!g||!y;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,i,o,a=s(this),h=l(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=c(o.length),f+i>m)throw TypeError(v);for(n=0;n<i;n++,f++)n in o&&u(h,f,o[n])}else{if(f>=m)throw TypeError(v);u(h,f++,o)}return h.length=f,h}})},function(e,t,n){var r=n(14),i=n(57),o=n(133),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(42),a=n(37),s=n(13),c=n(58),u=n(59),l=n(14),h=n(23),f=n(158),d=n(22),p=n(28),m=n(83),v=n(17),g=n(21),y=n(16),b=n(71),_=n(73),x=n(44),w=n(169),S=n(51),A=n(12),T=n(27),E=n(15),M=n(26),P=n(29),C=n(36),R=n(35),k=n(39),L=n(38),O=n(57),I=n(170),N=n(171),D=n(85),F=n(33),j=n(156).forEach,U=R("hidden"),z="Symbol",B="prototype",H=O("toPrimitive"),G=F.set,V=F.getterFor(z),W=Object[B],q=i.Symbol,X=o("JSON","stringify"),Y=A.f,$=T.f,Z=w.f,J=E.f,K=C("symbols"),Q=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[B]||!re[B].findChild,oe=s&&l((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(W,t);r&&delete W[t],$(e,t,n),r&&e!==W&&$(W,t,r)}:$,ae=function(e,t){var n=K[e]=b(q[B]);return G(n,{type:z,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ce=function(e,t,n){e===W&&ce(Q,t,n),p(e);var r=g(t,!0);return p(n),h(K,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(e,U)||$(e,U,y(1,{})),e[U][r]=!0),oe(e,r,n)):$(e,r,n)},ue=function(e,t){p(e);var n=v(t),r=_(n).concat(pe(n));return j(r,(function(t){s&&!he.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?b(e):ue(b(e),t)},he=function(e){var t=g(e,!0),n=J.call(this,t);return!(this===W&&h(K,t)&&!h(Q,t))&&(!(n||!h(this,t)||!h(K,t)||h(this,U)&&this[U][t])||n)},fe=function(e,t){var n=v(e),r=g(t,!0);if(n!==W||!h(K,r)||h(Q,r)){var i=Y(n,r);return!i||!h(K,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(v(e)),n=[];return j(t,(function(e){h(K,e)||h(k,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Z(t?Q:v(e)),r=[];return j(n,(function(e){!h(K,e)||t&&!h(W,e)||r.push(K[e])})),r};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===W&&n.call(Q,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),oe(this,t,y(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:n}),ae(t,e)},P(q[B],"toString",(function(){return V(this).tag})),P(q,"withoutSetter",(function(e){return ae(L(e),e)})),E.f=he,T.f=ce,A.f=fe,x.f=w.f=de,S.f=pe,I.f=function(e){return ae(O(e),e)},s&&($(q[B],"description",{configurable:!0,get:function(){return V(this).description}}),a||P(W,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),j(_(ne),(function(e){N(e)})),r({target:z,stat:!0,forced:!c},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),X){var me=!c||l((function(){var e=q();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,X.apply(null,i)}})}q[B][H]||M(q[B],H,q[B].valueOf),D(q,z),k[U]=!0},function(e,t,n){var r=n(17),i=n(44).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(57);t.f=r},function(e,t,n){var r=n(43),i=n(23),o=n(170),a=n(27).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(171);r("asyncIterator")},function(e,t,n){"use strict";var r=n(10),i=n(13),o=n(11),a=n(23),s=n(22),c=n(27).f,u=n(40),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(h[t]=!0),t};u(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(h,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){var r=n(171);r("hasInstance")},function(e,t,n){var r=n(171);r("isConcatSpreadable")},function(e,t,n){var r=n(171);r("iterator")},function(e,t,n){var r=n(171);r("match")},function(e,t,n){var r=n(171);r("matchAll")},function(e,t,n){var r=n(171);r("replace")},function(e,t,n){var r=n(171);r("search")},function(e,t,n){var r=n(171);r("species")},function(e,t,n){var r=n(171);r("split")},function(e,t,n){var r=n(171);r("toPrimitive")},function(e,t,n){var r=n(171);r("toStringTag")},function(e,t,n){var r=n(171);r("unscopables")},function(e,t,n){var r=n(85);r(Math,"Math",!0)},function(e,t,n){var r=n(11),i=n(85);i(r.JSON,"JSON",!0)},function(e,t,n){n(189);var r=n(61);e.exports=r("String","padStart")},function(e,t,n){"use strict";var r=n(10),i=n(190).start,o=n(192);r({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(47),i=n(191),o=n(20),a=Math.ceil,s=function(e){return function(t,n,s){var c,u,l=String(o(t)),h=l.length,f=void 0===s?" ":String(s),d=r(n);return d<=h||""==f?l:(c=d-h,u=i.call(f,a(c/f.length)),u.length>c&&(u=u.slice(0,c)),e?l+u:u+l)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){"use strict";var r=n(48),i=n(20);e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){var r=n(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){n(194);var r=n(61);e.exports=r("String","padEnd")},function(e,t,n){"use strict";var r=n(10),i=n(190).end,o=n(192);r({target:"String",proto:!0,forced:o},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(196);var r=n(43);e.exports=r.Object.values},function(e,t,n){var r=n(10),i=n(197).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(13),i=n(73),o=n(17),a=n(15).f,s=function(e){return function(t){var n,s=o(t),c=i(s),u=c.length,l=0,h=[];while(u>l)n=c[l++],r&&!a.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(207),_webgl=__w_pdfjs_require__(208);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"===typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,o=null;for(var a in t)if("url"!==a||"undefined"===typeof window)if("range"!==a)if("worker"!==a)if("data"!==a||t[a]instanceof Uint8Array)r[a]=t[a];else{var s=t[a];if("string"===typeof s)r[a]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[a]=new Uint8Array(s)}else r[a]=new Uint8Array(s)}else o=t[a];else i=t[a];else r[a]=new URL(t[a],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!==typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!==typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!==typeof r.disableRange&&(r.disableRange=!1),"boolean"!==typeof r.disableStream&&(r.disableStream=!1),"boolean"!==typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var c={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=c.port?PDFWorker.fromPort(c):new PDFWorker(c),n._worker=o}var u=n.docId;return o.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(o,r,i,u),t=new Promise((function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),i=t[0],a=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(u,i,o.port);s.postMessageTransfers=o.postMessageTransfers;var c=new WorkerTransport(s,n,a,r);n._transport=c,s.send("Ready",null)}))}))["catch"](n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var PDFDocumentLoadingTask=function(){var e=0,t=function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"destroy",value:function(){var e=this;this.destroyed=!0;var t=this._transport?this._transport.destroy():Promise.resolve();return t.then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}},{key:"promise",get:function(){return this._capability.promise}}]),t}();return t}(),PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;){var i=n.value;i(e,t)}}catch(o){r.e(o)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;){var o=r.value;o(e,t)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;){var i=n.value;i(e)}}catch(o){r.e(o)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;){var r=t.value;r()}}catch(i){n.e(i)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(e){return e&&e.dest?e.dest:null}))}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,o=void 0===i?0:i,a=e.offsetY,s=void 0===a?0:a,c=e.dontFlip,u=void 0!==c&&c;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:o,offsetY:s,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,i=e.intent,o=void 0===i?"display":i,a=e.enableWebGL,s=void 0!==a&&a,c=e.renderInteractiveForms,u=void 0!==c&&c,l=e.transform,h=void 0===l?null:l,f=e.imageLayer,d=void 0===f?null:f,p=e.canvasFactory,m=void 0===p?null:p,v=e.background,g=void 0===v?null:v;this._stats&&this._stats.time("Overall");var y="print"===o?"print":"display";this.pendingCleanup=!1,this.intentStates[y]||(this.intentStates[y]=Object.create(null));var b=this.intentStates[y];b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);var _=m||new _display_utils.DOMCanvasFactory,x=new _webgl.WebGLContext({enable:s});b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:y,renderInteractiveForms:!0===u}));var w=function(e){var n=b.renderTasks.indexOf(S);n>=0&&b.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===y)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(S.capability.reject(e),t._abortOperatorList({intentState:b,reason:e})):S.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},S=new InternalRenderTask({callback:w,params:{canvasContext:n,viewport:r,transform:h,imageLayer:d,background:g},objs:this.objs,commonObjs:this.commonObjs,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:x,useRequestAnimationFrame:"print"!==y,pdfBug:this._pdfBug});b.renderTasks||(b.renderTasks=[]),b.renderTasks.push(S);var A=S.task;return b.displayReadyCapability.promise.then((function(e){t.pendingCleanup?w():(t._stats&&t._stats.time("Rendering"),S.initializeGraphics(e),S.operatorListChanged())}))["catch"](w),A}},{key:"getOperatorList",value:function(){function e(){if(r.operatorList.lastChunk){r.opListReadCapability.resolve(r.operatorList);var e=r.renderTasks.indexOf(n);e>=0&&r.renderTasks.splice(e,1)}}var t="oplist";this.intentStates[t]||(this.intentStates[t]=Object.create(null));var n,r=this.intentStates[t];return r.opListReadCapability||(n={},n.operatorListChanged=e,r.opListReadCapability=(0,_util.createPromiseCapability)(),r.renderTasks=[],r.renderTasks.push(n),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:t})),r.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,o=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i},{highWaterMark:o,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){function r(){i.read().then((function(t){var n,i=t.value,a=t.done;a?e(o):(Object.assign(o.styles,i.styles),(n=o.items).push.apply(n,_toConsumableArray(i.items)),r())}),n)}var i=t.getReader(),o={items:[],styles:Object.create(null)};r()}))}},{key:"_destroy",value:function(){var e=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach((function(n){var r=e.intentStates[n];e._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&r.renderTasks.forEach((function(e){var n=e.capability.promise["catch"]((function(){}));t.push(n),e.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some((function(t){var n=e.intentStates[t];return 0!==n.renderTasks.length||!n.operatorList.lastChunk})))&&(Object.keys(this.intentStates).forEach((function(t){delete e.intentStates[t]})),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0)}},{key:"_startRenderPage",value:function(e,t){var n=this.intentStates[t];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e),r=n.getReader(),i=this.intentStates[e.intent];i.streamReader=r;var o=function e(){r.read().then((function(n){var r=n.value,o=n.done;o?i.streamReader=null:t._transport.destroyed||(t._renderPageChunk(r,i),e())}),(function(e){if(i.streamReader=null,!t._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(var n=0;n<i.renderTasks.length;n++)i.renderTasks[n].operatorListChanged();t._tryCleanup()}if(i.displayReadyCapability)i.displayReadyCapability.reject(e);else{if(!i.opListReadCapability)throw e;i.opListReadCapability.reject(e)}}}))};o()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,o=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"===_typeof(r)&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!o){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;function r(e){if("object"!==_typeof(e)||null===e)return e;if(i.has(e))return i.get(e);var n,o;if((n=e.buffer)&&(0,_util.isArrayBuffer)(n)){var a=t&&t.includes(n);return o=a?new e.constructor(n,e.byteOffset,e.byteLength):new e.constructor(e),i.set(e,o),o}for(var s in o=Array.isArray(e)?[]:{},i.set(e,o),e){var c=void 0,u=e;while(!(c=Object.getOwnPropertyDescriptor(u,s)))u=Object.getPrototypeOf(u);if("undefined"!==typeof c.value)if("function"!==typeof c.value)o[s]=r(c.value);else if(e.hasOwnProperty&&e.hasOwnProperty(s))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(e[s]))}return o}if(this._defer){var i=new WeakMap,o={data:r(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,o)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"===typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if("undefined"!==typeof fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator["default"].mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator["default"].wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,o=void 0===i?null:i,a=t.verbosity,s=void 0===a?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,e),o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return pdfWorkerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!==typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},o=function(){e._webWorker||i()};n.addEventListener("error",o),r.on("test",(function(t){n.removeEventListener("error",o),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",o),e.destroyed)i();else try{a()}catch(r){e._setupFakeWorker()}}));var a=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void a()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=o,e._readyCapability.resolve(),o.send("configure",{verbosity:e.verbosity})}}))["catch"]((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts["delete"](this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value,r=e.done;r?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}))["catch"]((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t)}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value,r=e.done;r?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}))["catch"]((function(e){n.error(e)}))},n.onCancel=function(e){r.cancel(e)}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break}n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){var r=function(t){e._passwordCapability.resolve({password:t})};try{n.onPassword(r,t.code)}catch(i){e._passwordCapability.reject(i)}}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){if(!e.destroyed){var n=e.pageCache[t.pageIndex];n._startRenderPage(t.transparency,t.intent)}})),t.on("commonobj",(function(n){if(!e.destroyed){var r=_slicedToArray(n,3),i=r[0],o=r[1],a=r[2];if(!e.commonObjs.has(i))switch(o){case"Font":var s=e._params;if("error"in a){var c=a.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(i,c);break}var u=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var l=new _font_loader.FontFaceObject(a,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(l)["catch"]((function(e){return t.sendWithPromise("FontFallback",{id:i})}))["finally"]((function(){!s.fontExtraProperties&&l.data&&(l.data=null),e.commonObjs.resolve(i,l)}));break;case"FontPath":case"FontType3Res":case"Image":e.commonObjs.resolve(i,a);break;default:throw new Error("Got unknown common object type ".concat(o))}}})),t.on("obj",(function(t){if(!e.destroyed){var n=_slicedToArray(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=e.pageCache[i];if(!s.objs.has(r))switch(o){case"Image":s.objs.resolve(r,a);var c=8e6;a&&"data"in a&&a.data.length>c&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(o))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])}))["catch"]((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e})["catch"]((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r){var i=r.cleanup();if(!i)throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}}e.commonObjs.clear(),e.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=function(){var e=new WeakSet,t=function(){function t(e){var n=e.callback,r=e.params,i=e.objs,o=e.commonObjs,a=e.operatorList,s=e.pageIndex,c=e.canvasFactory,u=e.webGLContext,l=e.useRequestAnimationFrame,h=void 0!==l&&l,f=e.pdfBug,d=void 0!==f&&f;_classCallCheck(this,t),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=u,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(t,[{key:"initializeGraphics",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n=this.params,r=n.canvasContext,i=n.viewport,o=n.transform,a=n.imageLayer,s=n.background;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,a),this.gfx.beginDrawing({transform:o,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e["delete"](this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound()["catch"](e.cancel.bind(e))})):Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},{key:"_next",value:function(){var t=_asyncToGenerator(_regenerator["default"].mark((function t(){return _regenerator["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e["delete"](this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()}]),t}();return t}(),version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=o(n(2)),i=n(5);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=f();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var b,_=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature;v(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this.nativeFontFaces=[],this.styleElement=null}return y(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||(t=this.styleElement=document.createElement("style"),t.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(e){document.fonts["delete"](e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=m(r["default"].mark((function e(t){var n,o,a=this;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(n=t.createNativeFontFace(),!n){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e["catch"](7),this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,i.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(o=t.createFontFaceRule(),!o){e.next=26;break}if(this.insertRule(o),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=a._queueLoadingCallback(e);a._prepareFontLoadEvent([o],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_queueLoadingCallback",value:function(e){(0,i.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!==typeof document&&!!document.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}}]),e}();t.FontLoader=b,t.FontLoader=b=function(e){s(n,e);var t=u(n);function n(e){var r;return v(this,n),r=t.call(this,e),r.loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return y(n,[{key:"_queueLoadingCallback",value:function(e){function t(){(0,i.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;while(n.requests.length>0&&n.requests[0].done){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext,r={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:!1,complete:t,callback:e};return n.requests.push(r),r}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,n,r){var i=e.substring(0,t),o=e.substring(t+n);return i+r+o}var a,s,c=document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),l=0;function h(e,t){if(l++,l>30)return(0,i.warn)("Load test font never loaded."),void t();u.font="30px "+e,u.fillText(".",0,20);var n=u.getImageData(0,0,1,1);n.data[3]>0?t():setTimeout(h.bind(null,e,t))}var f="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,p=976;d=o(d,p,f.length,f);var m=16,v=1482184792,g=r(d,m);for(a=0,s=f.length-3;a<s;a+=4)g=g-v+r(f,a)|0;a<f.length&&(g=g-v+r(f+"XXX",a)|0),d=o(d,m,4,(0,i.string32)(g));var y="url(data:font/opentype;base64,".concat(btoa(d),");"),b='@font-face {font-family:"'.concat(f,'";src:').concat(y,"}");this.insertRule(b);var _=[];for(a=0,s=t.length;a<s;a++)_.push(t[a].loadedName);_.push(f);var x=document.createElement("div");for(x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px",a=0,s=_.length;a<s;++a){var w=document.createElement("span");w.textContent="Hi",w.style.fontFamily=_[a],x.appendChild(w)}document.body.appendChild(x),h(f,(function(){document.body.removeChild(x),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"===typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){var e=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",e())}}]),n}(_);var x=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,o=n.disableFontFace,a=void 0!==o&&o,s=n.ignoreErrors,c=void 0!==s&&s,u=n.onUnsupportedFeature,l=void 0===u?null:u,h=n.fontRegistry,f=void 0===h?null:h;for(var d in v(this,e),this.compiledGlyphs=Object.create(null),t)this[d]=t[d];this.isEvalSupported=!1!==i,this.disableFontFace=!0===a,this.ignoreErrors=!0===c,this._onUnsupportedFeature=l,this.fontRegistry=f}return y(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,i.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,i.warn)('getPathGenerator - ignoring character: "'.concat(u,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&i.IsEvalSupportedCached.value){for(var o,a="",s=0,c=n.length;s<c;s++)r=n[s],o=void 0!==r.args?r.args.join(","):"",a+="c."+r.cmd+"("+o+");\n";return this.compiledGlyphs[t]=new Function("c","size",a)}return this.compiledGlyphs[t]=function(e,t){for(var i=0,o=n.length;i<o;i++)r=n[i],"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}();t.FontFaceObject=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(7),i=Object.create(null);(function(){r.isNodeJS&&(i.disableFontFace=!0)})();var o=Object.freeze(i);t.apiCompatibilityParams=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(5),i=n(202);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=16,u=100,l=4096,h=.65,f=!0,d=1e3,p=16;function m(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=t*i-n*r,c=n*r-t*i;return[i/s,n/c,r/c,t/s,(i*o-r*a)/c,(n*o-t*a)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,o,a){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*o+s[2]*a+s[4],s[1]*o+s[3]*a+s[5]],e._originalTransform(t,n,r,i,o,a)},e.setTransform=function(t,n,r,i,o,a){this._transformMatrix=[t,n,r,i,o,a],e._originalSetTransform(t,n,r,i,o,a)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var v=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&m(i.context),i},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();function g(e){var t,n,r,i,o=1e3,a=e.width,s=e.height,c=a+1,u=new Uint8Array(c*(s+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=a+7&-8,f=e.data,d=new Uint8Array(h*s),p=0;for(t=0,i=f.length;t<i;t++){var m=128,v=f[t];while(m>0)d[p++]=v&m?0:255,m>>=1}var g=0;for(p=0,0!==d[p]&&(u[0]=1,++g),n=1;n<a;n++)d[p]!==d[p+1]&&(u[n]=d[p]?2:1,++g),p++;for(0!==d[p]&&(u[n]=2,++g),t=1;t<s;t++){p=t*h,r=t*c,d[p-h]!==d[p]&&(u[r]=d[p]?1:8,++g);var y=(d[p]?4:0)+(d[p-h]?8:0);for(n=1;n<a;n++)y=(y>>2)+(d[p+1]?4:0)+(d[p-h+1]?8:0),l[y]&&(u[r+n]=l[y],++g),p++;if(d[p-h]!==d[p]&&(u[r+n]=d[p]?2:4,++g),g>o)return null}for(p=h*(s-1),r=t*c,0!==d[p]&&(u[r]=8,++g),n=1;n<a;n++)d[p]!==d[p+1]&&(u[r+n]=d[p]?4:8,++g),p++;if(0!==d[p]&&(u[r+n]=4,++g),g>o)return null;var b=new Int32Array([0,c,-1,0,-c,0,0,0,1]),_=[];for(t=0;g&&t<=s;t++){var x=t*c,w=x+a;while(x<w&&!u[x])x++;if(x!==w){var S,A=[x%c,t],T=u[x],E=x;do{var M=b[T];do{x+=M}while(!u[x]);S=u[x],5!==S&&10!==S?(T=S,u[x]=0):(T=S&51*T>>4,u[x]&=T>>2|T<<2),A.push(x%c),A.push(x/c|0),u[x]||--g}while(E!==x);_.push(A),--t}}var P=function(e){e.save(),e.scale(1/a,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,n=_.length;t<n;t++){var r=_[t];e.moveTo(r[0],r[1]);for(var i=2,o=r.length;i<o;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()};return P}var y=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),b=function(){var e=15,t=10;function n(e,t,n,r,i,o){this.ctx=e,this.current=new y,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=i,this.imageLayer=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new v(this.canvasFactory),e&&m(e),this._cachedGetSinglePixelWidth=null}function a(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,i,o,a,s,c=t.height,u=t.width,l=c%p,h=(c-l)/p,f=0===l?h:h+1,d=e.createImageData(u,p),m=0,v=t.data,g=d.data;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var y=v.byteLength,b=new Uint32Array(g.buffer,0,g.byteLength>>2),_=b.length,x=u+7>>3,w=4294967295,S=r.IsLittleEndianCached.value?4278190080:255;for(i=0;i<f;i++){for(a=i<h?p:l,n=0,o=0;o<a;o++){for(var A=y-m,T=0,E=A>x?u:8*A-7,M=-8&E,P=0,C=0;T<M;T+=8)C=v[m++],b[n++]=128&C?w:S,b[n++]=64&C?w:S,b[n++]=32&C?w:S,b[n++]=16&C?w:S,b[n++]=8&C?w:S,b[n++]=4&C?w:S,b[n++]=2&C?w:S,b[n++]=1&C?w:S;for(;T<E;T++)0===P&&(C=v[m++],P=128),b[n++]=C&P?w:S,P>>=1}while(n<_)b[n++]=0;e.putImageData(d,0,i*p)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(o=0,s=u*p*4,i=0;i<h;i++)g.set(v.subarray(m,m+s)),m+=s,e.putImageData(d,0,o),o+=p;i<f&&(s=u*l*4,g.set(v.subarray(m,m+s)),e.putImageData(d,0,o))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(a=p,s=u*a,i=0;i<f;i++){for(i>=h&&(a=l,s=u*a),n=0,o=s;o--;)g[n++]=v[m++],g[n++]=v[m++],g[n++]=v[m++],g[n++]=255;e.putImageData(d,0,i*p)}}}}function s(e,t){for(var n=t.height,r=t.width,i=n%p,o=(n-i)/p,a=0===i?o:o+1,s=e.createImageData(r,p),c=0,u=t.data,l=s.data,h=0;h<a;h++){for(var f=h<o?p:i,d=3,m=0;m<f;m++)for(var v=0,g=0;g<r;g++){if(!v){var y=u[c++];v=128}l[d]=y&v?0:255,d+=4,v>>=1}e.putImageData(s,0,h*p)}}function b(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==e[o]&&(t[o]=e[o])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function _(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function x(e,t,n,r){for(var i=e.length,o=3;o<i;o+=4){var a=e[o];if(0===a)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(a<255){var s=255-a;e[o-3]=e[o-3]*a+t*s>>8,e[o-2]=e[o-2]*a+n*s>>8,e[o-1]=e[o-1]*a+r*s>>8}}}function w(e,t,n){for(var r=e.length,i=1/255,o=3;o<r;o+=4){var a=n?n[e[o]]:e[o];t[o]=t[o]*a*i|0}}function S(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var o=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[o>>8]>>8:t[i]*o>>16}}function A(e,t,n,r,i,o,a){var s,c=!!o,u=c?o[0]:0,l=c?o[1]:0,h=c?o[2]:0;s="Luminosity"===i?S:w;for(var f=1048576,d=Math.min(r,Math.ceil(f/n)),p=0;p<r;p+=d){var m=Math.min(d,r-p),v=e.getImageData(0,p,n,m),g=t.getImageData(0,p,n,m);c&&x(v.data,u,l,h),s(v.data,g.data,a),e.putImageData(g,0,p)}}function T(e,t,n,r){var i=t.canvas,o=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var s=r.composeSMask({layer:n.canvas,mask:i,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}A(o,n,i.width,i.height,t.subtype,a,t.transferMap),e.drawImage(i,0,0)}var E=["butt","round","square"],M=["miter","round","bevel"],P={},C={};for(var R in n.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,o=e.background,a=void 0===o?null:o,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=a||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),i){var u=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),_(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(n,i,a,s){var c=n.argsArray,u=n.fnArray,l=i||0,h=c.length;if(h===l)return l;var f,d=h-l>t&&"function"===typeof a,p=d?Date.now()+e:0,m=0,v=this.commonObjs,g=this.objs;while(1){if(void 0!==s&&l===s.nextBreakPoint)return s.breakIt(l,a),l;if(f=u[l],f!==r.OPS.dependency)this[f].apply(this,c[l]);else{var y,b=o(c[l]);try{for(b.s();!(y=b.n()).done;){var _=y.value,x=_.startsWith("g_")?v:g;if(!x.has(_))return x.get(_,a),l}}catch(w){b.e(w)}finally{b.f()}}if(l++,l===h)return l;if(d&&++m>t){if(Date.now()>p)return a(),l;m=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=E[e]},setLineJoin:function(e){this.ctx.lineJoin=M[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,t,n,!0),o=this.ctx,a=o.mozCurrentTransform;this.ctx.save();var s=i.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,a),e.startTransformInverse=s.mozCurrentTransformInverse,b(o,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),T(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),b(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),T(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),b(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,i=this.current,o=i.x,a=i.y,s=0,c=0,u=e.length;s<u;s++)switch(0|e[s]){case r.OPS.rectangle:o=t[c++],a=t[c++];var l=t[c++],h=t[c++];0===l&&(l=this.getSinglePixelWidth()),0===h&&(h=this.getSinglePixelWidth());var f=o+l,d=a+h;this.ctx.moveTo(o,a),this.ctx.lineTo(f,a),this.ctx.lineTo(f,d),this.ctx.lineTo(o,d),this.ctx.lineTo(o,a),this.ctx.closePath();break;case r.OPS.moveTo:o=t[c++],a=t[c++],n.moveTo(o,a);break;case r.OPS.lineTo:o=t[c++],a=t[c++],n.lineTo(o,a);break;case r.OPS.curveTo:o=t[c+4],a=t[c+5],n.bezierCurveTo(t[c],t[c+1],t[c+2],t[c+3],o,a),c+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(o,a,t[c],t[c+1],t[c+2],t[c+3]),o=t[c+2],a=t[c+3],c+=4;break;case r.OPS.curveTo3:o=t[c+2],a=t[c+3],n.bezierCurveTo(t[c],t[c+1],o,a,o,a),c+=4;break;case r.OPS.closePath:n.closePath();break}i.setCurrentPoint(o,a)},closePath:function(){this.ctx.closePath()},stroke:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var i=t.mozCurrentTransform,o=r.Util.singularValueDecompose2dScale(i)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(this.getSinglePixelWidth()*h,this.current.lineWidth*o),t.stroke(),t.restore()}else t.lineWidth=Math.max(this.getSinglePixelWidth()*h,this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=!1;r&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),i=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),i&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=P},eoClip:function(){this.pendingClip=C},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var o=n.loadedName||"sans-serif",a="normal";n.black?a="900":n.bold&&(a="bold");var s=n.italic?"italic":"normal",l='"'.concat(o,'", ').concat(n.fallbackName),h=t;t<c?h=c:t>u&&(h=u),this.current.fontSizeScale=t/h,this.ctx.font="".concat(s," ").concat(a," ").concat(h,"px ").concat(l)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,i){var o,a=this.ctx,s=this.current,c=s.font,u=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,h=u&r.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&r.TextRenderingMode.ADD_TO_PATH_FLAG),d=s.patternFill&&!c.missingFile;if((c.disableFontFace||f||d)&&(o=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||d?(a.save(),a.translate(t,n),a.beginPath(),o(a,l),i&&a.setTransform.apply(a,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||a.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,n)),f){var p=this.pendingTextPaths||(this.pendingTextPaths=[]);p.push({transform:a.mozCurrentTransform,x:t,y:n,fontSize:l,addToPath:o})}},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),t=e.context;t.scale(1.5,1),t.fillText("I",0,10);for(var n=t.getImageData(0,0,10,10).data,i=!1,o=3;o<n.length;o+=4)if(n[o]>0&&n[o]<255){i=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",i)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var o,a=this.ctx,s=t.fontSizeScale,c=t.charSpacing,u=t.wordSpacing,l=t.fontDirection,f=t.textHScale*l,d=e.length,p=n.vertical,m=p?1:-1,v=n.defaultVMetrics,g=i*t.fontMatrix[0],y=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(a.save(),t.patternFill){a.save();var b=t.fillColor.getPattern(a,this);o=a.mozCurrentTransform,a.restore(),a.fillStyle=b}a.transform.apply(a,t.textMatrix),a.translate(t.x,t.y+t.textRise),l>0?a.scale(f,-1):a.scale(f,1);var _=t.lineWidth,x=t.textMatrixScale;if(0===x||0===_){var w=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;w!==r.TextRenderingMode.STROKE&&w!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,_=this.getSinglePixelWidth()*h)}else _/=x;1!==s&&(a.scale(s,s),_/=s),a.lineWidth=_;var S,A=0;for(S=0;S<d;++S){var T=e[S];if((0,r.isNum)(T))A+=m*T*i/1e3;else{var E,M,P,C,R,k,L,O,I=!1,N=(T.isSpace?u:0)+c,D=T.fontChar,F=T.accent,j=T.width;if(p)R=T.vmetric||v,k=T.vmetric?R[1]:.5*j,k=-k*g,L=R[2]*g,j=R?-R[0]:j,E=k/s,M=(A+L)/s;else E=A/s,M=0;if(n.remeasure&&j>0){var U=1e3*a.measureText(D).width/i*s;if(j<U&&this.isFontSubpixelAAEnabled){var z=j/U;I=!0,a.save(),a.scale(z,1),E/=z}else j!==U&&(E+=(j-U)/2e3*i/s)}(T.isInFont||n.missingFile)&&(y&&!F?a.fillText(D,E,M):(this.paintChar(D,E,M,o),F&&(P=E+F.offset.x/s,C=M-F.offset.y/s,this.paintChar(F.fontChar,P,C,o)))),O=p?j*g-N*l:j*g+N*l,A+=O,I&&a.restore()}}p?t.y-=A:t.x+=A*f,a.restore()}},showType3Text:function(e){var t,n,i,o,a=this.ctx,s=this.current,c=s.font,u=s.fontSize,l=s.fontDirection,h=c.vertical?1:-1,f=s.charSpacing,d=s.wordSpacing,p=s.textHScale*l,m=s.fontMatrix||r.FONT_IDENTITY_MATRIX,v=e.length,g=s.textRenderingMode===r.TextRenderingMode.INVISIBLE;if(!g&&0!==u){for(this._cachedGetSinglePixelWidth=null,a.save(),a.transform.apply(a,s.textMatrix),a.translate(s.x,s.y),a.scale(p,l),t=0;t<v;++t)if(n=e[t],(0,r.isNum)(n))o=h*n*u/1e3,this.ctx.translate(o,0),s.x+=o*p;else{var y=(n.isSpace?d:0)+f,b=c.charProcOperatorList[n.operatorListId];if(b){this.processingType3=n,this.save(),a.scale(u,u),a.transform.apply(a,m),this.executeOperatorList(b),this.restore();var _=r.Util.applyTransform([n.width,0],m);i=_[0]*u+y,a.translate(i,0),s.x+=i*p}else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}a.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,r=this;if("TilingPattern"===e[0]){var o=e[1],a=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(e){return new n(e,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};t=new i.TilingPattern(e,o,this.ctx,s,a)}else t=(0,i.getShadingPatternFromIR)(e);return t},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,i.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var o=t.mozCurrentTransformInverse;if(o){var a=t.canvas,s=a.width,c=a.height,u=r.Util.applyTransform([0,0],o),l=r.Util.applyTransform([0,c],o),h=r.Util.applyTransform([s,0],o),f=r.Util.applyTransform([s,c],o),d=Math.min(u[0],l[0],h[0],f[0]),p=Math.min(u[1],l[1],h[1],f[1]),m=Math.max(u[0],l[0],h[0],f[0]),v=Math.max(u[1],l[1],h[1],f[1]);this.ctx.fillRect(d,p,m-d,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),o=[0,0,t.canvas.width,t.canvas.height];i=r.Util.intersect(i,o)||[0,0,0,0];var a=Math.floor(i[0]),s=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-s,1),h=1,f=1;c>l&&(h=c/l,c=l),u>l&&(f=u/l,u=l);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var p=this.cachedCanvases.getCanvas(d,c,u,!0),m=p.context;m.scale(1/h,1/f),m.translate(-a,-s),m.transform.apply(m,n),e.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:a,offsetY:s,scaleX:h,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.scale(h,f)),b(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),_(this.ctx),this.current=new y,Array.isArray(e)&&4===e.length){var r=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],r,i),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,r=e.height,i=this.current.fillColor,o=this.current.patternFill,a=this.processingType3;if(f&&a&&void 0===a.compiled&&(a.compiled=n<=d&&r<=d?g({data:e.data,width:n,height:r}):null),a&&a.compiled)a.compiled(t);else{var c=this.cachedCanvases.getCanvas("maskCanvas",n,r),u=c.context;u.save(),s(u,e),u.globalCompositeOperation="source-in",u.fillStyle=o?i.getPattern(u,this):i,u.fillRect(0,0,n,r),u.restore(),this.paintInlineImageXObject(c.canvas)}},paintImageMaskXObjectRepeat:function(e,t,n,r){var i=e.width,o=e.height,a=this.current.fillColor,c=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",i,o),l=u.context;l.save(),s(l,e),l.globalCompositeOperation="source-in",l.fillStyle=c?a.getPattern(l,this):a,l.fillRect(0,0,i,o),l.restore();for(var h=this.ctx,f=0,d=r.length;f<d;f+=2)h.save(),h.transform(t,0,0,n,r[f],r[f+1]),h.scale(1,-1),h.drawImage(u.canvas,0,0,i,o,0,-1,1,1),h.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=0,o=e.length;i<o;i++){var a=e[i],c=a.width,u=a.height,l=this.cachedCanvases.getCanvas("maskCanvas",c,u),h=l.context;h.save(),s(h,a),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this):n,h.fillRect(0,0,c,u),h.restore(),t.save(),t.transform.apply(t,a.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,c,u,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,i){var o=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(o){for(var a=o.width,s=o.height,c=[],u=0,l=i.length;u<l;u+=2)c.push({transform:[t,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(o,c)}else(0,r.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var t=e.width,n=e.height,r=this.ctx;this.save(),r.scale(1/t,-1/n);var i,o,s=r.mozCurrentTransformInverse,c=s[0],u=s[1],l=Math.max(Math.sqrt(c*c+u*u),1),h=s[2],f=s[3],d=Math.max(Math.sqrt(h*h+f*f),1);if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{o=this.cachedCanvases.getCanvas("inlineImage",t,n);var p=o.context;a(p,e),i=o.canvas}var m=t,v=n,g="prescale1";while(l>2&&m>1||d>2&&v>1){var y=m,b=v;l>2&&m>1&&(y=Math.ceil(m/2),l/=m/y),d>2&&v>1&&(b=Math.ceil(v/2),d/=v/b),o=this.cachedCanvases.getCanvas(g,y,b),p=o.context,p.clearRect(0,0,y,b),p.drawImage(i,0,0,m,v,0,0,y,b),i=o.canvas,m=y,v=b,g="prescale1"===g?"prescale2":"prescale1"}if(r.drawImage(i,0,0,m,v,0,-n,t,n),this.imageLayer){var _=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:t/s[0],height:n/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,t){var n=this.ctx,r=e.width,i=e.height,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;a(s,e);for(var c=0,u=t.length;c<u;c++){var l=t[c];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(o.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:h[0],top:h[1],width:r,height:i})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,r.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===C?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},r.OPS)n.prototype[r.OPS[R]]=n.prototype[R];return n}();t.CanvasGraphics=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=s,t.TilingPattern=void 0;var r=n(5),i={};function o(e,t){if(t&&"undefined"!==typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}i.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],a=e[5],s=e[6],c=e[7];return{type:"Pattern",getPattern:function(e){var u;o(e,n),"axial"===t?u=e.createLinearGradient(i[0],i[1],a[0],a[1]):"radial"===t&&(u=e.createRadialGradient(i[0],i[1],s,a[0],a[1],c));for(var l=0,h=r.length;l<h;++l){var f=r[l];u.addColorStop(f[0],f[1])}return u}}}};var a=function(){function e(e,t,n,r,i,o,a,s){var c,u=t.coords,l=t.colors,h=e.data,f=4*e.width;u[n+1]>u[r+1]&&(c=n,n=r,r=c,c=o,o=a,a=c),u[r+1]>u[i+1]&&(c=r,r=i,i=c,c=a,a=s,s=c),u[n+1]>u[r+1]&&(c=n,n=r,r=c,c=o,o=a,a=c);var d=(u[n]+t.offsetX)*t.scaleX,p=(u[n+1]+t.offsetY)*t.scaleY,m=(u[r]+t.offsetX)*t.scaleX,v=(u[r+1]+t.offsetY)*t.scaleY,g=(u[i]+t.offsetX)*t.scaleX,y=(u[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b,_,x,w,S,A,T,E,M=l[o],P=l[o+1],C=l[o+2],R=l[a],k=l[a+1],L=l[a+2],O=l[s],I=l[s+1],N=l[s+2],D=Math.round(p),F=Math.round(y),j=D;j<=F;j++){if(j<v){var U=void 0;U=j<p?0:p===v?1:(p-j)/(p-v),b=d-(d-m)*U,_=M-(M-R)*U,x=P-(P-k)*U,w=C-(C-L)*U}else{var z=void 0;z=j>y?1:v===y?0:(v-j)/(v-y),b=m-(m-g)*z,_=R-(R-O)*z,x=k-(k-I)*z,w=L-(L-N)*z}var B=void 0;B=j<p?0:j>y?1:(p-j)/(p-y),S=d-(d-g)*B,A=M-(M-O)*B,T=P-(P-I)*B,E=C-(C-N)*B;for(var H=Math.round(Math.min(b,S)),G=Math.round(Math.max(b,S)),V=f*j+4*H,W=H;W<=G;W++)B=(b-W)/(b-S),B<0?B=0:B>1&&(B=1),h[V++]=_-(_-A)*B|0,h[V++]=x-(x-T)*B|0,h[V++]=w-(w-E)*B|0,h[V++]=255}}function t(t,n,r){var i,o,a=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,u=Math.floor(a.length/c)-1,l=c-1;for(i=0;i<u;i++)for(var h=i*c,f=0;f<l;f++,h++)e(t,r,a[h],a[h+1],a[h+c],s[h],s[h+1],s[h+c]),e(t,r,a[h+c+1],a[h+1],a[h+c],s[h+c+1],s[h+1],s[h+c]);break;case"triangles":for(i=0,o=a.length;i<o;i+=3)e(t,r,a[i],a[i+1],a[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}function n(e,n,r,i,o,a,s,c){var u,l,h,f,d=1.1,p=3e3,m=2,v=Math.floor(e[0]),g=Math.floor(e[1]),y=Math.ceil(e[2])-v,b=Math.ceil(e[3])-g,_=Math.min(Math.ceil(Math.abs(y*n[0]*d)),p),x=Math.min(Math.ceil(Math.abs(b*n[1]*d)),p),w=y/_,S=b/x,A={coords:r,colors:i,offsetX:-v,offsetY:-g,scaleX:1/w,scaleY:1/S},T=_+2*m,E=x+2*m;if(c.isEnabled)u=c.drawFigures({width:_,height:x,backgroundColor:a,figures:o,context:A}),l=s.getCanvas("mesh",T,E,!1),l.context.drawImage(u,m,m),u=l.canvas;else{l=s.getCanvas("mesh",T,E,!1);var M=l.context,P=M.createImageData(_,x);if(a){var C=P.data;for(h=0,f=C.length;h<f;h+=4)C[h]=a[0],C[h+1]=a[1],C[h+2]=a[2],C[h+3]=255}for(h=0;h<o.length;h++)t(P,o[h],A);M.putImageData(P,m,m),u=l.canvas}return{canvas:u,offsetX:v-m*w,offsetY:g-m*S,scaleX:w,scaleY:S}}return n}();function s(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)}i.Mesh={fromIR:function(e){var t=e[2],n=e[3],i=e[4],s=e[5],c=e[6],u=e[7],l=e[8];return{type:"Pattern",getPattern:function(e,h,f){var d;if(o(e,u),f)d=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(d=r.Util.singularValueDecompose2dScale(h.baseTransform),c){var p=r.Util.singularValueDecompose2dScale(c);d=[d[0]*p[0],d[1]*p[1]]}var m=a(s,d,t,n,i,f?null:l,h.cachedCanvases,h.webGLContext);return f||(e.setTransform.apply(e,h.baseTransform),c&&e.transform.apply(e,c)),e.translate(m.offsetX,m.offsetY),e.scale(m.scaleX,m.scaleY),e.createPattern(m.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var c=function(){var e={COLORED:1,UNCOLORED:2},t=3e3;function n(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,i=this.xstep,o=this.ystep,a=this.paintType,s=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+s);var l=n[0],h=n[1],f=n[2],d=n[3],p=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[p[0]*m[0],p[1]*m[1]],g=this.getSizeAndScale(i,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(o,this.ctx.canvas.height,v[1]),b=e.cachedCanvases.getCanvas("pattern",g.size,y.size,!0),_=b.context,x=u.createCanvasGraphics(_);return x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(x,a,c),x.transform(g.scale,0,0,y.scale,0,0),x.transform(1,0,0,1,-l,-h),this.clipBbox(x,n,l,h,f,d),x.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,h),this.ctx.scale(1/g.scale,1/y.scale),b.canvas},getSizeAndScale:function(e,n,r){e=Math.abs(e);var i=Math.max(t,n),o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}},clipBbox:function(e,t,n,r,i,o){if(Array.isArray(t)&&4===t.length){var a=i-n,s=o-r;e.ctx.rect(n,r,a,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(t,n,i){var o=t.ctx,a=t.current;switch(n){case e.COLORED:var s=this.ctx;o.fillStyle=s.fillStyle,o.strokeStyle=s.strokeStyle,a.fillColor=s.fillStyle,a.strokeColor=s.strokeStyle;break;case e.UNCOLORED:var c=r.Util.makeCssRgb(i[0],i[1],i[2]);o.fillStyle=c,o.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new r.FormatError("Unsupported paint type: ".concat(n))}},getPattern:function(e,t){e=this.ctx,e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=o(n(2)),i=n(5);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var f={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(e){if("object"!==h(e)||null===e)return e;switch(e.name){case"AbortException":return new i.AbortException(e.message);case"MissingPDFException":return new i.MissingPDFException(e.message);case"UnexpectedResponseException":return new i.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new i.UnknownErrorException(e.message,e.details);default:return new i.UnknownErrorException(e.message,e.toString())}}var m=function(){function e(t,n,r){var i=this;c(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var n=t.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],t.callback===f.DATA)o.resolve(t.data);else{if(t.callback!==f.ERROR)throw new Error("Unexpected callback case");o.reject(p(t.reason))}}else{var a=i.actionHandler[t.action];if(!a)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=i.sourceName,c=t.sourceName;new Promise((function(e){e(a(t.data))})).then((function(e){r.postMessage({sourceName:s,targetName:c,callback:f.DATA,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:s,targetName:c,callback:f.ERROR,callbackId:t.callbackId,reason:p(e)})}))}else t.streamId?i._createStreamSink(t):a(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}return l(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,o=(0,i.createPromiseCapability)();this.callbackCapabilities[r]=o;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){o.reject(a)}return o.promise}},{key:"sendWithStream",value:function(e,t,n,r){var o=this,a=this.streamId++,s=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var u=(0,i.createPromiseCapability)();return o.streamControllers[a]={controller:n,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},o._postMessage({sourceName:s,targetName:c,action:e,streamId:a,data:t,desiredSize:n.desiredSize},r),u.promise},pull:function(e){var t=(0,i.createPromiseCapability)();return o.streamControllers[a].pullCall=t,u.postMessage({sourceName:s,targetName:c,stream:d.PULL,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,i.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,i.createPromiseCapability)();return o.streamControllers[a].cancelCall=t,o.streamControllers[a].isClosed=!0,u.postMessage({sourceName:s,targetName:c,stream:d.CANCEL,streamId:a,reason:p(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],r=e.streamId,o=this.sourceName,a=e.sourceName,s=this.comObj,c={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,i.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:o,targetName:a,stream:d.ENQUEUE,streamId:r,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:a,stream:d.CLOSE,streamId:r}),delete t.streamSinks[r])},error:function(e){(0,i.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:a,stream:d.ERROR,streamId:r,reason:p(e)}))},sinkCapability:(0,i.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[r]=c,new Promise((function(t){t(n(e.data,c))})).then((function(){s.postMessage({sourceName:o,targetName:a,stream:d.START_COMPLETE,streamId:r,success:!0})}),(function(e){s.postMessage({sourceName:o,targetName:a,stream:d.START_COMPLETE,streamId:r,reason:p(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,o=this.comObj;switch(e.stream){case d.START_COMPLETE:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(p(e.reason));break;case d.PULL_COMPLETE:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(p(e.reason));break;case d.PULL:if(!this.streamSinks[t]){o.postMessage({sourceName:n,targetName:r,stream:d.PULL_COMPLETE,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var a=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(a&&a())})).then((function(){o.postMessage({sourceName:n,targetName:r,stream:d.PULL_COMPLETE,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:r,stream:d.PULL_COMPLETE,streamId:t,reason:p(e)})}));break;case d.ENQUEUE:if((0,i.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case d.CLOSE:if((0,i.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case d.ERROR:(0,i.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(p(e.reason)),this._deleteStreamController(t);break;case d.CANCEL_COMPLETE:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(p(e.reason)),this._deleteStreamController(t);break;case d.CANCEL:if(!this.streamSinks[t])break;var s=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(s&&s(p(e.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:r,stream:d.CANCEL_COMPLETE,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:r,stream:d.CANCEL_COMPLETE,streamId:t,reason:p(e)})})),this.streamSinks[t].sinkCapability.reject(p(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=s(r["default"].mark((function e(t){return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(5),i=n(206);function o(e,t){return c(e)||s(e,t)||l(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function c(e){if(Array.isArray(e))return e}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function l(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var m=function(){function e(t){f(this,e),(0,r.assert)("string"===typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=new i.SimpleXMLParser,o=n.parseFromString(t);this._metadataMap=new Map,o&&this._parse(o)}return p(e,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),r="",i=0,o=n.length;i<o;i+=2){var a=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+=a>=32&&a<127&&60!==a&&62!==a&&38!==a?String.fromCharCode(a):"&#x"+(65536+a).toString(16).substring(1)+";"}return">"+r}))}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase()){t=t.firstChild;while(t&&"rdf:rdf"!==t.nodeName.toLowerCase())t=t.nextSibling}var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes())for(var r=t.childNodes,i=0,o=r.length;i<o;i++){var a=r[i];if("rdf:description"===a.nodeName.toLowerCase())for(var s=0,c=a.childNodes.length;s<c;s++)if("#text"!==a.childNodes[s].nodeName.toLowerCase()){var u=a.childNodes[s],l=u.nodeName.toLowerCase();this._metadataMap.set(l,u.textContent.trim())}}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){var e,t=Object.create(null),n=u(this._metadataMap);try{for(n.s();!(e=n.n()).done;){var r=o(e.value,2),i=r[0],a=r[1];t[i]=a}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}();t.Metadata=m},function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function u(e){if(Array.isArray(e))return e}function l(e,t,n){return l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},l(e,t,n||e)}function h(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=y(e),null===e)break;return e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var w={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function S(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}function A(e){for(var t=0,n=e.length;t<n;t++)if(!S(e,t))return!1;return!0}var T=function(){function e(){b(this,e)}return x(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)}))}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function i(){while(r<e.length&&S(e,r))++r}while(r<e.length&&!S(e,r)&&">"!==e[r]&&"/"!==e[r])++r;var o=e.substring(t,r);i();while(r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r]){i();var a="",s="";while(r<e.length&&!S(e,r)&&"="!==e[r])a+=e[r],++r;if(i(),"="!==e[r])return null;++r,i();var c=e[r];if('"'!==c&&"'"!==c)return null;var u=e.indexOf(c,++r);if(u<0)return null;s=e.substring(r,u),n.push({name:a,value:this._resolveEntities(s)}),r=u+1,i()}return{name:o,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){var n=t;function r(){while(n<e.length&&S(e,n))++n}while(n<e.length&&!S(e,n)&&">"!==e[n]&&"/"!==e[n])++n;var i=e.substring(t,n);r();var o=n;while(n<e.length&&("?"!==e[n]||">"!==e[n+1]))++n;var a=e.substring(o,n);return{name:i,value:a,parsed:n-t}}},{key:"parseXml",value:function(e){var t=0;while(t<e.length){var n=e[t],r=t;if("<"===n){++r;var i=e[r],o=void 0;switch(i){case"/":if(++r,o=e.indexOf(">",r),o<0)return void this.onError(w.UnterminatedElement);this.onEndElement(e.substring(r,o)),r=o+1;break;case"?":++r;var a=this._parseProcessingInstruction(e,r);if("?>"!==e.substring(r+a.parsed,r+a.parsed+2))return void this.onError(w.UnterminatedXmlDeclaration);this.onPi(a.name,a.value),r+=a.parsed+2;break;case"!":if("--"===e.substring(r+1,r+3)){if(o=e.indexOf("--\x3e",r+3),o<0)return void this.onError(w.UnterminatedComment);this.onComment(e.substring(r+3,o)),r=o+3}else if("[CDATA["===e.substring(r+1,r+8)){if(o=e.indexOf("]]>",r+8),o<0)return void this.onError(w.UnterminatedCdat);this.onCdata(e.substring(r+8,o)),r=o+3}else{if("DOCTYPE"!==e.substring(r+1,r+8))return void this.onError(w.MalformedElement);var s=e.indexOf("[",r+8),c=!1;if(o=e.indexOf(">",r+8),o<0)return void this.onError(w.UnterminatedDoctypeDeclaration);if(s>0&&o>s){if(o=e.indexOf("]>",r+8),o<0)return void this.onError(w.UnterminatedDoctypeDeclaration);c=!0}var u=e.substring(r+8,o+(c?1:0));this.onDoctype(u),r=o+(c?2:1)}break;default:var l=this._parseContent(e,r);if(null===l)return void this.onError(w.MalformedElement);var h=!1;if("/>"===e.substring(r+l.parsed,r+l.parsed+2))h=!0;else if(">"!==e.substring(r+l.parsed,r+l.parsed+1))return void this.onError(w.UnterminatedElement);this.onBeginElement(l.name,l.attributes,h),r+=l.parsed+(h?2:1);break}}else{while(r<e.length&&"<"!==e[r])r++;var f=e.substring(t,r);this.onText(this._resolveEntities(f))}t=r}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),E=function(){function e(t,n){b(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return x(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}}]),e}(),M=function(e){f(n,e);var t=p(n);function n(){var e;return b(this,n),e=t.call(this),e._currentFragment=null,e._stack=null,e._errorCode=w.NoError,e}return x(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=w.NoError,this.parseXml(e),this._errorCode===w.NoError){var t=i(this._currentFragment,1),n=t[0];if(n)return{documentElement:n}}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return l(y(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!A(e)){var t=new E("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new E("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){var r=new E(e);r.childNodes=[],this._currentFragment.push(r),n||(this._stack.push(this._currentFragment),this._currentFragment=r.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}(T);t.SimpleXMLParser=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=o(n(2)),i=n(5);function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))}}function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=function(){function e(t,n){var r=this;h(this,e),(0,i.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var o=t.initialData;if(o&&o.length>0){var a=new Uint8Array(o).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){r._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){r._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){r._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){r._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return d(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,i.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new m(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new v(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeReaders.slice(0);t.forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFDataTransportStream=p;var m=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var i,o=c(this._queuedChunks);try{for(o.s();!(i=o.n()).done;){var a=i.value;this._loaded+=a.byteLength}}catch(s){o.e(s)}finally{o.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return d(e,[{key:"_enqueue",value:function(e){if(!this._done){if(this._requests.length>0){var t=this._requests.shift();t.resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}},{key:"read",value:function(){var e=s(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,i.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e}(),v=function(){function e(t,n,r){h(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return d(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{var t=this._requests.shift();t.resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"read",value:function(){var e=s(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,i.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(5);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var s=function(){function e(t){var n=t.enable,r=void 0!==n&&n;i(this,e),this._enabled=!0===r}return a(e,[{key:"composeSMask",value:function(e){var t=e.layer,n=e.mask,r=e.properties;return c.composeSMask(t,n,r)}},{key:"drawFigures",value:function(e){var t=e.width,n=e.height,r=e.backgroundColor,i=e.figures,o=e.context;return c.drawFigures(t,n,r,i,o)}},{key:"clear",value:function(){c.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=c.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}}]),e}();t.WebGLContext=s;var c=function(){function e(e,t,n){var r=e.createShader(n);e.shaderSource(r,t),e.compileShader(r);var i=e.getShaderParameter(r,e.COMPILE_STATUS);if(!i){var o=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+o)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);e.linkProgram(n);var o=e.getProgramParameter(n,e.LINK_STATUS);if(!o){var a=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+a)}return n}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var o,a;function s(){o||(a=document.createElement("canvas"),o=a.getContext("webgl",{premultipliedalpha:!1}))}var c="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",u="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",l=null;function h(){var e,i;s(),e=a,a=null,i=o,o=null;var h=t(i,c),f=n(i,u),d=r(i,[h,f]);i.useProgram(d);var p={};p.gl=i,p.canvas=e,p.resolutionLocation=i.getUniformLocation(d,"u_resolution"),p.positionLocation=i.getAttribLocation(d,"a_position"),p.backdropLocation=i.getUniformLocation(d,"u_backdrop"),p.subtypeLocation=i.getUniformLocation(d,"u_subtype");var m=i.getAttribLocation(d,"a_texCoord"),v=i.getUniformLocation(d,"u_image"),g=i.getUniformLocation(d,"u_mask"),y=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,y),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(m),i.vertexAttribPointer(m,2,i.FLOAT,!1,0,0),i.uniform1i(v,0),i.uniform1i(g,1),l=p}function f(e,t,n){var r=e.width,o=e.height;l||h();var a=l,s=a.canvas,c=a.gl;s.width=r,s.height=o,c.viewport(0,0,c.drawingBufferWidth,c.drawingBufferHeight),c.uniform2f(a.resolutionLocation,r,o),n.backdrop?c.uniform4f(a.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):c.uniform4f(a.resolutionLocation,0,0,0,0),c.uniform1i(a.subtypeLocation,"Luminosity"===n.subtype?1:0);var u=i(c,e,c.TEXTURE0),f=i(c,t,c.TEXTURE1),d=c.createBuffer();return c.bindBuffer(c.ARRAY_BUFFER,d),c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,o,0,o,r,0,r,o]),c.STATIC_DRAW),c.enableVertexAttribArray(a.positionLocation),c.vertexAttribPointer(a.positionLocation,2,c.FLOAT,!1,0,0),c.clearColor(0,0,0,0),c.enable(c.BLEND),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA),c.clear(c.COLOR_BUFFER_BIT),c.drawArrays(c.TRIANGLES,0,6),c.flush(),c.deleteTexture(u),c.deleteTexture(f),c.deleteBuffer(d),s}var d="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",p="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m=null;function v(){var e,i;s(),e=a,a=null,i=o,o=null;var c=t(i,d),u=n(i,p),l=r(i,[c,u]);i.useProgram(l);var h={};h.gl=i,h.canvas=e,h.resolutionLocation=i.getUniformLocation(l,"u_resolution"),h.scaleLocation=i.getUniformLocation(l,"u_scale"),h.offsetLocation=i.getUniformLocation(l,"u_offset"),h.positionLocation=i.getAttribLocation(l,"a_position"),h.colorLocation=i.getAttribLocation(l,"a_color"),m=h}function g(e,t,n,r,i){m||v();var o=m,a=o.canvas,s=o.gl;a.width=e,a.height=t,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(o.resolutionLocation,e,t);var c,u,l,h=0;for(c=0,u=r.length;c<u;c++)switch(r[c].type){case"lattice":l=r[c].coords.length/r[c].verticesPerRow|0,h+=(l-1)*(r[c].verticesPerRow-1)*6;break;case"triangles":h+=r[c].coords.length;break}var f=new Float32Array(2*h),d=new Uint8Array(3*h),p=i.coords,g=i.colors,y=0,b=0;for(c=0,u=r.length;c<u;c++){var _=r[c],x=_.coords,w=_.colors;switch(_.type){case"lattice":var S=_.verticesPerRow;l=x.length/S|0;for(var A=1;A<l;A++)for(var T=A*S+1,E=1;E<S;E++,T++)f[y]=p[x[T-S-1]],f[y+1]=p[x[T-S-1]+1],f[y+2]=p[x[T-S]],f[y+3]=p[x[T-S]+1],f[y+4]=p[x[T-1]],f[y+5]=p[x[T-1]+1],d[b]=g[w[T-S-1]],d[b+1]=g[w[T-S-1]+1],d[b+2]=g[w[T-S-1]+2],d[b+3]=g[w[T-S]],d[b+4]=g[w[T-S]+1],d[b+5]=g[w[T-S]+2],d[b+6]=g[w[T-1]],d[b+7]=g[w[T-1]+1],d[b+8]=g[w[T-1]+2],f[y+6]=f[y+2],f[y+7]=f[y+3],f[y+8]=f[y+4],f[y+9]=f[y+5],f[y+10]=p[x[T]],f[y+11]=p[x[T]+1],d[b+9]=d[b+3],d[b+10]=d[b+4],d[b+11]=d[b+5],d[b+12]=d[b+6],d[b+13]=d[b+7],d[b+14]=d[b+8],d[b+15]=g[w[T]],d[b+16]=g[w[T]+1],d[b+17]=g[w[T]+2],y+=12,b+=18;break;case"triangles":for(var M=0,P=x.length;M<P;M++)f[y]=p[x[M]],f[y+1]=p[x[M]+1],d[b]=g[w[M]],d[b+1]=g[w[M]+1],d[b+2]=g[w[M]+2],y+=2,b+=3;break}}n?s.clearColor(n[0]/255,n[1]/255,n[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var C=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,C),s.bufferData(s.ARRAY_BUFFER,f,s.STATIC_DRAW),s.enableVertexAttribArray(o.positionLocation),s.vertexAttribPointer(o.positionLocation,2,s.FLOAT,!1,0,0);var R=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,R),s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW),s.enableVertexAttribArray(o.colorLocation),s.vertexAttribPointer(o.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(o.scaleLocation,i.scaleX,i.scaleY),s.uniform2f(o.offsetLocation,i.offsetX,i.offsetY),s.drawArrays(s.TRIANGLES,0,h),s.flush(),s.deleteBuffer(C),s.deleteBuffer(R),a}return{tryInitGL:function(){try{return s(),!!o}catch(e){}return!1},composeSMask:f,drawFigures:g,cleanup:function(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),l=null,m=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(5);function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=u(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},c(e,t,n||e)}function u(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=g(e),null===e)break;return e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=v();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}var x=function(){function e(){y(this,e)}return _(e,null,[{key:"create",value:function(e){var t=e.data.annotationType;switch(t){case i.AnnotationType.LINK:return new S(e);case i.AnnotationType.TEXT:return new A(e);case i.AnnotationType.WIDGET:var n=e.data.fieldType;switch(n){case"Tx":return new E(e);case"Btn":return e.data.radioButton?new P(e):e.data.checkBox?new M(e):new C(e);case"Ch":return new R(e)}return new T(e);case i.AnnotationType.POPUP:return new k(e);case i.AnnotationType.FREETEXT:return new O(e);case i.AnnotationType.LINE:return new I(e);case i.AnnotationType.SQUARE:return new N(e);case i.AnnotationType.CIRCLE:return new D(e);case i.AnnotationType.POLYLINE:return new F(e);case i.AnnotationType.CARET:return new U(e);case i.AnnotationType.INK:return new z(e);case i.AnnotationType.POLYGON:return new j(e);case i.AnnotationType.HIGHLIGHT:return new B(e);case i.AnnotationType.UNDERLINE:return new H(e);case i.AnnotationType.SQUIGGLY:return new G(e);case i.AnnotationType.STRIKEOUT:return new V(e);case i.AnnotationType.STAMP:return new W(e);case i.AnnotationType.FILEATTACHMENT:return new q(e);default:return new w(e)}}}]),e}(),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,n&&(this.container=this._createContainer(r))}return _(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,o=document.createElement("section"),a=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];o.setAttribute("data-annotation-id",t.id);var c=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(o.style.transform="matrix(".concat(r.transform.join(","),")"),o.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px"),!e&&t.borderStyle.width>0){o.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(a-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var u=t.borderStyle.horizontalCornerRadius,l=t.borderStyle.verticalCornerRadius;if(u>0||l>0){var h="".concat(u,"px / ").concat(l,"px");o.style.borderRadius=h}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid";break;default:break}t.color?o.style.borderColor=i.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):o.style.borderWidth=0}return o.style.left="".concat(c[0],"px"),o.style.top="".concat(c[1],"px"),o.style.width="".concat(a,"px"),o.style.height="".concat(s,"px"),o}},{key:"_createPopup",value:function(e,t,n){t||(t=document.createElement("div"),t.style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new L({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}),i=r.render();i.style.left=e.style.width,e.appendChild(i)}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),S=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.url||e.data.dest||e.data.action);return t.call(this,e,r)}return _(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(w),A=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r)}return _(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(w),T=function(e){h(n,e);var t=d(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n,[{key:"render",value:function(){return this.container}}]),n}(w),E=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,r)}return _(n,[{key:"render",value:function(){var e=["left","center","right"];this.container.className="textWidgetAnnotation";var t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,t.name=this.data.fieldName,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb){var n=this.data.rect[2]-this.data.rect[0],r=n/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing="calc(".concat(r,"px - 1ch)")}}else{t=document.createElement("div"),t.textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell";var i=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(i=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,i)}return null!==this.data.textAlignment&&(t.style.textAlign=e[this.data.textAlignment]),this.container.appendChild(t),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var r="normal";t.black?r="900":t.bold&&(r="bold"),n.fontWeight=r,n.fontStyle=t.italic?"italic":"normal";var i=t.loadedName?'"'.concat(t.loadedName,'", '):"",o=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=i+o}}}]),n}(T),M=function(e){h(n,e);var t=d(n);function n(e){return y(this,n),t.call(this,e,e.renderInteractiveForms)}return _(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(T),P=function(e){h(n,e);var t=d(n);function n(e){return y(this,n),t.call(this,e,e.renderInteractiveForms)}return _(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(T),C=function(e){h(n,e);var t=d(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n,[{key:"render",value:function(){var e=c(g(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(S),R=function(e){h(n,e);var t=d(n);function n(e){return y(this,n),t.call(this,e,e.renderInteractiveForms)}return _(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=o(this.data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,this.data.fieldValue.includes(r.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}}catch(a){n.e(a)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(T),k=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!(!e.data.title&&!e.data.contents);return t.call(this,e,r)}return _(n,[{key:"render",value:function(){var e=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",e.includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),n=this.layer.querySelector(t);if(!n)return this.container;var r=new L({container:this.container,trigger:n,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),i=parseFloat(n.style.left),o=parseFloat(n.style.width);return this.container.style.transformOrigin="-".concat(i+o,"px -").concat(n.style.top),this.container.style.left="".concat(i+o,"px"),this.container.appendChild(r.render()),this.container}}]),n}(w),L=function(){function e(t){y(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _(e,[{key:"render",value:function(){var e=.7,t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var o=this.color;if(o){var a=e*(255-o[0])+o[0],s=e*(255-o[1])+o[1],c=e*(255-o[2])+o[2];n.style.backgroundColor=i.Util.makeCssRgb(0|a,0|s,0|c)}var u=document.createElement("h1");u.textContent=this.title,n.appendChild(u);var l=r.PDFDateString.toDateObject(this.modificationDate);if(l){var h=document.createElement("span");h.textContent="{{date}}, {{time}}",h.dataset.l10nId="annotation_date_string",h.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),n.appendChild(h)}var f=this._formatContents(this.contents);return n.appendChild(f),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),n.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(n),t}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r){var o=n[r];t.appendChild(document.createTextNode(o)),r<i-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),O=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),I=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,e),this.container}}]),n}(w),N=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(w),D=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(w),F=function(e){h(n,e);var t=d(n);function n(e){var r;y(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return r=t.call(this,e,i,!0),r.containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return _(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=[],s=o(t.vertices);try{for(s.s();!(e=s.n()).done;){var c=e.value,u=c.x-t.rect[0],l=t.rect[3]-c.y;a.push(u+","+l)}}catch(f){s.e(f)}finally{s.f()}a=a.join(" ");var h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",a),h.setAttribute("stroke-width",t.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","none"),i.appendChild(h),this.container.append(i),this._createPopup(this.container,h,t),this.container}}]),n}(w),j=function(e){h(n,e);var t=d(n);function n(e){var r;return y(this,n),r=t.call(this,e),r.containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(F),U=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),z=function(e){h(n,e);var t=d(n);function n(e){var r;y(this,n);var i=!!(e.data.hasPopup||e.data.title||e.data.contents);return r=t.call(this,e,i,!0),r.containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return _(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],i=this.svgFactory.create(n,r),a=o(t.inkLists);try{for(a.s();!(e=a.n()).done;){var s,c=e.value,u=[],l=o(c);try{for(l.s();!(s=l.n()).done;){var h=s.value,f=h.x-t.rect[0],d=t.rect[3]-h.y;u.push("".concat(f,",").concat(d))}}catch(m){l.e(m)}finally{l.f()}u=u.join(" ");var p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",u),p.setAttribute("stroke-width",t.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","none"),this._createPopup(this.container,p,t),i.appendChild(p)}}catch(m){a.e(m)}finally{a.f()}return this.container.append(i),this.container}}]),n}(w),B=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),H=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),G=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),V=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),W=function(e){h(n,e);var t=d(n);function n(e){y(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(w),q=function(e){h(n,e);var t=d(n);function n(e){var o;y(this,n),o=t.call(this,e,!0);var a=o.data.file,s=a.filename,c=a.content;return o.filename=(0,r.getFilenameFromUrl)(s),o.content=c,o.linkService.eventBus&&o.linkService.eventBus.dispatch("fileattachmentannotation",{source:m(o),id:(0,i.stringToPDFString)(s),filename:s,content:c}),o}return _(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]),n}(w),X=function(){function e(){y(this,e)}return _(e,null,[{key:"render",value:function(e){var t,n=[],a=[],s=o(e.annotations);try{for(s.s();!(t=s.n()).done;){var c=t.value;c&&(c.annotationType!==i.AnnotationType.POPUP?n.push(c):a.push(c))}}catch(d){s.e(d)}finally{s.f()}a.length&&n.push.apply(n,a);for(var u=0,l=n;u<l.length;u++){var h=l[u],f=x.create({data:h,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory});f.isRenderable&&e.div.appendChild(f.render())}}},{key:"update",value:function(e){var t,n=o(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=e.div.querySelector('[data-annotation-id="'.concat(r.id,'"]'));i&&(i.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(a){n.e(a)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=X},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(5),i=function(){var e=1e5,t=/\S/;function n(e){return!t.test(e)}function i(e,t,i){var o=document.createElement("span"),a={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(o),n(t.str))return a.isWhitespace=!0,void e._textDivProperties.set(o,a);var s=r.Util.transform(e._viewport.transform,t.transform),c=Math.atan2(s[1],s[0]),u=i[t.fontName];u.vertical&&(c+=Math.PI/2);var l,h,f=Math.sqrt(s[2]*s[2]+s[3]*s[3]),d=f;u.ascent?d=u.ascent*d:u.descent&&(d=(1+u.descent)*d),0===c?(l=s[4],h=s[5]-d):(l=s[4]+d*Math.sin(c),h=s[5]-d*Math.cos(c)),o.style.left="".concat(l,"px"),o.style.top="".concat(h,"px"),o.style.fontSize="".concat(f,"px"),o.style.fontFamily=u.fontFamily,o.textContent=t.str,e._fontInspectorEnabled&&(o.dataset.fontName=t.fontName),0!==c&&(a.angle=c*(180/Math.PI));var p=!1;if(t.str.length>1)p=!0;else if(t.transform[0]!==t.transform[3]){var m=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);m!==v&&Math.max(m,v)/Math.min(m,v)>1.5&&(p=!0)}if(p&&(u.vertical?a.canvasWidth=t.height*e._viewport.scale:a.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(o,a),e._textContentStream&&e._layoutText(o),e._enhanceTextSelection){var g=1,y=0;0!==c&&(g=Math.cos(c),y=Math.sin(c));var b,_,x=(u.vertical?t.height:t.width)*e._viewport.scale,w=f;0!==c?(b=[g,y,-y,g,l,h],_=r.Util.getAxialAlignedBoundingBox([0,0,x,w],b)):_=[l,h,l+x,h+w],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:o,size:[x,w],m:b})}}function o(t){if(!t._canceled){var n=t._textDivs,r=t._capability,i=n.length;if(i>e)return t._renderingDone=!0,void r.resolve();if(!t._textContentStream)for(var o=0;o<i;o++)t._layoutText(n[o]);t._renderingDone=!0,r.resolve()}}function a(e,t,n){for(var r=0,i=0;i<n;i++){var o=e[t++];o>0&&(r=r?Math.min(o,r):o)}return r}function s(e){for(var t=e._bounds,n=e._viewport,i=c(n.width,n.height,t),o=0;o<i.length;o++){var s=t[o].div,u=e._textDivProperties.get(s);if(0!==u.angle){var l=i[o],h=t[o],f=h.m,d=f[0],p=f[1],m=[[0,0],[0,h.size[1]],[h.size[0],0],h.size],v=new Float64Array(64);m.forEach((function(e,t){var n=r.Util.applyTransform(e,f);v[t+0]=d&&(l.left-n[0])/d,v[t+4]=p&&(l.top-n[1])/p,v[t+8]=d&&(l.right-n[0])/d,v[t+12]=p&&(l.bottom-n[1])/p,v[t+16]=p&&(l.left-n[0])/-p,v[t+20]=d&&(l.top-n[1])/d,v[t+24]=p&&(l.right-n[0])/-p,v[t+28]=d&&(l.bottom-n[1])/d,v[t+32]=d&&(l.left-n[0])/-d,v[t+36]=p&&(l.top-n[1])/-p,v[t+40]=d&&(l.right-n[0])/-d,v[t+44]=p&&(l.bottom-n[1])/-p,v[t+48]=p&&(l.left-n[0])/p,v[t+52]=d&&(l.top-n[1])/-d,v[t+56]=p&&(l.right-n[0])/p,v[t+60]=d&&(l.bottom-n[1])/-d}));var g=1+Math.min(Math.abs(d),Math.abs(p));u.paddingLeft=a(v,32,16)/g,u.paddingTop=a(v,48,16)/g,u.paddingRight=a(v,0,16)/g,u.paddingBottom=a(v,16,16)/g,e._textDivProperties.set(s,u)}else u.paddingLeft=t[o].left-i[o].left,u.paddingTop=t[o].top-i[o].top,u.paddingRight=i[o].right-t[o].right,u.paddingBottom=i[o].bottom-t[o].bottom,e._textDivProperties.set(s,u)}}function c(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));u(e,r);var i=new Array(n.length);return r.forEach((function(e){var t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var o=i[n],a=r[n];a.x1=t.top,a.y1=e-o.right,a.x2=t.bottom,a.y2=e-o.left,a.index=n,a.x1New=void 0,a.x2New=void 0})),u(t,r),r.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}function u(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},r=[{start:-1/0,end:1/0,boundary:n}];t.forEach((function(e){var t=0;while(t<r.length&&r[t].end<=e.y1)t++;var n,i,o=r.length-1;while(o>=0&&r[o].start>=e.y2)o--;var a,s,c=-1/0;for(a=t;a<=o;a++){var u;n=r[a],i=n.boundary,u=i.x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New,u>c&&(c=u)}for(e.x1New=c,a=t;a<=o;a++)n=r[a],i=n.boundary,void 0===i.x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=c:i.x2New>c&&(i.x2New=Math.max(c,i.x2));var l=[],h=null;for(a=t;a<=o;a++){n=r[a],i=n.boundary;var f=i.x2>e.x2?i:e;h===f?l[l.length-1].end=n.end:(l.push({start:n.start,end:n.end,boundary:f}),h=f)}for(r[t].start<e.y1&&(l[0].start=e.y1,l.unshift({start:r[t].start,end:e.y1,boundary:r[t].boundary})),e.y2<r[o].end&&(l[l.length-1].end=e.y2,l.push({start:e.y2,end:r[o].end,boundary:r[o].boundary})),a=t;a<=o;a++)if(n=r[a],i=n.boundary,void 0===i.x2New){var d=!1;for(s=t-1;!d&&s>=0&&r[s].start>=i.y1;s--)d=r[s].boundary===i;for(s=o+1;!d&&s<r.length&&r[s].end<=i.y2;s++)d=r[s].boundary===i;for(s=0;!d&&s<l.length;s++)d=l[s].boundary===i;d||(i.x2New=c)}Array.prototype.splice.apply(r,[t,o-t+1].concat(l))})),r.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function l(e){var t=this,n=e.textContent,i=e.textContentStream,o=e.container,a=e.viewport,s=e.textDivs,c=e.textContentItemsStr,u=e.enhanceTextSelection;this._textContent=n,this._textContentStream=i,this._container=o,this._viewport=a,this._textDivs=s||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!u,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise["finally"]((function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)}))["catch"]((function(){}))}function h(e){var t=new l({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}return l.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,t){for(var n=0,r=e.length;n<r;n++)this._textContentItemsStr.push(e[n].str),i(this,e[n],t)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,i=r.fontSize,o=r.fontFamily;i===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(o),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=o);var a=this._layoutTextCtx.measureText(e.textContent),s=a.width;s>0&&(t.scale=t.canvasWidth/s,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,n=(0,r.createPromiseCapability)(),i=Object.create(null),a=document.createElement("canvas");if(a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,c=this._textContent.styles;this._processItems(s,c),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var u=function e(){t._reader.read().then((function(r){var o=r.value,a=r.done;a?n.resolve():(Object.assign(i,o.styles),t._processItems(o.items,i),e())}),n.reject)};this._reader=this._textContentStream.getReader(),u()}n.promise.then((function(){i=null,e?t._renderTimer=setTimeout((function(){o(t),t._renderTimer=null}),e):o(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(s(this),this._bounds=null);for(var t=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var o=this._textDivs[r],a=this._textDivProperties.get(o);a.isWhitespace||(e?(t.length=0,n.length=0,a.originalTransform&&t.push(a.originalTransform),a.paddingTop>0?(n.push("".concat(a.paddingTop,"px")),t.push("translateY(".concat(-a.paddingTop,"px)"))):n.push(0),a.paddingRight>0?n.push("".concat(a.paddingRight/a.scale,"px")):n.push(0),a.paddingBottom>0?n.push("".concat(a.paddingBottom,"px")):n.push(0),a.paddingLeft>0?(n.push("".concat(a.paddingLeft/a.scale,"px")),t.push("translateX(".concat(-a.paddingLeft/a.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),t.length&&(o.style.transform=t.join(" "))):(o.style.padding=null,o.style.transform=a.originalTransform))}}}},h}();t.renderTextLayer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(5),i=n(1),o=n(7);function a(e){return u(e)||c(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return v(e)}function l(e,t){return d(e)||f(e,t)||m(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function d(e){if(Array.isArray(e))return e}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function m(e,t){if(e){if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var _=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=_;var x=function(e){var t,n=[],r=[],i=p(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(a){i.e(a)}finally{i.f()}return n},w=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},S=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(w(e[0])," ").concat(w(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(w(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(w(e[4])," ").concat(w(e[5]),")");return"matrix(".concat(w(e[0])," ").concat(w(e[1])," ").concat(w(e[2])," ").concat(w(e[3])," ").concat(w(e[4])," ")+"".concat(w(e[5]),")")},A={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},T="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/1999/xlink",M=["butt","round","square"],P=["miter","round","bevel"],C=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=12,n=new Int32Array(256),i=0;i<256;i++){for(var a=i,s=0;s<8;s++)a=1&a?3988292384^a>>1&2147483647:a>>1&2147483647;n[i]=a}function c(e,t,r){for(var i=-1,o=t;o<r;o++){var a=255&(i^e[o]),s=n[a];i=i>>>8^s}return-1^i}function u(e,t,n,r){var i=r,o=t.length;n[i]=o>>24&255,n[i+1]=o>>16&255,n[i+2]=o>>8&255,n[i+3]=255&o,i+=4,n[i]=255&e.charCodeAt(0),n[i+1]=255&e.charCodeAt(1),n[i+2]=255&e.charCodeAt(2),n[i+3]=255&e.charCodeAt(3),i+=4,n.set(t,i),i+=t.length;var a=c(n,r+4,i);n[i]=a>>24&255,n[i+1]=a>>16&255,n[i+2]=a>>8&255,n[i+3]=255&a}function l(e,t,n){for(var r=1,i=0,o=t;o<n;++o)r=(r+(255&e[o]))%65521,i=(i+r)%65521;return i<<16|r}function h(e){if(!o.isNodeJS)return f(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(1).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return f(e)}function f(e){var t=e.length,n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4),o=0;i[o++]=120,i[o++]=156;var a=0;while(t>n)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(e.subarray(a,a+n),o),o+=n,a+=n,t-=n;i[o++]=1,i[o++]=255&t,i[o++]=t>>8&255,i[o++]=255&~t,i[o++]=(65535&~t)>>8&255,i.set(e.subarray(a),o),o+=e.length-a;var s=l(e,0,e.length);return i[o++]=s>>24&255,i[o++]=s>>16&255,i[o++]=s>>8&255,i[o++]=255&s,i}function d(n,i,o,a){var s,c,l,f=n.width,d=n.height,p=n.data;switch(i){case r.ImageKind.GRAYSCALE_1BPP:c=0,s=1,l=f+7>>3;break;case r.ImageKind.RGB_24BPP:c=2,s=8,l=3*f;break;case r.ImageKind.RGBA_32BPP:c=6,s=8,l=4*f;break;default:throw new Error("invalid format")}for(var m=new Uint8Array((1+l)*d),v=0,g=0,y=0;y<d;++y)m[v++]=0,m.set(p.subarray(g,g+l),v),g+=l,v+=l;if(i===r.ImageKind.GRAYSCALE_1BPP&&a){v=0;for(var b=0;b<d;b++){v++;for(var _=0;_<l;_++)m[v++]^=255}}var x=new Uint8Array([f>>24&255,f>>16&255,f>>8&255,255&f,d>>24&255,d>>16&255,d>>8&255,255&d,s,c,0,0,0]),w=h(m),S=e.length+3*t+x.length+w.length,A=new Uint8Array(S),T=0;return A.set(e,T),T+=e.length,u("IHDR",x,A,T),T+=t+x.length,u("IDATA",w,A,T),T+=t+w.length,u("IEND",new Uint8Array(0),A,T),(0,r.createObjectURL)(A,"image/png",o)}return function(e,t,n){var i=void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind;return d(e,i,t,n)}}(),R=function(){function e(){g(this,e),this.fontSizeScale=1,this.fontWeight=A.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=A.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return b(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),k=0,L=0,O=0;t.SVGGraphics=_=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in g(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new R,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[a]]=a}return b(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,o=0,a=n.length;o<a;o++)if(n[o]===r.OPS.dependency){var s,c=p(i[o]);try{var u=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)u()}catch(l){c.e(l)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,o,a){var s=[e,t,n,i,o,a];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],o=0,a=r.length;o<a;o++){var s=r[o];i.push({fnId:s,fn:t[s],args:n[o]})}return x(i)}},{key:"executeOpTree",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.fn,a=i.fnId,s=i.args;switch(0|a){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:this.showText(s[0]);break;case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o));break}}}catch(c){n.e(c)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,o){var a=this.current;a.textMatrix=a.lineMatrix=[e,t,n,r,i,o],a.textMatrixScale=Math.sqrt(e*e+t*t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size","".concat(w(a.fontSize),"px")),a.tspan.setAttributeNS(null,"y",w(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.appendChild(a.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(w(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",w(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var o,a=t.fontSizeScale,s=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,l=t.textHScale*u,h=n.vertical,f=h?1:-1,d=n.defaultVMetrics,m=i*t.fontMatrix[0],v=0,g=p(e);try{for(g.s();!(o=g.n()).done;){var y=o.value;if(null!==y)if((0,r.isNum)(y))v+=f*y*i/1e3;else{var b=(y.isSpace?c:0)+s,_=y.fontChar,x=void 0,E=void 0,M=y.width;if(h){var P=void 0,C=y.vmetric||d;P=y.vmetric?C[1]:.5*M,P=-P*m;var R=C[2]*m;M=C?-C[0]:M,x=P/a,E=(v+R)/a}else x=v/a,E=0;(y.isInFont||n.missingFile)&&(t.xcoords.push(t.x+x),h&&t.ycoords.push(-t.y+E),t.tspan.textContent+=_);var k=void 0;k=h?M*m-b*u:M*m+b*u,v+=k}else v+=u*c}}catch(N){g.e(N)}finally{g.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(w).join(" ")),h?t.tspan.setAttributeNS(null,"y",t.ycoords.map(w).join(" ")):t.tspan.setAttributeNS(null,"y",w(-t.y)),h?t.y-=v:t.x+=v*l,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(w(t.fontSize),"px")),t.fontStyle!==A.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==A.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var L=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(L===r.TextRenderingMode.FILL||L===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==A.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),L===r.TextRenderingMode.STROKE||L===r.TextRenderingMode.FILL_STROKE){var O=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,O)}var I=t.textMatrix;0!==t.textRise&&(I=I.slice(),I[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(S(I)," scale(").concat(w(l),", -1)")),t.txtElement.setAttributeNS(T,"xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var a=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",w(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=M[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=P[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],i),a=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([t,0],i),c=r.Util.applyTransform([t,n],i),u=Math.min(o[0],a[0],s[0],c[0]),l=Math.min(o[1],a[1],s[1],c[1]),h=Math.max(o[0],a[0],s[0],c[0]),f=Math.max(o[1],a[1],s[1],c[1]),d=this.svgFactory.createElement("svg:rect");d.setAttributeNS(null,"x",u),d.setAttributeNS(null,"y",l),d.setAttributeNS(null,"width",h-u),d.setAttributeNS(null,"height",f-l),d.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&d.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(d)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,o=l(e[4],4),s=o[0],c=o[1],u=o[2],h=o[3],f=e[5],d=e[6],p=e[7],m="shading".concat(O++),v=r.Util.applyTransform([s,c],i),g=l(v,2),y=g[0],b=g[1],_=r.Util.applyTransform([u,h],i),x=l(_,2),w=x[0],S=x[1],A=r.Util.singularValueDecompose2dScale(i),T=l(A,2),E=T[0],M=T[1],P=f*E,C=d*M,R=this.svgFactory.createElement("svg:pattern");R.setAttributeNS(null,"id",m),R.setAttributeNS(null,"patternUnits","userSpaceOnUse"),R.setAttributeNS(null,"width",P),R.setAttributeNS(null,"height",C),R.setAttributeNS(null,"x","".concat(y)),R.setAttributeNS(null,"y","".concat(b));var k=this.svg,L=this.transformMatrix,I=this.current.fillColor,N=this.current.strokeColor,D=this.svgFactory.create(w-y,S-b);if(this.svg=D,this.transformMatrix=i,2===p){var F=r.Util.makeCssRgb.apply(r.Util,a(t));this.current.fillColor=F,this.current.strokeColor=F}return this.executeOpTree(this.convertOpList(n)),this.svg=k,this.transformMatrix=L,this.current.fillColor=I,this.current.strokeColor=N,R.appendChild(D.childNodes[0]),this.defs.appendChild(R),"url(#".concat(m,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(O++),i=e[3];switch(e[1]){case"axial":var o=e[4],a=e[5];t=this.svgFactory.createElement("svg:linearGradient"),t.setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",o[0]),t.setAttributeNS(null,"y1",o[1]),t.setAttributeNS(null,"x2",a[0]),t.setAttributeNS(null,"y2",a[1]);break;case"radial":var s=e[4],c=e[5],u=e[6],l=e[7];t=this.svgFactory.createElement("svg:radialGradient"),t.setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",l),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var h,f=p(i);try{for(f.s();!(h=f.n()).done;){var d=h.value,m=this.svgFactory.createElement("svg:stop");m.setAttributeNS(null,"offset",d[0]),m.setAttributeNS(null,"stop-color",d[1]),t.appendChild(m)}}catch(v){f.e(v)}finally{f.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,o=i.x,a=i.y,s=[],c=0,u=p(e);try{for(u.s();!(n=u.n()).done;){var l=n.value;switch(0|l){case r.OPS.rectangle:o=t[c++],a=t[c++];var h=t[c++],f=t[c++],d=o+h,m=a+f;s.push("M",w(o),w(a),"L",w(d),w(a),"L",w(d),w(m),"L",w(o),w(m),"Z");break;case r.OPS.moveTo:o=t[c++],a=t[c++],s.push("M",w(o),w(a));break;case r.OPS.lineTo:o=t[c++],a=t[c++],s.push("L",w(o),w(a));break;case r.OPS.curveTo:o=t[c+4],a=t[c+5],s.push("C",w(t[c]),w(t[c+1]),w(t[c+2]),w(t[c+3]),w(o),w(a)),c+=6;break;case r.OPS.curveTo2:s.push("C",w(o),w(a),w(t[c]),w(t[c+1]),w(t[c+2]),w(t[c+3])),o=t[c+2],a=t[c+3],c+=4;break;case r.OPS.curveTo3:o=t[c+2],a=t[c+3],s.push("C",w(t[c]),w(t[c+1]),w(o),w(a),w(o),w(a)),c+=4;break;case r.OPS.closePath:s.push("Z");break}}}catch(v){u.e(v)}finally{u.f()}s=s.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(o,a)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(k++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",S(this.transformMatrix));var r=e.element.cloneNode(!0);"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=p(e);try{for(n.s();!(t=n.n()).done;){var i=l(t.value,2),o=i[0],a=i[1];switch(o){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a);break;case"CA":this.setStrokeAlpha(a);break;case"ca":this.setFillAlpha(a);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o));break}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",w(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",w(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(w).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",w(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=C(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",w(n)),o.setAttributeNS(null,"height",w(r)),this.current.element=o,this.clip("nonzero");var a=this.svgFactory.createElement("svg:image");a.setAttributeNS(E,"xlink:href",i),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",w(-r)),a.setAttributeNS(null,"width",w(n)+"px"),a.setAttributeNS(null,"height",w(r)+"px"),a.setAttributeNS(null,"transform","scale(".concat(w(1/n)," ").concat(w(-1/r),")")),t?t.appendChild(a):this._ensureTransformGroup().appendChild(a)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(L++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",t.maskId);var a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",w(n)),a.setAttributeNS(null,"height",w(r)),a.setAttributeNS(null,"fill",i),a.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(a),this.paintInlineImageXObject(e,o)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",w(n)),i.setAttributeNS(null,"height",w(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",S(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=a(n(2)),i=n(5),o=n(213);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}var _=__webpack_require__(2),x=__webpack_require__(3),w=__webpack_require__(4),S=__webpack_require__(5),A=/^file:\/\/\/[a-zA-Z]:\//;function T(e){var t=S.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?S.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}var E=function(){function e(t){g(this,e),this.source=t,this.url=T(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return b(e,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new L(this):new R(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new O(this,e,t):new k(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFNodeStream=E;var M=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)(),this._headersCapability=(0,i.createPromiseCapability)()}return b(e,[{key:"read",value:function(){var e=v(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),P=function(){function e(t){g(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,i.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}return b(e,[{key:"read",value:function(){var e=v(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(t=this._readableStream.read(),null!==t){e.next=10;break}return this._readCapability=(0,i.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function C(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var R=function(e){c(n,e);var t=l(n);function n(e){var r;g(this,n),r=t.call(this,e);var a=function(t){if(404===t.statusCode){var n=new i.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(t);var a=function(e){return r._readableStream.headers[e.toLowerCase()]},s=(0,o.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),c=s.allowRangeRequests,u=s.suggestedLength;r._isRangeSupported=c,r._contentLength=u||r._contentLength,r._filename=(0,o.extractFilenameFromHeader)(a)};return r._request=null,"http:"===r._url.protocol?r._request=x.request(C(r._url,e.httpHeaders),a):r._request=w.request(C(r._url,e.httpHeaders),a),r._request.on("error",(function(e){r._storedError=e,r._headersCapability.reject(e)})),r._request.end(),r}return n}(M),k=function(e){c(n,e);var t=l(n);function n(e,r,o){var a;for(var s in g(this,n),a=t.call(this,e),a._httpHeaders={},e.httpHeaders){var c=e.httpHeaders[s];"undefined"!==typeof c&&(a._httpHeaders[s]=c)}a._httpHeaders.Range="bytes=".concat(r,"-").concat(o-1);var u=function(e){if(404!==e.statusCode)a._setReadableStream(e);else{var t=new i.MissingPDFException('Missing PDF "'.concat(a._url,'".'));a._storedError=t}};return a._request=null,"http:"===a._url.protocol?a._request=x.request(C(a._url,a._httpHeaders),u):a._request=w.request(C(a._url,a._httpHeaders),u),a._request.on("error",(function(e){a._storedError=e})),a._request.end(),a}return n}(P),L=function(e){c(n,e);var t=l(n);function n(e){var r;g(this,n),r=t.call(this,e);var o=decodeURIComponent(r._url.path);return A.test(r._url.href)&&(o=o.replace(/^\//,"")),_.lstat(o,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new i.MissingPDFException('Missing PDF "'.concat(o,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(_.createReadStream(o)),r._headersCapability.resolve()})),r}return n}(M),O=function(e){c(n,e);var t=l(n);function n(e,r,i){var o;g(this,n),o=t.call(this,e);var a=decodeURIComponent(o._url.path);return A.test(o._url.href)&&(a=a.replace(/^\//,"")),o._setReadableStream(_.createReadStream(a,{start:r,end:i-1})),o}return n}(P)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=s,t.extractFilenameFromHeader=a,t.validateRangeRequestCapabilities=o,t.validateResponseStatus=c;var r=n(5),i=n(214);function o(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,o=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*i)return a;if(o||!n)return a;if("bytes"!==t("Accept-Ranges"))return a;var c=t("Content-Encoding")||"identity";return"identity"!==c||(a.allowRangeRequests=!0),a}function a(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(/\.pdf$/i.test(n))return n}return null}function s(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)}function c(e){return 200===e||206===e}},function(e,t,n){"use strict";function r(e,t){return c(e)||s(e,t)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function c(e){if(Array.isArray(e))return e}function u(e){var t=!0,n=s("filename\\*","i").exec(e);if(n){n=n[1];var i=h(n);return i=unescape(i),i=f(i),i=d(i),u(i)}if(n=l(e),n){var o=d(n);return u(o)}if(n=s("filename","i").exec(e),n){n=n[1];var a=h(n);return a=d(a),u(a)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function c(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(i)),t=!1}catch(o){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(a){}}}return n}function u(e){return t&&/[\x80-\xff]/.test(e)&&(e=c("utf-8",e),t&&(e=c("iso-8859-1",e))),e}function l(e){var t,n=[],i=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while(null!==(t=i.exec(e))){var o=t,a=r(o,4),c=a[1],u=a[2],l=a[3];if(c=parseInt(c,10),c in n){if(0===c)break}else n[c]=[u,l]}for(var d=[],p=0;p<n.length;++p){if(!(p in n))break;var m=r(n[p],2),v=m[0],g=m[1];g=h(g),v&&(g=unescape(g),0===p&&(g=f(g))),d.push(g)}return d.join("")}function h(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function f(e){var t=e.indexOf("'");if(-1===t)return e;var n=e.slice(0,t),r=e.slice(t+1),i=r.replace(/^[^']*'/,"");return c(n,i)}function d(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return r=r.replace(/_/g," "),r=r.replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})),c(t,r);try{r=atob(r)}catch(i){}return c(t,r)}))}return""}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=a(n(2)),i=n(5),o=n(213);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=200,d=206;function p(e){var t=e.response;if("string"!==typeof t)return t;var n=(0,i.stringToBytes)(t);return n.buffer}var m=function(){function e(t,n){u(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return h(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];"undefined"!==typeof o&&t.setRequestHeader(i,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=d):r.expectedStatus=f,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===r.status&&this.isHttp)n.onError&&n.onError(r.status);else{var i=r.status||f,o=i===f&&n.expectedStatus===d;if(o||i===n.expectedStatus){var a=p(r);if(i===d){var s=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError&&n.onError(r.status)}else n.onError&&n.onError(r.status)}}}},{key:"hasPendingRequests",value:function(){for(var e in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),v=function(){function e(t){u(this,e),this._source=t,this._manager=new m(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new y(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFNetworkStream=v;var g=function(){function e(t,n){u(this,e),this._manager=t;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return h(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.allowRangeRequests,a=r.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e)if(this._requests.length>0){var t=this._requests.shift();t.resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,n=(0,o.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:function(){var e=c(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,i.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e}(),y=function(){function e(t,n,r){u(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return h(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:function(){var e=c(r["default"].mark((function e(){var t,n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,i.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=a(n(2)),i=n(5),o=n(213);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function d(e){var t=new Headers;for(var n in e){var r=e[n];"undefined"!==typeof r&&t.append(n,r)}return t}var p=function(){function e(t){u(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new m(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new v(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t=this._rangeRequestReaders.slice(0);t.forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();t.PDFFetchStream=p;var m=function(){function e(t){var n=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var r=t.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,i.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=d(this._stream.httpHeaders);var a=r.url;fetch(a,f(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,a);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=r.allowRangeRequests,c=r.suggestedLength;n._isRangeSupported=s,n._contentLength=c||n._contentLength,n._filename=(0,o.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new i.AbortException("Streaming is disabled."))}))["catch"](this._headersCapability.reject),this.onProgress=null}return h(e,[{key:"read",value:function(){var e=c(r["default"].mark((function e(){var t,n,i,o;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,i=t.done,!i){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(n).buffer,e.abrupt("return",{value:o,done:!1});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),v=function(){function e(t,n,r){var a=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0;var s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,i.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._headers=d(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var c=s.url;fetch(c,f(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,c);a._readCapability.resolve(),a._reader=e.body.getReader()})),this.onProgress=null}return h(e,[{key:"read",value:function(){var e=c(r["default"].mark((function e(){var t,n,i,o;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,i=t.done,!i){e.next=9;break}return e.abrupt("return",{value:n,done:i});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(n).buffer,e.abrupt("return",{value:o,done:!1});case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()}])}))}).call(this,__webpack_require__("b639").Buffer,__webpack_require__("4362"),__webpack_require__("c8ba"))},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),a=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},4840:function(e,t,n){var r=n("825a"),i=n("1c0b"),o=n("b622"),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),a=n("e95a"),s=n("50c4"),c=n("8418"),u=n("35a1");e.exports=function(e){var t,n,l,h,f,d,p=i(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,b=u(p),_=0;if(y&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(t=s(p.length),n=new m(t);t>_;_++)d=y?g(p[_],_):p[_],c(n,_,d);else for(h=b.call(p),f=h.next,n=new m;!(l=f.call(h)).done;_++)d=y?o(h,g,[l.value,_],!0):l.value,c(n,_,d);return n.length=_,n}},5014:function(e,t,n){!function(t){e.exports=t()}((function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.init=r,t.getWindow=i,t.default=void 0;var n={realWindow:void 0,window:void 0,getWindow:i,init:r};function r(e){n.realWindow=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),n.window=e}function i(t){return(0,e.default)(t)?t:(t.ownerDocument||t).defaultView||n.window}"undefined"==typeof window?(n.window=void 0,n.realWindow=void 0):r(window),n.init=r;var o=n;t.default=o;var a={};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=function(e){return!!e&&"object"===s(e)},u=function(e){return"function"==typeof e},l={window:function(n){return n===t.default.window||(0,e.default)(n)},docFrag:function(e){return c(e)&&11===e.nodeType},object:c,func:u,number:function(e){return"number"==typeof e},bool:function(e){return"boolean"==typeof e},string:function(e){return"string"==typeof e},element:function(e){if(!e||"object"!==s(e))return!1;var n=t.default.getWindow(e)||t.default.window;return/object|function/.test(s(n.Element))?e instanceof n.Element:1===e.nodeType&&"string"==typeof e.nodeName},plainObject:function(e){return c(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return c(e)&&void 0!==e.length&&u(e.splice)}};a.default=l;var h={};function f(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function d(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";t.page[i]=n.coords.start.page[i],t.client[i]=n.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var p={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=p.draggable,t.map.drag=p,t.methodDict.drag="draggable",r.actions.drag=p.defaults},listeners:{"interactions:before-action-move":f,"interactions:action-resume":f,"interactions:action-move":d,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,i=n.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(r&n.options.drag.mouseButtons)))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return a.default.object(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):a.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:f,move:d,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},m=p;h.default=m;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var g={init:function(e){var t=e;g.document=t.document,g.DocumentFragment=t.DocumentFragment||y,g.SVGElement=t.SVGElement||y,g.SVGSVGElement=t.SVGSVGElement||y,g.SVGElementInstance=t.SVGElementInstance||y,g.Element=t.Element||y,g.HTMLElement=t.HTMLElement||g.Element,g.Event=t.Event,g.Touch=t.Touch||y,g.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function y(){}var b=g;v.default=b;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var x={init:function(e){var n=v.default.Element,r=t.default.window.navigator;x.supportsTouch="ontouchstart"in e||a.default.func(e.DocumentTouch)&&v.default.document instanceof e.DocumentTouch,x.supportsPointerEvent=!1!==r.pointerEnabled&&!!v.default.PointerEvent,x.isIOS=/iP(hone|od|ad)/.test(r.platform),x.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),x.isIe9=/MSIE 9/.test(r.userAgent),x.isOperaMobile="Opera"===r.appName&&x.supportsTouch&&/Presto/.test(r.userAgent),x.prefixedMatchesSelector="matches"in n.prototype?"matches":"webkitMatchesSelector"in n.prototype?"webkitMatchesSelector":"mozMatchesSelector"in n.prototype?"mozMatchesSelector":"oMatchesSelector"in n.prototype?"oMatchesSelector":"msMatchesSelector",x.pEventTypes=x.supportsPointerEvent?v.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,x.wheelEvent="onmousewheel"in v.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},w=x;_.default=w;var S={};function A(e){var t=e.parentNode;if(a.default.docFrag(t)){for(;(t=t.host)&&a.default.docFrag(t););return t}return t}function T(e,n){return t.default.window!==t.default.realWindow&&(n=n.replace(/\/deep\//g," ")),e[_.default.prefixedMatchesSelector](n)}Object.defineProperty(S,"__esModule",{value:!0}),S.nodeContains=function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1},S.closest=function(e,t){for(;a.default.element(e);){if(T(e,t))return e;e=A(e)}return null},S.parentNode=A,S.matchesSelector=T,S.indexOfDeepestElement=function(e){for(var n,r=[],i=0;i<e.length;i++){var o=e[i],a=e[n];if(o&&i!==n)if(a){var s=E(o),c=E(a);if(s!==o.ownerDocument)if(c!==o.ownerDocument)if(s!==c){r=r.length?r:M(a);var u=void 0;if(a instanceof v.default.HTMLElement&&o instanceof v.default.SVGElement&&!(o instanceof v.default.SVGSVGElement)){if(o===c)continue;u=o.ownerSVGElement}else u=o;for(var l=M(u,a.ownerDocument),h=0;l[h]&&l[h]===r[h];)h++;for(var f=[l[h-1],l[h],r[h]],d=f[0].lastChild;d;){if(d===f[1]){n=i,r=l;break}if(d===f[2])break;d=d.previousSibling}}else p=o,m=a,g=void 0,y=void 0,g=parseInt((0,t.getWindow)(p).getComputedStyle(p).zIndex,10)||0,y=parseInt((0,t.getWindow)(m).getComputedStyle(m).zIndex,10)||0,g>=y&&(n=i);else n=i}else n=i}var p,m,g,y;return n},S.matchesUpTo=function(e,t,n){for(;a.default.element(e);){if(T(e,t))return!0;if((e=A(e))===n)return T(e,t)}return!1},S.getActualElement=function(e){return e instanceof v.default.SVGElementInstance?e.correspondingUseElement:e},S.getScrollXY=P,S.getElementClientRect=C,S.getElementRect=function(e){var n=C(e);if(!_.default.isIOS7&&n){var r=P(t.default.getWindow(e));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},S.getPath=function(e){for(var t=[];e;)t.push(e),e=A(e);return t},S.trySelector=function(e){return!!a.default.string(e)&&(v.default.document.querySelector(e),!0)};var E=function(e){return e.parentNode||e.host};function M(e,t){for(var n,r=[],i=e;(n=E(i))&&i!==t&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function P(e){return{x:(e=e||t.default.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function C(e){var t=e instanceof v.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=function(e,t){for(var n in t)e[n]=t[n];return e};var k={};function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return"parent"===e?(0,S.parentNode)(n):"self"===e?t.getRect(n):(0,S.closest)(n,e)}Object.defineProperty(k,"__esModule",{value:!0}),k.getStringOptionResult=O,k.resolveRectLike=function(e,t,n,r){var i,o=e;return a.default.string(o)?o=O(o,t,n):a.default.func(o)&&(o=o.apply(void 0,function(e){if(Array.isArray(e))return L(e)}(i=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),a.default.element(o)&&(o=(0,S.getElementRect)(o)),o},k.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},k.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,R.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},k.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,R.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},k.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default=function(e,t,n){var r=e.options[n],i=r&&r.origin||e.options.origin,o=(0,k.resolveRectLike)(i,e,t,[e&&t]);return(0,k.rectToXY)(o)||{x:0,y:0}};var N={};function D(e){return e.trim().split(/ +/)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=function e(t,n,r){if(r=r||{},a.default.string(t)&&-1!==t.search(" ")&&(t=D(t)),a.default.array(t))return t.reduce((function(t,i){return(0,R.default)(t,e(i,n,r))}),r);if(a.default.object(t)&&(n=t,t=""),a.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(a.default.array(n))for(var i=0;i<n.length;i++){var o;o=n[i],e(t,o,r)}else if(a.default.object(n))for(var s in n){var c=D(s).map((function(e){return"".concat(t).concat(e)}));e(c,n[s],r)}return r};var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.default=void 0,F.default=function(e,t){return Math.sqrt(e*e+t*t)};var j={};function U(e,t){for(var n in t){var r=U.prefixedPropREs,i=!1;for(var o in r)if(0===n.indexOf(o)&&r[o].test(n)){i=!0;break}i||"function"==typeof t[n]||(e[n]=t[n])}return e}Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0,U.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var z=U;j.default=z;var B={};function H(e){return e instanceof v.default.Event||e instanceof v.default.Touch}function G(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function V(e,t){return t=t||{x:0,y:0},_.default.isOperaMobile&&H(e)?(G("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):G("page",e,t),t}function W(e,t){return t=t||{},_.default.isOperaMobile&&H(e)?G("screen",e,t):G("client",e,t),t}function q(e){var t=[];return a.default.array(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function X(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]+=r[i]}for(var o in t)t[o]/=e.length;return t}Object.defineProperty(B,"__esModule",{value:!0}),B.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},B.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},B.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},B.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},B.isNativePointer=H,B.getXY=G,B.getPageXY=V,B.getClientXY=W,B.getPointerId=function(e){return a.default.number(e.pointerId)?e.pointerId:e.identifier},B.setCoords=function(e,t,n){var r=t.length>1?X(t):t[0],i={};V(r,i),e.page.x=i.x,e.page.y=i.y,W(r,i),e.client.x=i.x,e.client.y=i.y,e.timeStamp=n},B.getTouchPair=q,B.pointerAverage=X,B.touchBBox=function(e){if(!(e.length||e.touches&&e.touches.length>1))return null;var t=q(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}},B.touchDistance=function(e,t){var n=t+"X",r=t+"Y",i=q(e),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return(0,F.default)(o,a)},B.touchAngle=function(e,t){var n=t+"X",r=t+"Y",i=q(e),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI},B.getPointerType=function(e){return a.default.string(e.pointerType)?e.pointerType:a.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type)||e instanceof v.default.Touch?"touch":"mouse"},B.getEventTargets=function(e){var t=a.default.func(e.composedPath)?e.composedPath():e.path;return[S.getActualElement(t?t[0]:e.target),S.getActualElement(e.currentTarget)]},B.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},B.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(B,"pointerExtend",{enumerable:!0,get:function(){return j.default}});var Y={};function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=Y.BaseEvent=void 0;var Z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}var t,n,r;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&$(t.prototype,n),r&&$(t,r),e}();Y.BaseEvent=Z,Object.defineProperty(Z.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var J=Z;Y.default=J;var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.find=K.findIndex=K.from=K.merge=K.remove=K.contains=void 0,K.contains=function(e,t){return-1!==e.indexOf(t)},K.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Q=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};K.merge=Q,K.from=function(e){return Q([],e)};var ee=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};K.findIndex=ee,K.find=function(e,t){return e[ee(e,t)]};var te={};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var i=se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(te,"__esModule",{value:!0}),te.DropEvent=void 0;var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(o,e);var t,n,r,i=oe(o);function o(e,t,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,t._interaction)).target=void 0,r.dropzone=void 0,r.dragEvent=void 0,r.relatedTarget=void 0,r.draggable=void 0,r.timeStamp=void 0,r.propagationStopped=!1,r.immediatePropagationStopped=!1;var a="dragleave"===n?e.prev:e.cur,s=a.element,c=a.dropzone;return r.type=n,r.target=s,r.currentTarget=s,r.dropzone=c,r.dragEvent=t,r.relatedTarget=t.target,r.draggable=t.interactable,r.timeStamp=t.timeStamp,r}return t=o,(n=[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,r=K.findIndex(n,(function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target}));t.activeDrops.splice(r,1);var i=new o(t,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new o(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&re(t.prototype,n),r&&re(t,r),o}(Y.BaseEvent);te.DropEvent=ce;var ue={};function le(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],i=r.dropzone,o=r.element;t.dropzone=i,t.target=o,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function he(e,t){for(var n=function(e,t){for(var n=e.interactables,r=[],i=0;i<n.list.length;i++){var o=n.list[i];if(o.options.drop.enabled){var s=o.options.drop.accept;if(!(a.default.element(s)&&s!==t||a.default.string(s)&&!S.matchesSelector(t,s)||a.default.func(s)&&!s({dropzone:o,draggableElement:t})))for(var c=a.default.string(o.target)?o._context.querySelectorAll(o.target):a.default.array(o.target)?o.target:[o.target],u=0;u<c.length;u++){var l=c[u];l!==t&&r.push({dropzone:o,element:l})}}}return r}(e,t),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function fe(e,t,n){for(var r=e.dropState,i=e.interactable,o=e.element,a=[],s=0;s<r.activeDrops.length;s++){var c=r.activeDrops[s],u=c.dropzone,l=c.element,h=c.rect;a.push(u.dropCheck(t,n,i,o,l,h)?l:null)}var f=S.indexOfDeepestElement(a);return r.activeDrops[f]||null}function de(e,t,n){var r=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new te.DropEvent(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new te.DropEvent(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new te.DropEvent(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new te.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new te.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new te.DropEvent(r,n,"dropmove"),i.move.dragmove=n,n.dropzone=r.cur.dropzone)),i}function pe(e,t){var n=e.dropState,r=n.activeDrops,i=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.move&&i.dropzone.fire(t.move),t.enter&&i.dropzone.fire(t.enter),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&le(r,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function me(e,t){var n=e.interaction,r=e.iEvent,i=e.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=he(t,n.element));var a=r,s=fe(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=de(n,0,a)}}Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var ve={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,i=e.defaults;e.usePlugin(h.default),r.prototype.dropzone=function(e){return function(e,t){if(a.default.object(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=(0,N.default)(t.listeners),r=Object.keys(n).reduce((function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e}),{});e.off(e.options.drop.listeners),e.on(r),e.options.drop.listeners=r}return a.default.func(t.ondrop)&&e.on("drop",t.ondrop),a.default.func(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),a.default.func(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),a.default.func(t.ondragenter)&&e.on("dragenter",t.ondragenter),a.default.func(t.ondragleave)&&e.on("dragleave",t.ondragleave),a.default.func(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:a.default.number(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return a.default.bool(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var c=!1;if(!(s=s||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,c,e,o,r,i);var u=e.options.drop.overlap;if("pointer"===u){var l=(0,I.default)(r,i,"drag"),h=B.getPageXY(t);h.x+=l.x,h.y+=l.y;var f=h.x>s.left&&h.x<s.right,d=h.y>s.top&&h.y<s.bottom;c=f&&d}var p=r.getRect(i);if(p&&"center"===u){var m=p.left+p.width/2,v=p.top+p.height/2;c=m>=s.left&&m<=s.right&&v>=s.top&&v<=s.bottom}if(p&&a.default.number(u)){var g=Math.max(0,Math.min(s.right,p.right)-Math.max(s.left,p.left))*Math.max(0,Math.min(s.bottom,p.bottom)-Math.max(s.top,p.top))/(p.width*p.height);c=g>=u}return e.options.drop.checker&&(c=e.options.drop.checker(t,n,c,e,o,r,i)),c}(this,e,t,n,r,i,o)},n.dynamicDrop=function(t){return a.default.bool(t)?(e.dynamicDrop=t,n):e.dynamicDrop},(0,R.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=ve.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=null,i.events=null,i.activeDrops=he(t,n.element),i.events=de(n,0,r),i.events.activate&&(le(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":me,"interactions:action-end":me,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;"drag"===n.prepared.name&&(pe(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:after-action-end":function(e,t){var n=e.interaction,r=e.iEvent;"drag"===n.prepared.name&&(pe(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r}))},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:he,getDrop:fe,getDropEvents:de,fireDropEvents:pe,defaults:{enabled:!1,accept:null,overlap:"pointer"}},ge=ve;ue.default=ge;var ye={};function be(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map((function(e){return e.pointer})),o="start"===r,s="end"===r,c=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=B.touchDistance(i,c),n.box=B.touchBBox(i),n.scale=1,n.ds=0,n.angle=B.touchAngle(i,c),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s){var u=t.prevEvent;n.distance=u.distance,n.box=u.box,n.scale=u.scale,n.ds=0,n.angle=u.angle,n.da=0}else n.distance=B.touchDistance(i,c),n.box=B.touchBBox(i),n.scale=n.distance/t.gesture.startDistance,n.angle=B.touchAngle(i,c),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,a.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var _e={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return a.default.object(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):a.default.bool(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=_e,t.methodDict.gesture="gesturable",r.actions.gesture=_e.defaults},listeners:{"interactions:action-start":be,"interactions:action-move":be,"interactions:action-end":be,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},xe=_e;ye.default=xe;var we={};function Se(e,t,n,r,i,o,s){if(!t)return!1;if(!0===t){var c=a.default.number(o.width)?o.width:o.right-o.left,u=a.default.number(o.height)?o.height:o.bottom-o.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?c:u)/2)),c<0&&("left"===e?e="right":"right"===e&&(e="left")),u<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return n.x<(c>=0?o.left:o.right)+s;if("top"===e)return n.y<(u>=0?o.top:o.bottom)+s;if("right"===e)return n.x>(c>=0?o.right:o.left)-s;if("bottom"===e)return n.y>(u>=0?o.bottom:o.top)-s}return!!a.default.element(r)&&(a.default.element(t)?t===r:S.matchesUpTo(r,t,i))}function Ae(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Te={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,i=e.defaults;Te.cursors=function(e){return e.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Te.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return function(e,t,n){return a.default.object(t)?(e.options.resize.enabled=!1!==t.enabled,e.setPerAction("resize",t),e.setOnEvents("resize",t),a.default.string(t.axis)&&/^x$|^y$|^xy$/.test(t.axis)?e.options.resize.axis=t.axis:null===t.axis&&(e.options.resize.axis=n.defaults.actions.resize.axis),a.default.bool(t.preserveAspectRatio)?e.options.resize.preserveAspectRatio=t.preserveAspectRatio:a.default.bool(t.square)&&(e.options.resize.square=t.square),e):a.default.bool(t)?(e.options.resize.enabled=t,e):e.options.resize}(this,t,e)},t.map.resize=Te,t.methodDict.resize="resizable",i.actions.resize=Te.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.rect;n._rects={start:(0,R.default)({},i),corrected:(0,R.default)({},i),previous:(0,R.default)({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(e),Ae(e)},"interactions:action-move":function(e){!function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,c=s.start,u=s.corrected,l=s.delta,h=s.previous;if((0,R.default)(h,u),o){if((0,R.default)(u,a),"reposition"===i){if(u.top>u.bottom){var f=u.top;u.top=u.bottom,u.bottom=f}if(u.left>u.right){var d=u.left;u.left=u.right,u.right=d}}}else u.top=Math.min(a.top,c.bottom),u.bottom=Math.max(a.bottom,c.top),u.left=Math.min(a.left,c.right),u.right=Math.max(a.right,c.left);for(var p in u.width=u.right-u.left,u.height=u.bottom-u.top,u)l[p]=u[p]-h[p];r.edges=n.prepared.edges,r.rect=u,r.deltaRect=l}}(e),Ae(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,i=e.rect,o=e.buttons;if(i){var s=(0,R.default)({},t.coords.cur.page),c=n.options.resize;if(c&&c.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||0!=(o&c.mouseButtons))){if(a.default.object(c.edges)){var u={left:!1,right:!1,top:!1,bottom:!1};for(var l in u)u[l]=Se(l,c.edges[l],s,t._latestPointer.eventTarget,r,i,c.margin||Te.defaultMargin);u.left=u.left&&!u.right,u.top=u.top&&!u.bottom,(u.left||u.right||u.top||u.bottom)&&(e.action={name:"resize",edges:u})}else{var h="y"!==c.axis&&s.x>i.right-Te.defaultMargin,f="x"!==c.axis&&s.y>i.bottom-Te.defaultMargin;(h||f)&&(e.action={name:"resize",axes:(h?"x":"")+(f?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,i=Te.cursors,o=null;if(n)o=i[r+n];else if(t){for(var a="",s=["top","bottom","left","right"],c=0;c<s.length;c++){var u=s[c];t[u]&&(a+=u)}o=i[a]}return o},defaultMargin:null},Ee=Te;we.default=Ee;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var Pe={id:"actions",install:function(e){e.usePlugin(ye.default),e.usePlugin(we.default),e.usePlugin(h.default),e.usePlugin(ue.default)}};Me.default=Pe;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0,Ce.default={};var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var ke,Le,Oe=0,Ie={request:function(e){return ke(e)},cancel:function(e){return Le(e)},init:function(e){if(ke=e.requestAnimationFrame,Le=e.cancelAnimationFrame,!ke)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];ke=e["".concat(r,"RequestAnimationFrame")],Le=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}ke||(ke=function(e){var t=Date.now(),n=Math.max(0,16-(t-Oe)),r=setTimeout((function(){e(t+n)}),n);return Oe=t+n,r},Le=function(e){return clearTimeout(e)})}};Re.default=Ie;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.getContainer=Fe,Ne.getScroll=je,Ne.getScrollSize=function(e){return a.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Ne.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,i=n&&n.interactable.options[n.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var o=Fe(i.container,n.interactable,r),a=je(o);t();var s=je(o);return{x:s.x-a.x,y:s.y-a.y}},Ne.default=void 0;var De={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){De.isScrolling=!0,Re.default.cancel(De.i),e.autoScroll=De,De.interaction=e,De.prevTime=De.now(),De.i=Re.default.request(De.scroll)},stop:function(){De.isScrolling=!1,De.interaction&&(De.interaction.autoScroll=null),Re.default.cancel(De.i)},scroll:function(){var e=De.interaction,t=e.interactable,n=e.element,r=e.prepared.name,i=t.options[r].autoScroll,o=Fe(i.container,t,n),s=De.now(),c=(s-De.prevTime)/1e3,u=i.speed*c;if(u>=1){var l={x:De.x*u,y:De.y*u};if(l.x||l.y){var h=je(o);a.default.window(o)?o.scrollBy(l.x,l.y):o&&(o.scrollLeft+=l.x,o.scrollTop+=l.y);var f=je(o),d={x:f.x-h.x,y:f.y-h.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:o})}De.prevTime=s}De.isScrolling&&(Re.default.cancel(De.i),De.i=Re.default.request(De.scroll))},check:function(e,t){var n=e.options;return n[t].autoScroll&&n[t].autoScroll.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&De.check(t.interactable,t.prepared.name))if(t.simulation)De.x=De.y=0;else{var r,i,o,s,c=t.interactable,u=t.element,l=t.prepared.name,h=c.options[l].autoScroll,f=Fe(h.container,c,u);if(a.default.window(f))s=n.clientX<De.margin,r=n.clientY<De.margin,i=n.clientX>f.innerWidth-De.margin,o=n.clientY>f.innerHeight-De.margin;else{var d=S.getElementClientRect(f);s=n.clientX<d.left+De.margin,r=n.clientY<d.top+De.margin,i=n.clientX>d.right-De.margin,o=n.clientY>d.bottom-De.margin}De.x=i?1:s?-1:0,De.y=o?1:r?-1:0,De.isScrolling||(De.margin=h.margin,De.speed=h.speed,De.start(t))}}};function Fe(e,n,r){return(a.default.string(e)?(0,k.getStringOptionResult)(e,n,r):e)||(0,t.getWindow)(r)}function je(e){return a.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var Ue={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=De,De.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=De.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,De.stop(),De.interaction&&(De.interaction=null)},"interactions:stop":De.stop,"interactions:action-move":function(e){return De.onInteractionMove(e)}}};Ne.default=Ue;var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.warnOnce=function(e,n){var r=!1;return function(){return r||(t.default.window.console.warn(n),r=!0),e.apply(this,arguments)}},ze.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e};var Be={};function He(e){return a.default.bool(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function Ge(e){return a.default.func(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var Ve={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,i){var o=function(e,t,n,r,i){var o=e.getRect(r),a=t.buttons||{0:1,1:4,3:8,4:16}[t.button],s={action:null,interactable:e,interaction:n,element:r,rect:o,buttons:a};return i.fire("auto-start:check",s),s.action}(this,n,r,i,e);return this.options.actionChecker?this.options.actionChecker(t,n,o,this,i,r):o},t.prototype.ignoreFrom=(0,ze.warnOnce)((function(e){return this._backCompatOption("ignoreFrom",e)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,ze.warnOnce)((function(e){return this._backCompatOption("allowFrom",e)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Ge,t.prototype.styleCursor=He}};Be.default=Ve;var We={};function qe(e,t,n,r,i){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&Ze(t,n,e,i)?e:null}function Xe(e,t,n,r,i,o,a){for(var s=0,c=r.length;s<c;s++){var u=r[s],l=i[s],h=u.getAction(t,n,e,l);if(h){var f=qe(h,u,l,o,a);if(f)return{action:f,interactable:u,element:l}}}return{action:null,interactable:null,element:null}}function Ye(e,t,n,r,i){var o=[],s=[],c=r;function u(e){o.push(e),s.push(c)}for(;a.default.element(c);){o=[],s=[],i.interactables.forEachMatch(c,u);var l=Xe(e,t,n,o,s,r,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;c=S.parentNode(c)}return{action:null,interactable:null,element:null}}function $e(e,t,n){var r=t.action,i=t.interactable,o=t.element;r=r||{name:null},e.interactable=i,e.element=o,(0,ze.copyAction)(e.prepared,r),e.rect=i&&r.name?i.getRect(o):null,Qe(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ze(e,t,n,r){var i=e.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,c=0,u=0,l=0;if(!(o&&a&&s))return!1;for(var h=0;h<r.interactions.list.length;h++){var f=r.interactions.list[h],d=f.prepared.name;if(f.interacting()){if(++c>=s)return!1;if(f.interactable===e){if((u+=d===n.name?1:0)>=o)return!1;if(f.element===t&&(l++,d===n.name&&l>=a))return!1}}}return s>0}function Je(e,t){return a.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ke(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Qe(e,t){var n=e.interactable,r=e.element,i=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var s=n.options[i.name].cursorChecker;o=a.default.func(s)?s(i,n,r,e._interacting):t.actions.map[i.name].getCursor(i)}Ke(e.element,o||"",t)}else t.autoStart.cursorElement&&Ke(t.autoStart.cursorElement,"",t)}Object.defineProperty(We,"__esModule",{value:!0}),We.default=void 0;var et={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Be.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,R.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return Je(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ze,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.interacting()||$e(n,Ye(n,r,i,o,t),t)},"interactions:move":function(e,t){!function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||$e(n,Ye(n,r,i,o,t),t)}(e,t),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!Ze(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),Qe(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&Ke(n.element,"",t)}},maxInteractions:Je,withinInteractionLimit:Ze,validateAction:qe};We.default=et;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var nt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,i=e.dx,o=e.dy;if("drag"===n.prepared.name){var s=Math.abs(i),c=Math.abs(o),u=n.interactable.options.drag,l=u.startAxis,h=s>c?"x":s<c?"y":"xy";if(n.prepared.axis="start"===u.lockAxis?h[0]:u.lockAxis,"xy"!==h&&"xy"!==l&&l!==h){n.prepared.name=null;for(var f=r,d=function(e){if(e!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,f,r)){var o=e.getAction(n.downPointer,n.downEvent,n,f);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(h,e)&&We.default.validateAction(o,e,f,r,t))return e}}};a.default.element(f);){var p=t.interactables.forEachMatch(f,d);if(p){n.prepared.name="drag",n.interactable=p,n.element=f;break}f=(0,S.parentNode)(f)}}}}}};tt.default=nt;var rt={};function it(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var ot={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(We.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=it(t);n>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.pointerWasMoved&&!n&&clearTimeout(t.autoStartHoldTimer)},"autoStart:before-start":function(e){var t=e.interaction;it(t)>0&&(t.prepared.name=null)}},getHoldDuration:it};rt.default=ot;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var st={id:"auto-start",install:function(e){e.usePlugin(We.default),e.usePlugin(rt.default),e.usePlugin(tt.default)}};at.default=st;var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0,ct.default={};var ut={};function lt(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):a.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function ht(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ft(e){var n=e.Interactable;n.prototype.preventDefault=lt,n.prototype.checkAndPreventDefault=function(n){return function(e,n,r){var i=e.options.preventDefault;if("never"!==i)if("always"!==i){if(n.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var o=(0,t.getWindow)(r.target).document,s=n.getDocOptions(o);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||a.default.element(r.target)&&(0,S.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0;n<e.interactions.list.length;n++){var r=e.interactions.list[n];if(r.element&&(r.element===t.target||(0,S.nodeContains)(r.element,t.target)))return void r.interactable.checkAndPreventDefault(t)}}})}Object.defineProperty(ut,"__esModule",{value:!0}),ut.install=ft,ut.default=void 0;var dt={id:"core/interactablePreventDefault",install:ft,listeners:["down","move","up","cancel"].reduce((function(e,t){return e["interactions:".concat(t)]=ht,e}),{})};ut.default=dt;var pt,mt={};function vt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(pt||(pt={}));var yt={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},bt=[{name:pt.touchAction,perform:function(e){return!function(e,t,n){for(var r=e;a.default.element(r);){if(_t(r,t,n))return!0;r=(0,S.parentNode)(r)}return!1}(e.element,"touchAction",/pan-|pinch|none/)},getInfo:function(e){return[e.element,yt.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:pt.boxSizing,perform:function(e){var t=e.element;return"resize"===e.prepared.name&&t instanceof v.default.HTMLElement&&!_t(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,yt.boxSizing]}},{name:pt.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function _t(e,n,r){var i=e.style[n]||t.default.window.getComputedStyle(e)[n];return r.test((i||"").toString())}var xt="dev-tools",wt={id:xt,install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.logger,r=e.Interactable,i=e.defaults;e.logger=n||console,i.base.devTools={ignore:{}},r.prototype.devTools=function(e){return e?((0,R.default)(this.options.devTools,e),this):this.options.devTools}},listeners:{"interactions:action-start":function(e,t){for(var n=e.interaction,r=0;r<bt.length;r++){var i,o=bt[r],a=n.interactable&&n.interactable.options;a&&a.devTools&&a.devTools.ignore[o.name]||!o.perform(n)||(i=t.logger).warn.apply(i,["[interact.js] "+o.text].concat(vt(o.getInfo(n))))}}},checks:bt,CheckName:pt,links:yt,prefix:"[interact.js] "};mt.default=wt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0,St.default={};var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.default=function e(t){var n={};for(var r in t){var i=t[r];a.default.plainObject(i)?n[r]=e(i):a.default.array(i)?n[r]=K.from(i):n[r]=i}return n};var Tt={};function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getRectOffset=kt,Tt.default=void 0;var Ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=null,this.result=null,this.endResult=null,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Rt()}var t,n,r;return t=e,(n=[{key:"start",value:function(e,t){var n=e.phase,r=this.interaction,i=function(e){var t=e.interactable.options[e.prepared.name],n=t.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(e){var n=t[e];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(e){return!!e}))}(r);this.prepareStates(i),this.edges=(0,R.default)({},r.edges),this.startOffset=kt(r.rect,t),this.startDelta={x:0,y:0};var o={phase:n,pageCoords:t,preEnd:!1};return this.result=Rt(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(e){var t=this.interaction;e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect=e.rect||t.rect,e.edges=this.edges,e.startOffset=this.startOffset}},{key:"startAll",value:function(e){this.fillArg(e);for(var t=0;t<this.states.length;t++){var n=this.states[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){this.fillArg(e);var t=e.phase,n=e.preEnd,r=e.skipModifiers,i=e.rect;e.coords=(0,R.default)({},e.pageCoords),e.rect=(0,R.default)({},i);for(var o=r?this.states.slice(r):this.states,a=Rt(e.coords,e.rect),s=0;s<o.length;s++){var c=o[s],u=c.options,l=(0,R.default)({},e.coords),h=null;c.methods.set&&this.shouldDo(u,n,t)&&(e.state=c,h=c.methods.set(e),k.addEdges(this.interaction.edges,e.rect,{x:e.coords.x-l.x,y:e.coords.y-l.y})),a.eventProps.push(h)}a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-i.left,a.rectDelta.right=e.rect.right-i.right,a.rectDelta.top=e.rect.top-i.top,a.rectDelta.bottom=e.rect.bottom-i.bottom;var f=this.result.coords,d=this.result.rect;if(f&&d){var p=a.rect.left!==d.left||a.rect.right!==d.right||a.rect.top!==d.top||a.rect.bottom!==d.bottom;a.changed=p||f.x!==a.coords.x||f.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,i=t.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&(0,R.default)(this.startDelta,o.delta);for(var c=[[i,a],[r,s]],u=0;u<c.length;u++){var l=Et(c[u],2),h=l[0],f=l[1];h.page.x+=f.x,h.page.y+=f.y,h.client.x+=f.x,h.client.y+=f.y}var d=this.result.rectDelta,p=e.rect||t.rect;p.left+=d.left,p.right+=d.right,p.top+=d.top,p.bottom+=d.bottom,p.width=p.right-p.left,p.height=p.bottom-p.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,i=e.skipModifiers,o=this.setAll({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page});if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var a=t.coords.cur.page,s={x:e.modifiedCoords.x-a.x,y:e.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];e.state=a;var s=a.options,c=a.methods,u=c.beforeEnd&&c.beforeEnd(e);if(u)return this.endResult=u,!1;i=i||!i&&this.shouldDo(s,!0,e.phase,!0)}i&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=(0,R.default)({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0;r<this.states.length;r++){var i=this.states[r];n.state=i,i.methods.stop&&i.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,c=a.rectDelta,u=[[n.start,o],[n.cur,s]],l=0;l<u.length;l++){var h=Et(u[l],2),f=h[0],d=h[1];f.page.x-=d.x,f.page.y-=d.y,f.client.x-=d.x,f.client.y-=d.y}r.left-=c.left,r.right-=c.right,r.top-=c.top,r.bottom-=c.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map((function(e){return(0,At.default)(e)})),this.result=Rt((0,R.default)({},e.result.coords),(0,R.default)({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}])&&Pt(t.prototype,n),r&&Pt(t,r),e}();function Rt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function kt(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Tt.default=Ct;var Lt={};function Ot(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:t,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return t&&"string"==typeof t&&(i._defaults=n,i._methods=r),i},Lt.addEventModifiers=Ot,Lt.default=void 0;var It={id:"modifiers/base",install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Tt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":Ot,"interactions:action-move":Ot,"interactions:action-end":Ot,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}},before:["actions"]};Lt.default=It;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.defaults=void 0,Nt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Dt={};function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?Ht(e):t}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.InteractEvent=void 0;var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(o,e);var t,n,r,i=zt(o);function o(e,t,n,r,a,s,c){var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(u=i.call(this,e)).target=void 0,u.currentTarget=void 0,u.relatedTarget=null,u.screenX=void 0,u.screenY=void 0,u.button=void 0,u.buttons=void 0,u.ctrlKey=void 0,u.shiftKey=void 0,u.altKey=void 0,u.metaKey=void 0,u.page=void 0,u.client=void 0,u.delta=void 0,u.rect=void 0,u.x0=void 0,u.y0=void 0,u.t0=void 0,u.dt=void 0,u.duration=void 0,u.clientX0=void 0,u.clientY0=void 0,u.velocity=void 0,u.speed=void 0,u.swipe=void 0,u.timeStamp=void 0,u.dragEnter=void 0,u.dragLeave=void 0,u.axes=void 0,u.preEnd=void 0,a=a||e.element;var l=e.interactable,h=(l&&l.options||Nt.defaults).deltaSource,f=(0,I.default)(l,a,n),d="start"===r,p="end"===r,m=d?Ht(u):e.prevEvent,v=d?e.coords.start:p?{page:m.page,client:m.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return u.page=(0,R.default)({},v.page),u.client=(0,R.default)({},v.client),u.rect=(0,R.default)({},e.rect),u.timeStamp=v.timeStamp,p||(u.page.x-=f.x,u.page.y-=f.y,u.client.x-=f.x,u.client.y-=f.y),u.ctrlKey=t.ctrlKey,u.altKey=t.altKey,u.shiftKey=t.shiftKey,u.metaKey=t.metaKey,u.button=t.button,u.buttons=t.buttons,u.target=a,u.currentTarget=a,u.preEnd=s,u.type=c||n+(r||""),u.interactable=l,u.t0=d?e.pointers[e.pointers.length-1].downTime:m.t0,u.x0=e.coords.start.page.x-f.x,u.y0=e.coords.start.page.y-f.y,u.clientX0=e.coords.start.client.x-f.x,u.clientY0=e.coords.start.client.y-f.y,u.delta=d||p?{x:0,y:0}:{x:u[h].x-m[h].x,y:u[h].y-m[h].y},u.dt=e.coords.delta.timeStamp,u.duration=u.timeStamp-u.t0,u.velocity=(0,R.default)({},e.coords.velocity[h]),u.speed=(0,F.default)(u.velocity.x,u.velocity.y),u.swipe=p||"inertiastart"===r?u.getSwipe():null,u}return t=o,(n=[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&jt(t.prototype,n),r&&jt(t,r),o}(Y.BaseEvent);Dt.InteractEvent=Vt,Object.defineProperties(Vt.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.PointerInfo=void 0,Wt.PointerInfo=function e(t,n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=r,this.downTime=i,this.downTarget=o};var qt,Xt,Yt={};function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),e}Object.defineProperty(Yt,"__esModule",{value:!0}),Object.defineProperty(Yt,"PointerInfo",{enumerable:!0,get:function(){return Wt.PointerInfo}}),Yt.default=Yt.Interaction=Yt._ProxyMethods=Yt._ProxyValues=void 0,Yt._ProxyValues=qt,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(qt||(Yt._ProxyValues=qt={})),Yt._ProxyMethods=Xt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Xt||(Yt._ProxyMethods=Xt={}));var Jt=0,Kt=function(){function e(t){var n=this,r=t.pointerType,i=t.scopeFire;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,ze.warnOnce)((function(e){this.move(e)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:B.newCoords(),prev:B.newCoords(),cur:B.newCoords(),delta:B.newCoords(),velocity:B.newCoords()},this._id=Jt++,this._scopeFire=i,this.pointerType=r;var o=this;this._proxy={};var a=function(e){Object.defineProperty(n._proxy,e,{get:function(){return o[e]}})};for(var s in qt)a(s);var c=function(e){Object.defineProperty(n._proxy,e,{value:function(){return o[e].apply(o,arguments)}})};for(var u in Xt)c(u);this._scopeFire("interactions:new",{interaction:this})}return Zt(e,[{key:"pointerMoveTolerance",get:function(){return 1}}]),Zt(e,[{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&((0,ze.copyAction)(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?(0,R.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,F.default)(r,i)>this.pointerMoveTolerance);var a=this.getPointerIndex(e),s={pointer:e,pointerIndex:a,pointerInfo:this.pointers[a],event:t,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||B.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),o||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&B.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||B.setZeroCoords(this.coords.delta),(e=(0,R.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.pointerIsDown=!1,this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=B.getPointerId(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:K.findIndex(this.pointers,(function(e){return e.id===t}))}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var i=B.getPointerId(e),o=this.getPointerIndex(e),a=this.pointers[o];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),a?a.pointer=e:(a=new Wt.PointerInfo(i,e,t,null,null),o=this.pointers.length,this.pointers.push(a)),B.setCoords(this.coords.cur,this.pointers.map((function(e){return e.pointer})),this._now()),B.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,B.pointerExtend(this.downPointer,e),this.interacting()||(B.copyCoords(this.coords.start,this.coords.cur),B.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:a,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1)}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new Dt.InteractEvent(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){this.interactable.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===n&&(k.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var a=e.iEvent=this._createPreparedEvent(t,n,r,i);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();Yt.Interaction=Kt;var Qt=Kt;Yt.default=Qt;var en={};function tn(e){e.pointerIsDown&&(an(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function nn(e){rn(e.interaction)}function rn(e){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(e))return!1;var t=e.offset.pending;return an(e.coords.cur,t),an(e.coords.delta,t),k.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function on(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function an(e,t){var n=e.page,r=e.client,i=t.x,o=t.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Object.defineProperty(en,"__esModule",{value:!0}),en.addTotal=tn,en.applyPending=rn,en.default=void 0,Yt._ProxyMethods.offsetBy="";var sn={id:"offset",before:["modifiers"],install:function(e){e.Interaction.prototype.offsetBy=on},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return tn(e.interaction)},"interactions:before-action-start":nn,"interactions:before-action-move":nn,"interactions:before-action-end":function(e){var t=e.interaction;if(rn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};en.default=sn;var cn={};function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=cn.InertiaState=void 0;var ln=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=null,this.modifierCount=0,this.modifierArg=null,this.startCoords=null,this.t0=0,this.v0=0,this.te=0,this.targetOffset=null,this.modifiedOffset=null,this.currentOffset=null,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=null,this.interaction=void 0,this.interaction=t}var t,n,r;return t=e,(n=[{key:"start",value:function(e){var t=this.interaction,n=hn(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,i=(0,F.default)(r.x,r.y),o=this.modification||(this.modification=new Tt.default(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg={interaction:t,interactable:t.interactable,element:t.element,rect:t.rect,edges:t.edges,pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"},this.t0-t.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=hn(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-i)/r,y:(t.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.timeout=Re.default.request((function(){return e.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.timeout=Re.default.request((function(){return e.smoothEndTick()}))}},{key:"inertiaTick",value:function(){var e,t,n,r,i,o,a,s=this,c=this.interaction,u=hn(c).resistance,l=(c._now()-this.t0)/1e3;if(l<this.te){var h,f=1-(Math.exp(-u*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,t=0,n=this.targetOffset.x,r=this.targetOffset.y,i=this.modifiedOffset.x,o=this.modifiedOffset.y,h={x:fn(a=f,e,n,i),y:fn(a,t,r,o)}):h={x:this.targetOffset.x*f,y:this.targetOffset.y*f};var d={x:h.x-this.currentOffset.x,y:h.y-this.currentOffset.y};this.currentOffset.x+=d.x,this.currentOffset.y+=d.y,c.offsetBy(d),c.move(),this.timeout=Re.default.request((function(){return s.inertiaTick()}))}else c.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=hn(t).smoothEndDuration;if(n<r){var i={x:dn(n,0,this.targetOffset.x,r),y:dn(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.timeout=Re.default.request((function(){return e.smoothEndTick()}))}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),(0,B.copyCoords)(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Re.default.cancel(this.timeout)}}])&&un(t.prototype,n),r&&un(t,r),e}();function hn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}function fn(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function dn(e,t,n,r){return-n*(e/=r)*(e-2)+t}cn.InertiaState=ln;var pn={id:"inertia",before:["modifiers"],install:function(e){var t=e.defaults;e.usePlugin(en.default),e.usePlugin(Lt.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new ln(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var i=n;a.default.element(i);){if(i===t.element){r.resume(e);break}i=S.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Lt.addEventModifiers,"interactions:action-inertiastart":Lt.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};cn.default=pn;var mn={};function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(mn,"__esModule",{value:!0}),mn.Eventable=void 0;var yn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,R.default)({},t||{})}var t,n,r;return t=e,(n=[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&gn(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&gn(e,t)}},{key:"on",value:function(e,t){var n=(0,N.default)(e,t);for(e in n)this.types[e]=K.merge(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=(0,N.default)(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var i=0;i<n[e].length;i++){var o=n[e][i],a=r.indexOf(o);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(e){return null}}])&&vn(t.prototype,n),r&&vn(t,r),e}();mn.Eventable=yn;var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1};var _n={};function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),e}Object.defineProperty(_n,"__esModule",{value:!0}),_n.Interactable=void 0;var Sn=function(){function e(n,r,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new mn.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=r.actions,this.target=n,this._context=r.context||i,this._win=(0,t.getWindow)((0,S.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}return wn(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),wn(e,[{key:"setOnEvents",value:function(e,t){return a.default.func(t.onstart)&&this.on("".concat(e,"start"),t.onstart),a.default.func(t.onmove)&&this.on("".concat(e,"move"),t.onmove),a.default.func(t.onend)&&this.on("".concat(e,"end"),t.onend),a.default.func(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){(a.default.array(t)||a.default.object(t))&&this.off(e,t),(a.default.array(n)||a.default.object(n))&&this.on(e,n)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var i=r,o=this.options[e],s=t[i];"listeners"===i&&this.updatePerActionListeners(e,o.listeners,s),a.default.array(s)?o[i]=K.from(s):a.default.plainObject(s)?(o[i]=(0,R.default)(o[i]||{},(0,At.default)(s)),a.default.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=!1!==s.enabled)):a.default.bool(s)&&a.default.object(n.perAction[i])?o[i].enabled=s:o[i]=s}}},{key:"getRect",value:function(e){return e=e||(a.default.element(this.target)?this.target:null),a.default.string(this.target)&&(e=e||this._context.querySelector(this.target)),(0,S.getElementRect)(e)}},{key:"rectChecker",value:function(e){var t=this;return a.default.func(e)?(this._rectChecker=e,this.getRect=function(e){var n=(0,R.default)({},t._rectChecker(e));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if((0,S.trySelector)(t)||a.default.object(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||(0,S.nodeContains)(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!a.default.element(n)&&(a.default.string(e)?(0,S.matchesUpTo)(n,e,t):!!a.default.element(e)&&(0,S.nodeContains)(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!a.default.element(n))&&(a.default.string(e)?(0,S.matchesUpTo)(n,e,t):!!a.default.element(e)&&(0,S.nodeContains)(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r){a.default.object(t)&&!a.default.array(t)&&(r=n,n=null);var i="on"===e?"add":"remove",o=(0,N.default)(t,n);for(var s in o){"wheel"===s&&(s=_.default.wheelEvent);for(var c=0;c<o[s].length;c++){var u=o[s][c];(0,bn.default)(s,this._actions)?this.events[e](s,u):a.default.string(this.target)?this._scopeEvents["".concat(i,"Delegate")](this.target,this._context,s,u,r):this._scopeEvents[i](this.target,s,u,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff("on",e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff("off",e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in a.default.object(e)||(e={}),this.options=(0,At.default)(t.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,R.default)((0,R.default)({},t.perAction),t.actions[r])),this[i](e[r])}for(var o in e)a.default.func(this[o])&&this[o](e[o]);return this}},{key:"unset",value:function(){if(a.default.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],i=r.selector,o=r.context,s=r.listeners;i===this.target&&o===this._context&&t.splice(n,1);for(var c=s.length-1;c>=0;c--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[c][0],s[c][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}();_n.Interactable=Sn;var An={};function Tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(An,"__esModule",{value:!0}),An.InteractableSet=void 0;var En=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,i=t._context,o=a.default.string(r)?n.selectorMap[r]:r[n.scope.id],s=o.findIndex((function(e){return e.context===i}));o[s]&&(o[s].context=null,o[s].interactable=null),o.splice(s,1)}})}var t,n,r;return t=e,(n=[{key:"new",value:function(e,t){t=(0,R.default)(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),a.default.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(e,t){var n=t&&t.context||this.scope.document,r=a.default.string(e),i=r?this.selectorMap[e]:e[this.scope.id];if(!i)return null;var o=K.find(i,(function(t){return t.context===n&&(r||t.interactable.inContext(e))}));return o&&o.interactable}},{key:"forEachMatch",value:function(e,t){for(var n=0;n<this.list.length;n++){var r=this.list[n],i=void 0;if((a.default.string(r.target)?a.default.element(e)&&S.matchesSelector(e,r.target):e===r.target)&&r.inContext(e)&&(i=t(r)),void 0!==i)return i}}}])&&Tn(t.prototype,n),r&&Tn(t,r),e}();An.InteractableSet=En;var Mn={};function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.default=Mn.FakeEvent=void 0;var kn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.originalEvent=t,(0,j.default)(this,t)}var t,n,r;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Pn(t.prototype,n),r&&Pn(t,r),e}();function Ln(e){if(!a.default.object(e))return{capture:!!e,passive:!1};var t=(0,R.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}Mn.FakeEvent=kn;var On={id:"events",install:function(e){var t=[],n={},r=[],i={add:o,remove:s,addDelegate:function(e,t,i,a,s){var l=Ln(s);if(!n[i]){n[i]=[];for(var h=0;h<r.length;h++){var f=r[h];o(f,i,c),o(f,i,u,!0)}}var d=n[i],p=K.find(d,(function(n){return n.selector===e&&n.context===t}));p||(p={selector:e,context:t,listeners:[]},d.push(p)),p.listeners.push([a,l])},removeDelegate:function(e,t,r,i,o){var a,l=Ln(o),h=n[r],f=!1;if(h)for(a=h.length-1;a>=0;a--){var d=h[a];if(d.selector===e&&d.context===t){for(var p=d.listeners,m=p.length-1;m>=0;m--){var v=Cn(p[m],2),g=v[0],y=v[1],b=y.capture,_=y.passive;if(g===i&&b===l.capture&&_===l.passive){p.splice(m,1),p.length||(h.splice(a,1),s(t,r,c),s(t,r,u,!0)),f=!0;break}}if(f)break}}},delegateListener:c,delegateUseCapture:u,delegatedEvents:n,documents:r,targets:t,supportsOptions:!1,supportsPassive:!1};function o(e,n,r,o){var a=Ln(o),s=K.find(t,(function(t){return t.eventTarget===e}));s||(s={eventTarget:e,events:{}},t.push(s)),s.events[n]||(s.events[n]=[]),e.addEventListener&&!K.contains(s.events[n],r)&&(e.addEventListener(n,r,i.supportsOptions?a:a.capture),s.events[n].push(r))}function s(e,n,r,o){var a=Ln(o),c=K.findIndex(t,(function(t){return t.eventTarget===e})),u=t[c];if(u&&u.events)if("all"!==n){var l=!1,h=u.events[n];if(h){if("all"===r){for(var f=h.length-1;f>=0;f--)s(e,n,h[f],a);return}for(var d=0;d<h.length;d++)if(h[d]===r){e.removeEventListener(n,r,i.supportsOptions?a:a.capture),h.splice(d,1),0===h.length&&(delete u.events[n],l=!0);break}}l&&!Object.keys(u.events).length&&t.splice(c,1)}else for(n in u.events)u.events.hasOwnProperty(n)&&s(e,n,"all")}function c(e,t){for(var r=Ln(t),i=new kn(e),o=n[e.type],s=Cn(B.getEventTargets(e),1)[0],c=s;a.default.element(c);){for(var u=0;u<o.length;u++){var l=o[u],h=l.selector,f=l.context;if(S.matchesSelector(c,h)&&S.nodeContains(f,s)&&S.nodeContains(f,c)){var d=l.listeners;i.currentTarget=c;for(var p=0;p<d.length;p++){var m=Cn(d[p],2),v=m[0],g=m[1],y=g.capture,b=g.passive;y===r.capture&&b===r.passive&&v(i)}}}c=S.parentNode(c)}}function u(e){return c(e,!0)}return e.document.createElement("div").addEventListener("test",null,{get capture(){return i.supportsOptions=!0},get passive(){return i.supportsPassive=!0}}),e.events=i,i}};Mn.default=On;var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.createInteractStatic=function(e){var t=function t(n,r){var i=e.interactables.get(n,r);return i||((i=e.interactables.new(n,r)).events.global=t.globalEvents),i};return t.getPointerAverage=B.pointerAverage,t.getTouchBBox=B.touchBBox,t.getTouchDistance=B.touchDistance,t.getTouchAngle=B.touchAngle,t.getElementRect=S.getElementRect,t.getElementClientRect=S.getElementClientRect,t.matchesSelector=S.matchesSelector,t.closest=S.closest,t.globalEvents={},t.version=void 0,t.scope=e,t.use=function(e,t){return this.scope.usePlugin(e,t),this},t.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},t.on=function(e,t,n){if(a.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),a.default.array(e)){for(var r=0;r<e.length;r++){var i=e[r];this.on(i,t,n)}return this}if(a.default.object(e)){for(var o in e)this.on(o,e[o],t);return this}return(0,bn.default)(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this},t.off=function(e,t,n){if(a.default.string(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),a.default.array(e)){for(var r=0;r<e.length;r++){var i=e[r];this.off(i,t,n)}return this}if(a.default.object(e)){for(var o in e)this.off(o,e[o],t);return this}var s;return(0,bn.default)(e,this.scope.actions)?e in this.globalEvents&&-1!==(s=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(s,1):this.scope.events.remove(this.scope.document,e,t,n),this},t.debug=function(){return this.scope},t.supportsTouch=function(){return _.default.supportsTouch},t.supportsPointerEvent=function(){return _.default.supportsPointerEvent},t.stop=function(){for(var e=0;e<this.scope.interactions.list.length;e++)this.scope.interactions.list[e].stop();return this},t.pointerMoveTolerance=function(e){return a.default.number(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(e,t){this.scope.addDocument(e,t)},t.removeDocument=function(e){this.scope.removeDocument(e)},t};var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var Dn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Dn.methodOrder.length;t++){var n;n=Dn.methodOrder[t];var r=Dn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,i=e.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<i.interactions.list.length;o++){var a=i.interactions.list[o],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;s;){if(s===a.element)return a;s=S.parentNode(s)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<o.interactions.list.length;a++){var s=o.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!Fn(s,n))continue;if(s.interacting())return s;t||(t=s)}}if(t)return t;for(var c=0;c<o.interactions.list.length;c++){var u=o.interactions.list[c];if(!(u.pointerType!==r||/down/i.test(i)&&u.simulation))return u}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(Fn(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function Fn(e,t){return e.pointers.some((function(e){return e.id===t}))}var jn=Dn;Nn.default=jn;var Un={};function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t){return(Wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var i=Yn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var $n=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Zn(e,t){return function(n){var r=t.interactions.list,i=B.getPointerType(n),o=Bn(B.getEventTargets(n),2),a=o[0],s=o[1],c=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var u=0;u<n.changedTouches.length;u++){var l=n.changedTouches[u],h={pointer:l,pointerId:B.getPointerId(l),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:t},f=Jn(h);c.push([h.pointer,h.eventTarget,h.curEventTarget,f])}}else{var d=!1;if(!_.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<r.length&&!d;p++)d="mouse"!==r[p].pointerType&&r[p].pointerIsDown;d=d||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!d){var m={pointer:n,pointerId:B.getPointerId(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:t},v=Jn(m);c.push([m.pointer,m.eventTarget,m.curEventTarget,v])}}for(var g=0;g<c.length;g++){var y=Bn(c[g],4),b=y[0],x=y[1],w=y[2];y[3][e](b,n,x,w)}}}function Jn(e){var t=e.pointerType,n=e.scope,r={interaction:Nn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function Kn(e,t){var n=e.doc,r=e.scope,i=e.options,o=r.interactions.docEvents,a=r.events,s=a[t];for(var c in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,c,a.delegateListener),s(n,c,a.delegateUseCapture,!0);for(var u=i&&i.events,l=0;l<o.length;l++){var h=o[l];s(n,h.type,h.listener,u)}}var Qn={id:"core/interactions",install:function(e){for(var t={},n=0;n<$n.length;n++){var r=$n[n];t[r]=Zn(r,e)}var i,o=_.default.pEventTypes;function a(){for(var t=0;t<e.interactions.list.length;t++){var n=e.interactions.list[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var t=n.pointers[i];e.documents.some((function(e){var n=e.doc;return(0,S.nodeContains)(n,t.downTarget)}))||n.removePointer(t.pointer,t.event)},i=0;i<n.pointers.length;i++)r()}}(i=v.default.PointerEvent?[{type:o.down,listener:a},{type:o.down,listener:t.pointerDown},{type:o.move,listener:t.pointerMove},{type:o.up,listener:t.pointerUp},{type:o.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0;n<e.interactions.list.length;n++)e.interactions.list[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wn(e,t)}(a,t);var n,r,i,o=qn(a);function a(){return Gn(this,a),o.apply(this,arguments)}return n=a,(r=[{key:"_now",value:function(){return e.now()}},{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}}])&&Vn(n.prototype,r),i&&Vn(n,i),a}(Yt.default),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(ut.default)},listeners:{"scope:add-document":function(e){return Kn(e,"add")},"scope:remove-document":function(e){return Kn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var i=t.interactions.list[r];i.interactable===n&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Kn,doOnInteractions:Zn,methodNames:$n};Un.default=Qn;var er={};function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t,n){return(nr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ar(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ar(e);if(t){var i=ar(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return or(this,n)}}function or(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ur(e,t,n){return t&&cr(e.prototype,t),n&&cr(e,n),e}Object.defineProperty(er,"__esModule",{value:!0}),er.initScope=hr,er.Scope=void 0;var lr=function(){function e(){var t=this;sr(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=_.default,this.defaults=(0,At.default)(Nt.defaults),this.Eventable=mn.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,In.createInteractStatic)(this),this.InteractEvent=Dt.InteractEvent,this.Interactable=void 0,this.interactables=new An.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return t.removeDocument(e.target)};var n=this;this.Interactable=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(r,e);var t=ir(r);function r(){return sr(this,r),t.apply(this,arguments)}return ur(r,[{key:"set",value:function(e){return nr(ar(r.prototype),"set",this).call(this,e),n.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){nr(ar(r.prototype),"unset",this).call(this),n.interactables.list.splice(n.interactables.list.indexOf(this),1),n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),r}(_n.Interactable)}return ur(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[e];if(r&&!1===r(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:hr(this,e)}},{key:"pluginIsInstalled",value:function(e){return this._plugins.map[e.id]||-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,i=e.before.reduce((function(e,t){return e[t]=!0,e[fr(t)]=!0,e}),{});n<r;n++){var o=this.listenerMaps[n].id;if(i[o]||i[fr(o)])break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(-1!==this.getDocIndex(e))return!1;var r=t.default.getWindow(e);n=n?(0,R.default)({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),r=t.default.getWindow(e),i=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:i})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function hr(e,n){return e.isInitialized=!0,t.default.init(n),v.default.init(n),_.default.init(n),Re.default.init(n),e.window=n,e.document=n.document,e.usePlugin(Un.default),e.usePlugin(Mn.default),e}function fr(e){return e&&e.replace(/\/.*$/,"")}er.Scope=lr;var dr={};function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(dr,"__esModule",{value:!0}),dr.init=dr.default=void 0;var mr=new er.Scope,vr=mr.interactStatic;dr.default=vr;var gr=function(e){return mr.init(e)};dr.init=gr,"object"===("undefined"==typeof window?"undefined":pr(window))&&window&&gr(window);var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0,yr.default=function(){};var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0,br.default=function(){};var _r={};function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0,_r.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(t){var n=xr(t,2),r=n[0],i=n[1];return r in e||i in e})),n=function(n,r){for(var i=e.range,o=e.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=e.offset,c=void 0===s?{x:0,y:0}:s,u={range:i,grid:e,x:null,y:null},l=0;l<t.length;l++){var h=xr(t[l],2),f=h[0],d=h[1],p=Math.round((n-c.x)/e[f]),m=Math.round((r-c.y)/e[d]);u[f]=Math.max(a.left,Math.min(a.right,p*e[f]+c.x)),u[d]=Math.max(a.top,Math.min(a.bottom,m*e[d]+c.y))}return u};return n.grid=e,n.coordFields=t,n};var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Object.defineProperty(Sr,"edgeTarget",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(Sr,"elements",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(Sr,"grid",{enumerable:!0,get:function(){return _r.default}});var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.default=void 0;var Tr={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,R.default)(t.snappers||{},Sr),t.createSnapGrid=t.snappers.grid}};Ar.default=Tr;var Er={};function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Er,"__esModule",{value:!0}),Er.aspectRatio=Er.default=void 0;var Rr={start:function(e){var t=e.state,n=e.rect,r=e.edges,i=e.pageCoords,o=t.options.ratio,a=t.options,s=a.equalDelta,c=a.modifiers;"preserve"===o&&(o=n.width/n.height),t.startCoords=(0,R.default)({},i),t.startRect=(0,R.default)({},n),t.ratio=o,t.equalDelta=s;var u=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta)t.edgeSign=(u.left?1:-1)*(u.top?1:-1);else{var l=t.xIsPrimaryAxis?u.top:u.left;t.edgeSign=l?-1:1}if((0,R.default)(e.edges,u),c&&c.length){var h=new Tt.default(e.interaction);h.copyFrom(e.interaction.modification),h.prepareStates(c),t.subModification=h,h.startAll(Pr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,i=(0,R.default)({},r),o=t.equalDelta?kr:Lr;if(o(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var a=(0,R.default)({},n);(0,k.addEdges)(t.linkedEdges,a,{x:r.x-i.x,y:r.y-i.y});var s=t.subModification.setAll(Pr(Pr({},e),{},{rect:a,edges:t.linkedEdges,pageCoords:r,prevCoords:r,prevRect:a})),c=s.delta;return s.changed&&(o(t,Math.abs(c.x)>Math.abs(c.y),s.coords,s.rect),(0,R.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function kr(e,t,n){var r=e.startCoords,i=e.edgeSign;t?n.y=r.y+(n.x-r.x)*i:n.x=r.x+(n.y-r.y)*i}function Lr(e,t,n,r){var i=e.startRect,o=e.startCoords,a=e.ratio,s=e.edgeSign;if(t){var c=r.width/a;n.y=o.y+(c-i.height)*s}else{var u=r.height*a;n.x=o.x+(u-i.width)*s}}Er.aspectRatio=Rr;var Or=(0,Lt.makeModifier)(Rr,"aspectRatio");Er.default=Or;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=void 0;var Nr=function(){};Nr._defaults={};var Dr=Nr;Ir.default=Dr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Object.defineProperty(Fr,"default",{enumerable:!0,get:function(){return Ir.default}});var jr={};function Ur(e,t,n){return a.default.func(e)?k.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):k.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(jr,"__esModule",{value:!0}),jr.getRestrictionRect=Ur,jr.restrict=jr.default=void 0;var zr={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,i=e.interaction,o=e.pageCoords,a=r.options,s=a.elementRect,c=(0,R.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(t&&s){var u=Ur(a.restriction,i,o);if(u){var l=u.right-u.left-t.width,h=u.bottom-u.top-t.height;l<0&&(c.left+=l,c.right+=l),h<0&&(c.top+=h,c.bottom+=h)}c.left+=n.left-t.width*s.left,c.top+=n.top-t.height*s.top,c.right+=n.right-t.width*(1-s.right),c.bottom+=n.bottom-t.height*(1-s.bottom)}r.offset=c},set:function(e){var t=e.coords,n=e.interaction,r=e.state,i=r.options,o=r.offset,a=Ur(i.restriction,n,t);if(a){var s=k.xywhToTlbr(a);t.x=Math.max(Math.min(s.right-o.right,t.x),s.left+o.left),t.y=Math.max(Math.min(s.bottom-o.bottom,t.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};jr.restrict=zr;var Br=(0,Lt.makeModifier)(zr,"restrict");jr.default=Br;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.restrictEdges=Hr.default=void 0;var Gr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Vr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Wr(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var i=n[r];i in e||(e[i]=t[i])}return e}var qr={noInner:Gr,noOuter:Vr,start:function(e){var t,n=e.interaction,r=e.startOffset,i=e.state,o=i.options;if(o){var a=(0,jr.getRestrictionRect)(o.offset,n,n.coords.start.page);t=k.rectToXY(a)}t=t||{x:0,y:0},i.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,i=e.state,o=i.offset,a=i.options;if(n){var s=(0,R.default)({},t),c=(0,jr.getRestrictionRect)(a.inner,r,s)||{},u=(0,jr.getRestrictionRect)(a.outer,r,s)||{};Wr(c,Gr),Wr(u,Vr),n.top?t.y=Math.min(Math.max(u.top+o.top,s.y),c.top+o.top):n.bottom&&(t.y=Math.max(Math.min(u.bottom+o.bottom,s.y),c.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(u.left+o.left,s.x),c.left+o.left):n.right&&(t.x=Math.max(Math.min(u.right+o.right,s.x),c.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Hr.restrictEdges=qr;var Xr=(0,Lt.makeModifier)(qr,"restrictEdges");Hr.default=Xr;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.restrictRect=Yr.default=void 0;var $r=(0,R.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},jr.restrict.defaults),Zr={start:jr.restrict.start,set:jr.restrict.set,defaults:$r};Yr.restrictRect=Zr;var Jr=(0,Lt.makeModifier)(Zr,"restrictRect");Yr.default=Jr;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.restrictSize=Kr.default=void 0;var Qr={width:-1/0,height:-1/0},ei={width:1/0,height:1/0},ti={start:function(e){return Hr.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,i=e.edges,o=n.options;if(i){var a=k.tlbrToXywh((0,jr.getRestrictionRect)(o.min,t,e.coords))||Qr,s=k.tlbrToXywh((0,jr.getRestrictionRect)(o.max,t,e.coords))||ei;n.options={endOnly:o.endOnly,inner:(0,R.default)({},Hr.restrictEdges.noInner),outer:(0,R.default)({},Hr.restrictEdges.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),Hr.restrictEdges.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Kr.restrictSize=ti;var ni=(0,Lt.makeModifier)(ti,"restrictSize");Kr.default=ni;var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),Object.defineProperty(ri,"default",{enumerable:!0,get:function(){return Ir.default}});var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.snap=ii.default=void 0;var oi={start:function(e){var t,n=e.interaction,r=e.interactable,i=e.element,o=e.rect,a=e.state,s=e.startOffset,c=a.options,u=c.offsetWithOrigin?function(e){var t=e.interaction.element;return(0,k.rectToXY)((0,k.resolveRectLike)(e.state.options.origin,null,null,[t]))||(0,I.default)(e.interactable,t,e.interaction.prepared.name)}(e):{x:0,y:0};if("startCoords"===c.offset)t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var l=(0,k.resolveRectLike)(c.offset,r,i,[n]);(t=(0,k.rectToXY)(l)||{x:0,y:0}).x+=u.x,t.y+=u.y}var h=c.relativePoints;a.offsets=o&&h&&h.length?h.map((function(e,n){return{index:n,relativePoint:e,x:s.left-o.width*e.x+t.x,y:s.top-o.height*e.y+t.y}})):[(0,R.default)({index:0,relativePoint:null},t)]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,i=r.options,o=r.offsets,s=(0,I.default)(t.interactable,t.element,t.prepared.name),c=(0,R.default)({},n),u=[];i.offsetWithOrigin||(c.x-=s.x,c.y-=s.y);for(var l=0;l<o.length;l++)for(var h=o[l],f=c.x-h.x,d=c.y-h.y,p=0,m=i.targets.length;p<m;p++){var v=i.targets[p],g=void 0;(g=a.default.func(v)?v(f,d,t._proxy,h,p):v)&&u.push({x:(a.default.number(g.x)?g.x:f)+h.x,y:(a.default.number(g.y)?g.y:d)+h.y,range:a.default.number(g.range)?g.range:i.range,source:v,index:p,offset:h})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<u.length;b++){var _=u[b],x=_.range,w=_.x-c.x,S=_.y-c.y,A=(0,F.default)(w,S),T=A<=x;x===1/0&&y.inRange&&y.range!==1/0&&(T=!1),y.target&&!(T?y.inRange&&x!==1/0?A/x<y.distance/y.range:x===1/0&&y.range!==1/0||A<y.distance:!y.inRange&&A<y.distance)||(y.target=_,y.distance=A,y.range=x,y.inRange=T,y.delta.x=w,y.delta.y=S)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};ii.snap=oi;var ai=(0,Lt.makeModifier)(oi,"snap");ii.default=ai;var si={};function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(si,"__esModule",{value:!0}),si.snapSize=si.default=void 0;var li={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],ii.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,r=e.coords,i=n.options,o=n.offsets,s={x:r.x-o[0].x,y:r.y-o[0].y};n.options=(0,R.default)({},i),n.options.targets=[];for(var c=0;c<(i.targets||[]).length;c++){var u=(i.targets||[])[c],l=void 0;if(l=a.default.func(u)?u(s.x,s.y,t):u){for(var h=0;h<n.targetFields.length;h++){var f=ci(n.targetFields[h],2),d=f[0],p=f[1];if(d in l||p in l){l.x=l[d],l.y=l[p];break}}n.options.targets.push(l)}}var m=ii.snap.set(e);return n.options=i,m},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};si.snapSize=li;var hi=(0,Lt.makeModifier)(li,"snapSize");si.default=hi;var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.snapEdges=fi.default=void 0;var di={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],si.snapSize.start(e)):null},set:si.snapSize.set,defaults:(0,R.default)((0,At.default)(si.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};fi.snapEdges=di;var pi=(0,Lt.makeModifier)(di,"snapEdges");fi.default=pi;var mi={};Object.defineProperty(mi,"__esModule",{value:!0}),Object.defineProperty(mi,"default",{enumerable:!0,get:function(){return Ir.default}});var vi={};Object.defineProperty(vi,"__esModule",{value:!0}),Object.defineProperty(vi,"default",{enumerable:!0,get:function(){return Ir.default}});var gi={};Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=void 0;var yi={aspectRatio:Er.default,restrictEdges:Hr.default,restrict:jr.default,restrictRect:Yr.default,restrictSize:Kr.default,snapEdges:fi.default,snap:ii.default,snapSize:si.default,spring:mi.default,avoid:Fr.default,transform:vi.default,rubberband:ri.default};gi.default=yi;var bi={};Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=void 0;var _i={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Lt.default),e.usePlugin(Ar.default),t.modifiers=gi.default,gi.default){var r=gi.default[n],i=r._defaults,o=r._methods;i._methods=o,e.defaults.perAction[n]=i}}};bi.default=_i;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=void 0,xi.default={};var wi={};function Si(e){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ci(e);if(t){var i=Ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Mi(this,n)}}function Mi(e,t){return!t||"object"!==Si(t)&&"function"!=typeof t?Pi(e):t}function Pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(wi,"__esModule",{value:!0}),wi.PointerEvent=wi.default=void 0;var Ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(o,e);var t,n,r,i=Ei(o);function o(e,t,n,r,a,s){var c;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(c=i.call(this,a)).type=void 0,c.originalEvent=void 0,c.pointerId=void 0,c.pointerType=void 0,c.double=void 0,c.pageX=void 0,c.pageY=void 0,c.clientX=void 0,c.clientY=void 0,c.dt=void 0,c.eventable=void 0,B.pointerExtend(Pi(c),n),n!==t&&B.pointerExtend(Pi(c),t),c.timeStamp=s,c.originalEvent=n,c.type=e,c.pointerId=B.getPointerId(t),c.pointerType=B.getPointerType(t),c.target=r,c.currentTarget=null,"tap"===e){var u=a.getPointerIndex(t);c.dt=c.timeStamp-a.pointers[u].downTime;var l=c.timeStamp-a.tapTime;c.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===c.target&&l<500)}else"doubletap"===e&&(c.dt=t.timeStamp-a.tapTime);return c}return t=o,(n=[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Ai(t.prototype,n),r&&Ai(t,r),o}(Y.default);wi.PointerEvent=wi.default=Ri;var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0;var Li={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Li,e.defaults.actions.pointerEvents=Li.defaults,(0,R.default)(e.actions.phaselessTypes,Li.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.duplicate,s=n.getPointerIndex(r);a||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[s].hold.timeout),Oi({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){!function(e,t){for(var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.pointerIndex,s=n.pointers[a].hold,c=S.getPath(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:c,node:null},l=0;l<c.length;l++){var h=c[l];u.node=h,t.fire("pointerEvents:collect-targets",u)}if(u.targets.length){for(var f=1/0,d=0;d<u.targets.length;d++){var p=u.targets[d].eventable.options.holdDuration;p<f&&(f=p)}s.duration=f,s.timeout=setTimeout((function(){Oi({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},t)}),f)}}(e,t),Oi(e,t)},"interactions:up":function(e,t){Ni(e),Oi(e,t),function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.pointerWasMoved||Oi({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},t)}(e,t)},"interactions:cancel":function(e,t){Ni(e),Oi(e,t)}},PointerEvent:wi.PointerEvent,fire:Oi,collectEventTargets:Ii,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Oi(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=e.targets,c=void 0===s?Ii(e,t):s,u=new wi.PointerEvent(a,r,i,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:u});for(var l={interaction:n,pointer:r,event:i,eventTarget:o,targets:c,type:a,pointerEvent:u},h=0;h<c.length;h++){var f=c[h];for(var d in f.props||{})u[d]=f.props[d];var p=(0,I.default)(f.eventable,f.node);if(u._subtractOrigin(p),u.eventable=f.eventable,u.currentTarget=f.node,f.eventable.fire(u),u._addOrigin(p),u.immediatePropagationStopped||u.propagationStopped&&h+1<c.length&&c[h+1].node!==u.currentTarget)break}if(t.fire("pointerEvents:fired",l),"tap"===a){var m=u.double?Oi({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},t):u;n.prevTap=m,n.tapTime=m.timeStamp}return u}function Ii(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,a=e.type,s=n.getPointerIndex(r),c=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!c||c.downTarget!==o))return[];for(var u=S.getPath(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:u,targets:[],node:null},h=0;h<u.length;h++){var f=u[h];l.node=f,t.fire("pointerEvents:collect-targets",l)}return"hold"===a&&(l.targets=l.targets.filter((function(e){return e.eventable.options.holdDuration===n.pointers[s].hold.duration}))),l.targets}function Ni(e){var t=e.interaction,n=e.pointerIndex;t.pointers[n].hold&&clearTimeout(t.pointers[n].hold.timeout)}var Di=Li;ki.default=Di;var Fi={};function ji(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.default=void 0;var Ui={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(ki.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(e,t){return e["pointerEvents:".concat(t)]=ji,e}),{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},t)}),a))}}})};Fi.default=Ui;var zi={};function Bi(e){return(0,R.default)(this.events.options,e),this}Object.defineProperty(zi,"__esModule",{value:!0}),zi.default=void 0;var Hi={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Bi;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(r,(function(e){var t=e.events,a=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:t,props:{interactable:e}})}))},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,R.default)(n.events.options,t.pointerEvents.defaults),(0,R.default)(n.events.options,r.pointerEvents||{})}}};zi.default=Hi;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Object.defineProperty(Gi,"holdRepeat",{enumerable:!0,get:function(){return Fi.default}}),Object.defineProperty(Gi,"interactableTargets",{enumerable:!0,get:function(){return zi.default}}),Gi.pointerEvents=Gi.default=void 0,Gi.pointerEvents=ki;var Vi={id:"pointer-events",install:function(e){e.usePlugin(ki),e.usePlugin(Fi.default),e.usePlugin(zi.default)}};Gi.default=Vi;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.default=void 0,Wi.default={};var qi={};function Xi(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=a.default.string(e.target)?K.from(e._context.querySelectorAll(e.target)):[e.target],i=n.window.Promise,o=i?[]:null,s=function(){var a=r[c],s=e.getRect(a);if(!s)return"break";var u=K.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===e&&n.element===a&&n.prepared.name===t.name})),l=void 0;if(u)u.move(),o&&(l=u._reflowPromise||new i((function(e){u._reflowResolve=e})));else{var h=(0,k.tlbrToXywh)(s),f={page:{x:h.x,y:h.y},client:{x:h.x,y:h.y},timeStamp:n.now()},d=B.coordsToEvent(f);l=function(e,t,n,r,i){var o=e.interactions.new({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prepared=(0,R.default)({},r),o.prevEvent=i,o.updatePointer(i,i,n,!0),o._doPhase(a);var s=e.window.Promise,c=s?new s((function(e){o._reflowResolve=e})):null;return o._reflowPromise=c,o.start(r,t,n),o._interacting?(o.move(a),o.end(i)):o.stop(),o.removePointer(i,i),o.pointerIsDown=!1,c}(n,e,a,t,d)}o&&o.push(l)},c=0;c<r.length;c++)if("break"===s())break;return o&&i.all(o).then((function(){return e}))}(this,t,e)}}Object.defineProperty(qi,"__esModule",{value:!0}),qi.install=Xi,qi.default=void 0;var Yi={id:"reflow",install:Xi,listeners:{"interactions:stop":function(e,t){var n=e.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),K.remove(t.interactions.list,n))}}};qi.default=Yi;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.default=void 0,$i.default={};var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.exchange=void 0,Zi.exchange={};var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.default=void 0,Ji.default={};var Ki={exports:{}};function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Ki.exports,"__esModule",{value:!0}),Ki.exports.default=void 0,dr.default.use(xi.default),dr.default.use(ut.default),dr.default.use(en.default),dr.default.use(ct.default),dr.default.use(Ce.default),dr.default.use(Gi.default),dr.default.use(cn.default),dr.default.use(bi.default),dr.default.use(at.default),dr.default.use(Me.default),dr.default.use(Ne.default),dr.default.use(qi.default),dr.default.use(St.default),dr.default.use(Ji.default),dr.default.use(Wi.default),dr.default.__utils={exchange:Zi.exchange,displace:$i,pointer:B},dr.default.use(mt.default);var eo=dr.default;if(Ki.exports.default=eo,"object"===Qi(Ki)&&Ki)try{Ki.exports=dr.default}catch(e){}dr.default.default=dr.default,Ki=Ki.exports;var to={exports:{}};function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(to.exports,"__esModule",{value:!0}),to.exports.default=void 0;var ro=Ki.default;if(to.exports.default=ro,"object"===no(to)&&to)try{to.exports=Ki.default}catch(e){}return Ki.default.default=Ki.default,to.exports}))},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("df75"),a=n("7418"),s=n("d1e7"),c=n("7b0b"),u=n("44ad"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=a.f,f=s.f;while(i>l){var d,p=u(arguments[l++]),m=h?o(p).concat(h(p)):o(p),v=m.length,g=0;while(v>g)d=m[g++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"67be":function(e,t,n){},"69f3":function(e,t,n){var r,i,o,a=n("7f9a"),s=n("da84"),c=n("861d"),u=n("9112"),l=n("5135"),h=n("f772"),f=n("d012"),d=s.WeakMap,p=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new d,g=v.get,y=v.has,b=v.set;r=function(e,t){return b.call(v,e,t),t},i=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=h("state");f[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),a=n("ce4e"),s=n("8925"),c=n("69f3"),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=h.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},7197:function(e,t,n){},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),a=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),a=n("7839"),s=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),h=">",f="<",d="prototype",p="script",m=l("IE_PROTO"),v=function(){},g=function(e){return f+p+h+e+f+"/"+p+h},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?y(r):b();var e=a.length;while(e--)delete _[d][a[e]];return _()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=i(e),n=new v,v[d]=null,n[m]=e):n=_(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),a=n("d2bb"),s=n("d44e"),c=n("9112"),u=n("6eeb"),l=n("b622"),h=n("c430"),f=n("3f8c"),d=n("ae93"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,n,l,d,x,w){i(n,t,l);var S,A,T,E=function(e){if(e===d&&k)return k;if(!m&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",P=!1,C=e.prototype,R=C[v]||C["@@iterator"]||d&&C[d],k=!m&&R||E(d),L="Array"==t&&C.entries||R;if(L&&(S=o(L.call(new e)),p!==Object.prototype&&S.next&&(h||o(S)===p||(a?a(S,p):"function"!=typeof S[v]&&c(S,v,_)),s(S,M,!0,!0),h&&(f[M]=_))),d==y&&R&&R.name!==y&&(P=!0,k=function(){return R.call(this)}),h&&!w||C[v]===k||c(C,v,k),f[t]=k,d)if(A={values:E(y),keys:x?k:E(g),entries:E(b)},w)for(T in A)(m||P||!(T in C))&&u(C,T,A[T]);else r({target:t,proto:!0,forced:m||P},A);return A}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},"858e":function(e,t,n){"use strict";n("c975");var r,i,o={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var e=this.$el.firstChild,t=this.$el.lastChild;e.scrollLeft=1e5,e.scrollTop=1e5,t.scrollLeft=1e5,t.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(e){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(e){var t="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",n="position: absolute; left: 0; top: 0;";return e("div",{style:t+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[e("div",{style:t,on:{scroll:this.update}},[e("div",{style:n+"width: 100000px; height: 100000px;"})]),e("div",{style:t,on:{scroll:this.update}},[e("div",{style:n+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var e=function(){this.update(),t()}.bind(this),t=function(){this.$el.detachEvent("onresize",e),this.$off("resizeSensorBeforeDestroy",t)}.bind(this);this.$el.attachEvent("onresize",e),this.$on("resizeSensorBeforeDestroy",t),this.reset()}}},a=o,s=(n("c0ef"),n("2877")),c=Object(s["a"])(a,r,i,!1,null,null,null),u=c.exports,l=function(e){var t=e.createLoadingTask,n=e.PDFJSWrapper;return{createLoadingTask:t,render:function(e){return e("span",{attrs:{style:"position: relative; display: block"}},[e("canvas",{attrs:{style:"display: inline-block; width: 100%; height: 100%; vertical-align: top"},ref:"canvas"}),e("span",{style:"display: inline-block; width: 100%; height: 100%",class:"annotationLayer",ref:"annotationLayer"}),e(u,{props:{initial:!0},on:{resize:this.resize}})])},props:{src:{type:[String,Object,Uint8Array],default:""},page:{type:Number,default:1},rotate:{type:Number}},watch:{src:function(){this.pdf.loadDocument(this.src)},page:function(){this.pdf.loadPage(this.page,this.rotate)},rotate:function(){this.pdf.renderPage(this.rotate)}},methods:{resize:function(e){if(null!==this.$el.parentNode&&(0!==e.width||0!==e.height)){this.$refs.canvas.style.height=this.$refs.canvas.offsetWidth*(this.$refs.canvas.height/this.$refs.canvas.width)+"px";var t=this.pdf.getResolutionScale();(t<.85||t>1.15)&&this.pdf.renderPage(this.rotate)}},print:function(e,t){this.pdf.printPage(e,t)}},mounted:function(){this.pdf=new n(this.$refs.canvas,this.$refs.annotationLayer,this.$emit.bind(this)),this.$on("loaded",(function(){this.pdf.loadPage(this.page,this.rotate)})),this.$on("page-size",(function(e,t){this.$refs.canvas.style.height=this.$refs.canvas.offsetWidth*(t/e)+"px"})),this.pdf.loadDocument(this.src)},destroyed:function(){this.pdf.destroy()}}};if("server"!==Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_ENV){var h=n("a068").default,f=n("4383");if("undefined"!==typeof window&&"Worker"in window&&-1===navigator.appVersion.indexOf("MSIE 10")){var d=n("2639");f.GlobalWorkerOptions.workerPort=new d}var p=l(h(f))}else p=l({});var m,v,g=p,y=g,b=(n("f9a3"),Object(s["a"])(y,m,v,!1,null,null,null));t["a"]=b.exports},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+h>=1?f/c:f*Math.pow(2,1-h),t*c>=2&&(a++,c/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*c-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],h=c||l||u;h&&(s=function(e){var t,n,i,s,h=this,f=u&&h.sticky,d=r.call(h),p=h.source,m=0,v=e;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),v=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),n=new RegExp("^(?:"+p+")",d)),l&&(n=new RegExp("^"+p+"$(?!\\s)",d)),c&&(t=h.lastIndex),i=o.call(f?n:h,v),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),l&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),h=n("1dde"),f=n("b622"),d=n("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=d>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=h("concat"),b=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},_=!g||!y;r({target:"Array",proto:!0,forced:_},{concat:function(e){var t,n,r,i,o,a=s(this),h=l(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],b(o)){if(i=c(o.length),f+i>m)throw TypeError(v);for(n=0;n<i;n++,f++)n in o&&u(h,f,o[n])}else{if(f>=m)throw TypeError(v);u(h,f++,o)}return h.length=f,h}})},"9bdd":function(e,t,n){var r=n("825a");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),a=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),a=n("d44e"),s=n("3f8c"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=c,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a068:function(e,t,n){"use strict";n.r(t);var r=n("f8db"),i=Promise.resolve();t["default"]=function(e){function t(e){return"object"===typeof e&&null!==e&&!0===e.__PDFDocumentLoadingTask}function n(t,n){var r;if("string"===typeof t)r={url:t};else if(t instanceof Uint8Array)r={data:t};else{if("object"!==typeof t||null===t)throw new TypeError("invalid src type");r=Object.assign({},t)}var i=e.getDocument(r);return i.__PDFDocumentLoadingTask=!0,n&&n.onPassword&&(i.onPassword=n.onPassword),n&&n.onProgress&&(i.onProgress=n.onProgress),i}function o(o,a,s){var c=null,u=null,l=null,h=!1;function f(){o.getContext("2d").clearRect(0,0,o.width,o.height)}function d(){while(a.firstChild)a.removeChild(a.firstChild)}o.getContext("2d").save(),this.destroy=function(){null!==c&&(i=c.destroy(),c=null)},this.getResolutionScale=function(){return o.offsetWidth/o.width},this.printPage=function(e,t){if(null!==u){var n=void 0===e?150:e,r=n/72,i=96/72,o=document.createElement("iframe");new Promise((function(e,t){o.frameBorder="0",o.scrolling="no",o.width="0px;",o.height="0px;",o.style.cssText="position: absolute; top: 0; left: 0",o.onload=function(){e(this.contentWindow)},window.document.body.appendChild(o)})).then((function(e){return e.document.title="",c.getPage(1).then((function(t){var n=t.getViewport({scale:1});return e.document.head.appendChild(e.document.createElement("style")).textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { margin: 1pt; size: "+n.width*r/i+"pt "+n.height*r/i+"pt; }}@media print {body { margin: 0 }canvas { page-break-before: avoid; page-break-after: always; page-break-inside: avoid }}@media screen {body { margin: 0 }}",e}))})).then((function(e){for(var n=[],i=1;i<=c.numPages;++i)void 0!==t&&-1===t.indexOf(i)||n.push(c.getPage(i).then((function(t){var n=t.getViewport({scale:1}),i=e.document.body.appendChild(e.document.createElement("canvas"));return i.width=n.width*r,i.height=n.height*r,t.render({canvasContext:i.getContext("2d"),transform:[r,0,0,r,0,0],viewport:n,intent:"print"}).promise})));Promise.all(n).then((function(){e.focus(),e.document.queryCommandSupported("print")?e.document.execCommand("print",!1,null):e.print(),a()})).catch((function(e){a(),s("error",e)}))}))}function a(){o.parentNode.removeChild(o)}},this.renderPage=function(t){if(null!==l){if(h)return;return h=!0,void l.cancel()}if(null!==u){var n=(void 0===u.rotate?0:u.rotate)+(void 0===t?0:t),f=o.offsetWidth/u.getViewport({scale:1}).width*(window.devicePixelRatio||1),p=u.getViewport({scale:f,rotation:n});s("page-size",p.width,p.height,f),o.width=p.width,o.height=p.height,l=u.render({canvasContext:o.getContext("2d"),viewport:p}),a.style.visibility="hidden",d();var m={scrollPageIntoView:function(e){s("link-clicked",e.pageNumber)}},v=new r["PDFLinkService"];v.setDocument(c),v.setViewer(m),i=i.then(function(){var n=u.getAnnotations({intent:"display"}).then((function(t){e.AnnotationLayer.render({viewport:p.clone({dontFlip:!0}),div:a,annotations:t,page:u,linkService:v,renderInteractiveForms:!1})})),r=l.promise.then((function(){a.style.visibility="",h=!1,l=null})).catch(function(n){if(l=null,n instanceof e.RenderingCancelledException)return h=!1,void this.renderPage(t);s("error",n)}.bind(this));return Promise.all([n,r])}.bind(this))}},this.forEachPage=function(e){var t=c.numPages;(function n(r){c.getPage(r).then(e).then((function(){++r<=t&&n(r)}))})(1)},this.loadPage=function(e,t){u=null,null!==c&&(i=i.then((function(){return c.getPage(e)})).then(function(e){u=e,this.renderPage(t),s("page-loaded",e.pageNumber)}.bind(this)).catch((function(e){f(),d(),s("error",e)})))},this.loadDocument=function(r){if(c=null,u=null,s("num-pages",void 0),!r)return o.removeAttribute("width"),o.removeAttribute("height"),void d();i=i.then((function(){var i;if(t(r)){if(r.destroyed)return void s("error",new Error("loadingTask has been destroyed"));i=r}else i=n(r,{onPassword:function(t,n){var r;switch(n){case e.PasswordResponses.NEED_PASSWORD:r="NEED_PASSWORD";break;case e.PasswordResponses.INCORRECT_PASSWORD:r="INCORRECT_PASSWORD";break}s("password",t,r)},onProgress:function(e){var t=e.loaded/e.total;s("progress",Math.min(t,1))}});return i.promise})).then((function(e){c=e,s("num-pages",e.numPages),s("loaded")})).catch((function(e){f(),d(),s("error",e)}))},a.style.transformOrigin="0 0"}return{createLoadingTask:n,PDFJSWrapper:o}}},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),a=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),h=n("ae40"),f=l("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!d},{splice:function(e,t){var n,r,l,h,f,d,y=s(this),b=a(y.length),_=i(e,b),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=b-_):(n=x-2,r=m(p(o(t),0),b-_)),b+n-r>v)throw TypeError(g);for(l=c(y,r),h=0;h<r;h++)f=_+h,f in y&&u(l,h,y[f]);if(l.length=r,n<r){for(h=_;h<b-r;h++)f=h+r,d=h+n,f in y?y[d]=y[f]:delete y[d];for(h=b;h>b-r+n;h--)delete y[h-1]}else if(n>r)for(h=b-r;h>_;h--)f=h+r-1,d=h+n-1,f in y?y[d]=y[f]:delete y[d];for(h=0;h<n;h++)y[h+_]=arguments[h+2];return y.length=b-r+n,l}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),a=n("c430"),s=n("83ab"),c=n("4930"),u=n("fdbf"),l=n("d039"),h=n("5135"),f=n("e8b5"),d=n("861d"),p=n("825a"),m=n("7b0b"),v=n("fc6a"),g=n("c04e"),y=n("5c6c"),b=n("7c73"),_=n("df75"),x=n("241c"),w=n("057f"),S=n("7418"),A=n("06cf"),T=n("9bf2"),E=n("d1e7"),M=n("9112"),P=n("6eeb"),C=n("5692"),R=n("f772"),k=n("d012"),L=n("90e3"),O=n("b622"),I=n("e538"),N=n("746f"),D=n("d44e"),F=n("69f3"),j=n("b727").forEach,U=R("hidden"),z="Symbol",B="prototype",H=O("toPrimitive"),G=F.set,V=F.getterFor(z),W=Object[B],q=i.Symbol,X=o("JSON","stringify"),Y=A.f,$=T.f,Z=w.f,J=E.f,K=C("symbols"),Q=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[B]||!re[B].findChild,oe=s&&l((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(W,t);r&&delete W[t],$(e,t,n),r&&e!==W&&$(W,t,r)}:$,ae=function(e,t){var n=K[e]=b(q[B]);return G(n,{type:z,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ce=function(e,t,n){e===W&&ce(Q,t,n),p(e);var r=g(t,!0);return p(n),h(K,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(e,U)||$(e,U,y(1,{})),e[U][r]=!0),oe(e,r,n)):$(e,r,n)},ue=function(e,t){p(e);var n=v(t),r=_(n).concat(pe(n));return j(r,(function(t){s&&!he.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?b(e):ue(b(e),t)},he=function(e){var t=g(e,!0),n=J.call(this,t);return!(this===W&&h(K,t)&&!h(Q,t))&&(!(n||!h(this,t)||!h(K,t)||h(this,U)&&this[U][t])||n)},fe=function(e,t){var n=v(e),r=g(t,!0);if(n!==W||!h(K,r)||h(Q,r)){var i=Y(n,r);return!i||!h(K,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(v(e)),n=[];return j(t,(function(e){h(K,e)||h(k,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Z(t?Q:v(e)),r=[];return j(n,(function(e){!h(K,e)||t&&!h(W,e)||r.push(K[e])})),r};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===W&&n.call(Q,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),oe(this,t,y(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:n}),ae(t,e)},P(q[B],"toString",(function(){return V(this).tag})),P(q,"withoutSetter",(function(e){return ae(L(e),e)})),E.f=he,T.f=ce,A.f=fe,x.f=w.f=de,S.f=pe,I.f=function(e){return ae(O(e),e)},s&&($(q[B],"description",{configurable:!0,get:function(){return V(this).description}}),a||P(W,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),j(_(ne),(function(e){N(e)})),r({target:z,stat:!0,forced:!c},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),X){var me=!c||l((function(){var e=q();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,X.apply(null,i)}})}q[B][H]||M(q[B],H,q[B].valueOf),D(q,z),k[U]=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},a79d:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("fea9"),a=n("d039"),s=n("d066"),c=n("4840"),u=n("cdf9"),l=n("6eeb"),h=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(e){var t=c(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype["finally"]||l(o.prototype,"finally",s("Promise").prototype["finally"])},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,h=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,h)}))}},ae93:function(e,t,n){"use strict";var r,i,o,a=n("e163"),s=n("9112"),c=n("5135"),u=n("b622"),l=n("c430"),h=u("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),l||c(r,h)||s(r,h,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},b575:function(e,t,n){var r,i,o,a,s,c,u,l,h=n("da84"),f=n("06cf").f,d=n("c6b6"),p=n("2cf4").set,m=n("1cdc"),v=h.MutationObserver||h.WebKitMutationObserver,g=h.process,y=h.Promise,b="process"==d(g),_=f(h,"queueMicrotask"),x=_&&_.value;x||(r=function(){var e,t;b&&(e=g.domain)&&e.exit();while(i){t=i.fn,i=i.next;try{t()}catch(n){throw i?a():o=void 0,n}}o=void 0,e&&e.enter()},b?a=function(){g.nextTick(r)}:v&&!m?(s=!0,c=document.createTextNode(""),new v(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){p.call(h,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),a=n("90e3"),s=n("4930"),c=n("fdbf"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,r):"string"===typeof t?p(e,t,n):g(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,n,r){return h(t),t<=0?c(e,t):void 0!==n?"string"===typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function d(e,t){if(h(t),e=c(e,t<0?0:0|y(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(t,n);e=c(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|y(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function v(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=m(e,t),e}function g(e,t){if(u.isBuffer(t)){var n=0|y(t.length);return e=c(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?c(e,0):m(e,t);if("Buffer"===t.type&&o(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),u.alloc(+e)}function _(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(r)return Z(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:A(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):A(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function A(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(e,o+f)!==u(t,f)){h=!1;break}if(h)return o}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function E(e,t,n,r){return ee(Z(t,e.length-n),e,n,r)}function M(e,t,n,r){return ee(J(t),e,n,r)}function P(e,t,n,r){return M(e,t,n,r)}function C(e,t,n,r){return ee(Q(t),e,n,r)}function R(e,t,n,r){return ee(K(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,a,s,c,u=e[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:o=e[i+1],128===(192&o)&&(c=(31&u)<<6|63&o,c>127&&(l=c));break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a,c>2047&&(c<55296||c>57343)&&(l=c));break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(l=c))}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return I(r)}t.Buffer=u,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:a(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return f(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):x.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return M(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function I(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=$(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function H(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function G(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,o){return o||G(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,o){return o||G(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;z(this,e,t,n,i,0)}var o=1,a=0;this[t]=255&e;while(++a<n&&(o*=256))this[t+a]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;z(this,e,t,n,i,0)}var o=n-1,a=1;this[t+o]=255&e;while(--o>=0&&(a*=256))this[t+o]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):H(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);z(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;this[t]=255&e;while(++o<n&&(a*=256))e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);z(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;this[t+o]=255&e;while(--o>=0&&(a*=256))e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):H(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:Z(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var q=/[^+\/0-9A-Za-z-_]/g;function X(e){if(e=Y(e).replace(q,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function Z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length;++a){if((t-=2)<0)break;n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(e){return r.toByteArray(X(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=5==e||h;return function(d,p,m,v){for(var g,y,b=o(d),_=i(b),x=r(p,m,3),w=a(_.length),S=0,A=v||s,T=t?A(d,w):n?A(d,0):void 0;w>S;S++)if((f||S in _)&&(g=_[S],y=x(g,S,b),e))if(t)T[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(T,g)}else if(l)return!1;return h?-1:u||l?l:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c0ef:function(e,t,n){"use strict";var r=n("7197"),i=n.n(r);i.a},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),a=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);while(t.length>c)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2"),a=n("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},cdf9:function(e,t,n){var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),a=n.resolve;return a(t),n.promise}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),a=n("9263"),s=n("9112"),c=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),d=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=o(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!v||"replace"===e&&(!u||!l||f)||"split"===e&&!d){var g=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===a?m&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],_=y[1];r(String.prototype,e,b),r(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}h&&s(RegExp.prototype[p],"sham",!0)}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),a=n("9112"),s=n("b622"),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(m){d[c]=l}if(d[u]||a(d,u,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(m){d[p]=o[p]}}}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),a=n("5135"),s=n("861d"),c=n("9bf2").f,u=n("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(h[t]=!0),t};u(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(h,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),a=n("e177"),s=o("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),a=n("69f3"),s=n("7dd0"),c="Array Iterator",u=a.set,l=a.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e2cc:function(e,t,n){var r=n("6eeb");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},e360:function(e,t,n){(function(t,r){e.exports=r(n("2b0e"))})("undefined"!==typeof self&&self,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="9896")}({"053b":function(e,t,n){var r=n("1e2c"),i=n("d910").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},"064b":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"08ba":function(e,t,n){var r=n("d890"),i=n("064b"),o=n("3c10"),a=n("0fc1");for(var s in i){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(l){u.forEach=o}}},"0a51":function(e,t,n){"use strict";var r=n("1c8b"),i=n("1e2c"),o=n("d890"),a=n("faa8"),s=n("a719"),c=n("d910").f,u=n("c69d"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(h[t]=!0),t};u(f,l);var d=f.prototype=l.prototype;d.constructor=f;var p=d.toString,m="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(h,e))return"";var n=m?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},"0a60":function(e,t){t.f=Object.getOwnPropertySymbols},"0c3c":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"0fc1":function(e,t,n){var r=n("1e2c"),i=n("d910"),o=n("38b9");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},1025:function(e,t,n){var r=n("3a08"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"18f6":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1944:function(e,t,n){var r=n("d890"),i=n("0fc1"),o=n("faa8"),a=n("e4db"),s=n("1025"),c=n("b702"),u=c.get,l=c.enforce,h=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=h.join("string"==typeof t?t:"")),e!==r?(c?!f&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},"19fc":function(e,t,n){"use strict";var r=n("3553"),i=n("e1d6"),o=n("d88d"),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n.length),c=i(e,s),u=i(t,s),l=arguments.length>2?arguments[2]:void 0,h=a((void 0===l?s:i(l,s))-u,s-c),f=1;u<c&&c<u+h&&(f=-1,u+=h-1,c+=h-1);while(h-- >0)u in n?n[c]=n[u]:delete n[c],c+=f,u+=f;return n}},"1b99":function(e,t,n){var r=n("d890");e.exports=r},"1bb1":function(e,t,n){"use strict";var r=n("d890"),i=n("5a9e"),o=n("efe2"),a=r.Int8Array,s=i.aTypedArray,c=i.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,h=!!a&&o((function(){u.call(new a(1))})),f=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));c("toLocaleString",(function(){return u.apply(h?l.call(s(this)):s(this),arguments)}),f)},"1bbd":function(e,t,n){"use strict";var r=n("9f67"),i=n("d910"),o=n("38b9");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},"1c2e":function(e,t,n){"use strict";var r=n("d890"),i=n("1e2c"),o=n("d77f"),a=n("0fc1"),s=n("99ab"),c=n("efe2"),u=n("c4e4"),l=n("3da3"),h=n("d88d"),f=n("3ccd"),d=n("e026"),p=n("908e"),m=n("50fb"),v=n("b338").f,g=n("d910").f,y=n("fa41"),b=n("27b5"),_=n("b702"),x=_.get,w=_.set,S="ArrayBuffer",A="DataView",T="prototype",E="Wrong length",M="Wrong index",P=r[S],C=P,R=r[A],k=R&&R[T],L=Object.prototype,O=r.RangeError,I=d.pack,N=d.unpack,D=function(e){return[255&e]},F=function(e){return[255&e,e>>8&255]},j=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},U=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},z=function(e){return I(e,23,4)},B=function(e){return I(e,52,8)},H=function(e,t){g(e[T],t,{get:function(){return x(this)[t]}})},G=function(e,t,n,r){var i=f(n),o=x(e);if(i+t>o.byteLength)throw O(M);var a=x(o.buffer).bytes,s=i+o.byteOffset,c=a.slice(s,s+t);return r?c:c.reverse()},V=function(e,t,n,r,i,o){var a=f(n),s=x(e);if(a+t>s.byteLength)throw O(M);for(var c=x(s.buffer).bytes,u=a+s.byteOffset,l=r(+i),h=0;h<t;h++)c[u+h]=l[o?h:t-h-1]};if(o){if(!c((function(){P(1)}))||!c((function(){new P(-1)}))||c((function(){return new P,new P(1.5),new P(NaN),P.name!=S}))){C=function(e){return u(this,C),new P(f(e))};for(var W,q=C[T]=P[T],X=v(P),Y=0;X.length>Y;)(W=X[Y++])in C||a(C,W,P[W]);q.constructor=C}m&&p(k)!==L&&m(k,L);var $=new R(new C(2)),Z=k.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(k,{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},{unsafe:!0})}else C=function(e){u(this,C,S);var t=f(e);w(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},R=function(e,t,n){u(this,R,A),u(e,C,A);var r=x(e).byteLength,o=l(t);if(o<0||o>r)throw O("Wrong offset");if(n=void 0===n?r-o:h(n),o+n>r)throw O(E);w(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(H(C,"byteLength"),H(R,"buffer"),H(R,"byteLength"),H(R,"byteOffset")),s(R[T],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return U(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return U(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return N(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return N(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,D,t)},setUint8:function(e,t){V(this,1,e,D,t)},setInt16:function(e,t){V(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,F,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,j,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,B,t,arguments.length>2?arguments[2]:void 0)}});b(C,S),b(R,A),e.exports={ArrayBuffer:C,DataView:R}},"1c2e8":function(e,t,n){"use strict";var r=n("1944"),i=n("857c"),o=n("efe2"),a=n("99ad"),s="toString",c=RegExp.prototype,u=c[s],l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=s;(l||h)&&r(RegExp.prototype,s,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"1c8b":function(e,t,n){var r=n("d890"),i=n("aa6b").f,o=n("0fc1"),a=n("1944"),s=n("e4db"),c=n("c69d"),u=n("e8d6");e.exports=function(e,t){var n,l,h,f,d,p,m=e.target,v=e.global,g=e.stat;if(l=v?r:g?r[m]||s(m,{}):(r[m]||{}).prototype,l)for(h in t){if(d=t[h],e.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=u(v?h:m+(g?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(l,h,d,e)}}},"1ca1":function(e,t,n){var r=n("a719"),i=n("74e7"),o=n("90fb"),a=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"1cc1":function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").find,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"1e2c":function(e,t,n){var r=n("efe2");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"1ea7":function(e,t,n){var r=n("efe2"),i=n("90fb"),o=n("f594"),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2039:function(e,t,n){var r=n("1e2c"),i=n("efe2"),o=n("ae25");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2118:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"22ef":function(e,t,n){"use strict";var r=n("efe2");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"258f":function(e,t,n){var r=n("90fb"),i=n("6d60"),o=n("d910"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},"26a2":function(e,t,n){"use strict";var r=n("1c8b"),i=n("d890"),o=n("1e2c"),a=n("a4c7"),s=n("5a9e"),c=n("1c2e"),u=n("c4e4"),l=n("38b9"),h=n("0fc1"),f=n("d88d"),d=n("3ccd"),p=n("7aeb"),m=n("9f67"),v=n("faa8"),g=n("2a91"),y=n("a719"),b=n("6d60"),_=n("50fb"),x=n("b338").f,w=n("6f82"),S=n("5dfd").forEach,A=n("403f"),T=n("d910"),E=n("aa6b"),M=n("b702"),P=n("7063"),C=M.get,R=M.set,k=T.f,L=E.f,O=Math.round,I=i.RangeError,N=c.ArrayBuffer,D=c.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,U=s.TypedArray,z=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,H=s.isTypedArray,G="BYTES_PER_ELEMENT",V="Wrong length",W=function(e,t){var n=0,r=t.length,i=new(B(e))(r);while(r>n)i[n]=t[n++];return i},q=function(e,t){k(e,t,{get:function(){return C(this)[t]}})},X=function(e){var t;return e instanceof N||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},Y=function(e,t){return H(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return Y(e,t=m(t,!0))?l(2,e[t]):L(e,t)},Z=function(e,t,n){return!(Y(e,t=m(t,!0))&&y(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?k(e,t,n):(e[t]=n.value,e)};o?(F||(E.f=$,T.f=Z,q(z,"buffer"),q(z,"byteOffset"),q(z,"byteLength"),q(z,"length")),r({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:$,defineProperty:Z}),e.exports=function(e,t,n){var o=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",c="get"+e,l="set"+e,m=i[s],v=m,g=v&&v.prototype,T={},E=function(e,t){var n=C(e);return n.view[c](t*o+n.byteOffset,!0)},M=function(e,t,r){var i=C(e);n&&(r=(r=O(r))<0?0:r>255?255:255&r),i.view[l](t*o+i.byteOffset,r,!0)},L=function(e,t){k(e,t,{get:function(){return E(this,t)},set:function(e){return M(this,t,e)},enumerable:!0})};F?a&&(v=t((function(e,t,n,r){return u(e,v,s),P(function(){return y(t)?X(t)?void 0!==r?new m(t,p(n,o),r):void 0!==n?new m(t,p(n,o)):new m(t):H(t)?W(v,t):w.call(v,t):new m(d(t))}(),e,v)})),_&&_(v,U),S(x(m),(function(e){e in v||h(v,e,m[e])})),v.prototype=g):(v=t((function(e,t,n,r){u(e,v,s);var i,a,c,l=0,h=0;if(y(t)){if(!X(t))return H(t)?W(v,t):w.call(v,t);i=t,h=p(n,o);var m=t.byteLength;if(void 0===r){if(m%o)throw I(V);if(a=m-h,a<0)throw I(V)}else if(a=f(r)*o,a+h>m)throw I(V);c=a/o}else c=d(t),a=c*o,i=new N(a);R(e,{buffer:i,byteOffset:h,byteLength:a,length:c,view:new D(i)});while(l<c)L(e,l++)})),_&&_(v,U),g=v.prototype=b(z)),g.constructor!==v&&h(g,"constructor",v),j&&h(g,j,s),T[s]=v,r({global:!0,forced:v!=m,sham:!F},T),G in v||h(v,G,o),G in g||h(g,G,o),A(s)}):e.exports=function(){}},2732:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"27b5":function(e,t,n){var r=n("d910").f,i=n("faa8"),o=n("90fb"),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},2909:function(e,t,n){"use strict";var r=n("5a9e"),i=n("58d8").left,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduce",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},"2a91":function(e,t,n){var r=n("47ae"),i=n("2118"),o=n("90fb"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},"2abc":function(e,t,n){"use strict";var r,i,o,a=n("908e"),s=n("0fc1"),c=n("faa8"),u=n("90fb"),l=n("9b9d"),h=u("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),l||c(r,h)||s(r,h,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},3553:function(e,t,n){var r=n("2732");e.exports=function(e){return Object(r(e))}},3598:function(e,t,n){"use strict";var r=n("5a9e"),i=n("8d7b"),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("lastIndexOf",(function(e){return i.apply(o(this),arguments)}))},"38b9":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"3a08":function(e,t,n){var r=n("d890"),i=n("e4db"),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},"3c10":function(e,t,n){"use strict";var r=n("5dfd").forEach,i=n("d7e1"),o=n("ff9c"),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"3c51":function(e,t,n){"use strict";var r=n("5a9e"),i=n("fa41"),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("fill",(function(e){return i.apply(o(this),arguments)}))},"3ccd":function(e,t,n){var r=n("3da3"),i=n("d88d");e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},"3da3":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"3e54":function(e,t,n){"use strict";var r=n("1c8b"),i=n("efe2"),o=n("1c2e"),a=n("857c"),s=n("e1d6"),c=n("d88d"),u=n("ef4c"),l=o.ArrayBuffer,h=o.DataView,f=l.prototype.slice,d=i((function(){return!new l(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(e,t){if(void 0!==f&&void 0===t)return f.call(a(this),e);var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(u(this,l))(c(i-r)),d=new h(this),p=new h(o),m=0;while(r<i)p.setUint8(m++,d.getUint8(r++));return o}})},"403f":function(e,t,n){"use strict";var r=n("6d7a"),i=n("d910"),o=n("90fb"),a=n("1e2c"),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},4140:function(e,t,n){"use strict";var r=n("5a9e"),i=n("ef4c"),o=n("efe2"),a=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,u=[].slice,l=o((function(){new Int8Array(1).slice()}));c("slice",(function(e,t){var n=u.call(a(this),e,t),r=i(this,this.constructor),o=0,c=n.length,l=new(s(r))(c);while(c>o)l[o]=n[o++];return l}),l)},4350:function(e,t,n){var r=n("90fb");t.f=r},"45af":function(e,t,n){var r=n("da10"),i=n("d88d"),o=n("e1d6"),a=function(e){return function(t,n,a){var s,c=r(t),u=i(c.length),l=o(a,u);if(e&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"47ae":function(e,t,n){var r=n("90fb"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"4fda":function(e,t,n){var r=n("6d7a");e.exports=r("navigator","userAgent")||""},"50fb":function(e,t,n){var r=n("857c"),i=n("d1fd");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},5139:function(e,t,n){"use strict";var r=n("99ad"),i=n("22ef"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],h=c||l||u;h&&(s=function(e){var t,n,i,s,h=this,f=u&&h.sticky,d=r.call(h),p=h.source,m=0,v=e;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),v=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),n=new RegExp("^(?:"+p+")",d)),l&&(n=new RegExp("^"+p+"$(?!\\s)",d)),c&&(t=h.lastIndex),i=o.call(f?n:h,v),f?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),l&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),e.exports=s},"513c":function(e,t,n){"use strict";var r=n("1e2c"),i=n("d890"),o=n("e8d6"),a=n("1944"),s=n("faa8"),c=n("2118"),u=n("7063"),l=n("9f67"),h=n("efe2"),f=n("6d60"),d=n("b338").f,p=n("aa6b").f,m=n("d910").f,v=n("c10f").trim,g="Number",y=i[g],b=y.prototype,_=c(f(b))==g,x=function(e){var t,n,r,i,o,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(u=v(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=u.slice(2),a=o.length,s=0;s<a;s++)if(c=o.charCodeAt(s),c<48||c>i)return NaN;return parseInt(o,r)}return+u};if(o(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(_?h((function(){b.valueOf.call(n)})):c(n)!=g)?u(new y(x(t)),n,S):x(t)},A=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;A.length>T;T++)s(y,w=A[T])&&!s(S,w)&&m(S,w,p(y,w));S.prototype=b,b.constructor=S,a(i,g,S)}},"52f9":function(e,t,n){"use strict";var r=n("47ae"),i=n("2a91");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},"58d8":function(e,t,n){var r=n("0c3c"),i=n("3553"),o=n("692f"),a=n("d88d"),s=function(e){return function(t,n,s,c){r(n);var u=i(t),l=o(u),h=a(u.length),f=e?h-1:0,d=e?-1:1;if(s<2)while(1){if(f in l){c=l[f],f+=d;break}if(f+=d,e?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=d)f in l&&(c=n(c,l[f],f,u));return c}};e.exports={left:s(!1),right:s(!0)}},"5a9e":function(e,t,n){"use strict";var r,i=n("d77f"),o=n("1e2c"),a=n("d890"),s=n("a719"),c=n("faa8"),u=n("2a91"),l=n("0fc1"),h=n("1944"),f=n("d910").f,d=n("908e"),p=n("50fb"),m=n("90fb"),v=n("7e8b"),g=a.Int8Array,y=g&&g.prototype,b=a.Uint8ClampedArray,_=b&&b.prototype,x=g&&d(g),w=y&&d(y),S=Object.prototype,A=S.isPrototypeOf,T=m("toStringTag"),E=v("TYPED_ARRAY_TAG"),M=i&&!!p&&"Opera"!==u(a.opera),P=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(e){var t=u(e);return"DataView"===t||c(C,t)},k=function(e){return s(e)&&c(C,u(e))},L=function(e){if(k(e))return e;throw TypeError("Target is not a typed array")},O=function(e){if(p){if(A.call(x,e))return e}else for(var t in C)if(c(C,r)){var n=a[t];if(n&&(e===n||A.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},I=function(e,t,n){if(o){if(n)for(var r in C){var i=a[r];i&&c(i.prototype,e)&&delete i.prototype[e]}w[e]&&!n||h(w,e,n?t:M&&y[e]||t)}},N=function(e,t,n){var r,i;if(o){if(p){if(n)for(r in C)i=a[r],i&&c(i,e)&&delete i[e];if(x[e]&&!n)return;try{return h(x,e,n?t:M&&g[e]||t)}catch(s){}}for(r in C)i=a[r],!i||i[e]&&!n||h(i,e,t)}};for(r in C)a[r]||(M=!1);if((!M||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},M))for(r in C)a[r]&&p(a[r],x);if((!M||!w||w===S)&&(w=x.prototype,M))for(r in C)a[r]&&p(a[r].prototype,w);if(M&&d(_)!==w&&p(_,w),o&&!c(w,T))for(r in P=!0,f(w,T,{get:function(){return s(this)?this[E]:void 0}}),C)a[r]&&l(a[r],E,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:P&&E,aTypedArray:L,aTypedArrayConstructor:O,exportTypedArrayMethod:I,exportTypedArrayStaticMethod:N,isView:R,isTypedArray:k,TypedArray:x,TypedArrayPrototype:w}},"5dfd":function(e,t,n){var r=n("e349"),i=n("692f"),o=n("3553"),a=n("d88d"),s=n("1ca1"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,h=6==e,f=5==e||h;return function(d,p,m,v){for(var g,y,b=o(d),_=i(b),x=r(p,m,3),w=a(_.length),S=0,A=v||s,T=t?A(d,w):n?A(d,0):void 0;w>S;S++)if((f||S in _)&&(g=_[S],y=x(g,S,b),e))if(t)T[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(T,g)}else if(l)return!1;return h?-1:u||l?l:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},"604f":function(e,t,n){var r=n("d890"),i=n("1025"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},6176:function(e,t,n){var r=n("3da3");e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"692f":function(e,t,n){var r=n("efe2"),i=n("2118"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"69c5":function(e,t,n){var r=n("857c");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw void 0!==o&&r(o.call(e)),a}}},"69fa":function(e,t,n){"use strict";var r=n("2abc").IteratorPrototype,i=n("6d60"),o=n("38b9"),a=n("27b5"),s=n("9806"),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=c,e}},"6d28":function(e,t,n){var r=n("9b9d"),i=n("3a08");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"6d51":function(e,t,n){var r=n("1b99"),i=n("faa8"),o=n("4350"),a=n("d910").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},"6d60":function(e,t,n){var r,i=n("857c"),o=n("dbe8"),a=n("18f6"),s=n("d5a8"),c=n("6fdf"),u=n("ae25"),l=n("7db2"),h=">",f="<",d="prototype",p="script",m=l("IE_PROTO"),v=function(){},g=function(e){return f+p+h+e+f+"/"+p+h},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},_=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}_=r?y(r):b();var e=a.length;while(e--)delete _[d][a[e]];return _()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=i(e),n=new v,v[d]=null,n[m]=e):n=_(),void 0===t?n:o(n,t)}},"6d7a":function(e,t,n){var r=n("1b99"),i=n("d890"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},"6f82":function(e,t,n){var r=n("3553"),i=n("d88d"),o=n("b60f"),a=n("98a9"),s=n("e349"),c=n("5a9e").aTypedArrayConstructor;e.exports=function(e){var t,n,u,l,h,f,d=r(e),p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=o(d);if(void 0!=g&&!a(g)){h=g.call(d),f=h.next,d=[];while(!(l=f.call(h)).done)d.push(l.value)}for(v&&p>2&&(m=s(m,arguments[2],2)),n=i(d.length),u=new(c(this))(n),t=0;n>t;t++)u[t]=v?m(d[t],t):d[t];return u}},"6fdf":function(e,t,n){var r=n("6d7a");e.exports=r("document","documentElement")},7063:function(e,t,n){var r=n("a719"),i=n("50fb");e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},"74cb":function(e,t,n){var r=n("c54b");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"74e7":function(e,t,n){var r=n("2118");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"77ad":function(e,t,n){"use strict";var r=n("1c8b"),i=n("a719"),o=n("74e7"),a=n("e1d6"),s=n("d88d"),c=n("da10"),u=n("1bbd"),l=n("90fb"),h=n("1ea7"),f=n("ff9c"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var n,r,l,h=c(this),f=s(h.length),d=a(e,f),p=a(void 0===t?f:t,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(h,d,p);for(r=new(void 0===n?Array:n)(g(p-d,0)),l=0;d<p;d++,l++)d in h&&u(r,l,h[d]);return r.length=l,r}})},"79e4":function(e,t,n){var r,i,o;(function(n,a){i=[],r=a,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=o.exec(d.stack)||a.exec(d.stack),c=s&&s[1]||!1,u=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var f=0;f<h.length;f++){if("interactive"===h[f].readyState)return h[f];if(h[f].src===c)return h[f];if(c===l&&h[f].innerHTML&&h[f].innerHTML.trim()===i)return h[f]}return null}}return e}))},"7aeb":function(e,t,n){var r=n("6176");e.exports=function(e,t){var n=r(e);if(n%t)throw RangeError("Wrong offset");return n}},"7db2":function(e,t,n){var r=n("6d28"),i=n("7e8b"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},"7e8b":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},"829d":function(e,t,n){"use strict";var r=n("5a9e"),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].sort;o("sort",(function(e){return a.call(i(this),e)}))},"83db":function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").some,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"857c":function(e,t,n){var r=n("a719");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"8bbf":function(t,n){t.exports=e},"8d44":function(e,t,n){var r=n("6d7a"),i=n("b338"),o=n("0a60"),a=n("857c");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},"8d7b":function(e,t,n){"use strict";var r=n("da10"),i=n("3da3"),o=n("d88d"),a=n("d7e1"),s=n("ff9c"),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),d=l||!h||!f;e.exports=d?function(e){if(l)return u.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:u},"908e":function(e,t,n){var r=n("faa8"),i=n("3553"),o=n("7db2"),a=n("eec6"),s=o("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},"90fb":function(e,t,n){var r=n("d890"),i=n("6d28"),o=n("faa8"),a=n("7e8b"),s=n("c54b"),c=n("74cb"),u=i("wks"),l=r.Symbol,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){return o(u,e)||(s&&o(l,e)?u[e]=l[e]:u[e]=h("Symbol."+e)),u[e]}},"927c":function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").every,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},"939f":function(e,t,n){"use strict";var r=n("5a9e"),i=n("d88d"),o=n("e1d6"),a=n("ef4c"),s=r.aTypedArray,c=r.exportTypedArrayMethod;c("subarray",(function(e,t){var n=s(this),r=n.length,c=o(e,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-c))}))},"96db":function(e,t,n){"use strict";var r=n("f62c").charAt,i=n("b702"),o=n("99ee"),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(e){s(this,{type:a,string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},9806:function(e,t){e.exports={}},9896:function(e,t,n){"use strict";if(n.r(t),n.d(t,"install",(function(){return Sy})),n.d(t,"ModelObj",(function(){return Wv})),n.d(t,"ModelFbx",(function(){return zg})),n.d(t,"ModelThree",(function(){return Vg})),n.d(t,"ModelJson",(function(){return _y})),n.d(t,"ModelStl",(function(){return Jg})),n.d(t,"ModelPly",(function(){return iy})),n.d(t,"ModelCollada",(function(){return py})),n.d(t,"ModelDae",(function(){return xy})),n.d(t,"ModelGltf",(function(){return by})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("79e4");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("fe59"),n("053b"),n("08ba");var a=n("8bbf"),s=n.n(a);n("e35a");void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const e=arguments[n];if(void 0!==e&&null!==e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t});const c="118",u={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},l={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},h=0,f=1,d=2,p=1,m=2,v=3,g=0,y=1,b=2,_=1,x=0,w=1,S=2,A=3,T=4,E=5,M=100,P=101,C=102,R=103,k=104,L=200,O=201,I=202,N=203,D=204,F=205,j=206,U=207,z=208,B=209,H=210,G=0,V=1,W=2,q=3,X=4,Y=5,$=6,Z=7,J=0,K=1,Q=2,ee=0,te=1,ne=2,re=3,ie=4,oe=5,ae=300,se=301,ce=302,ue=303,le=304,he=306,fe=307,de=1e3,pe=1001,me=1002,ve=1003,ge=1004,ye=1005,be=1006,_e=1007,xe=1008,we=1009,Se=1010,Ae=1011,Te=1012,Ee=1013,Me=1014,Pe=1015,Ce=1016,Re=1017,ke=1018,Le=1019,Oe=1020,Ie=1021,Ne=1022,De=1023,Fe=1024,je=1025,Ue=De,ze=1026,Be=1027,He=1028,Ge=1029,Ve=1030,We=1031,qe=1032,Xe=1033,Ye=33776,$e=33777,Ze=33778,Je=33779,Ke=35840,Qe=35841,et=35842,tt=35843,nt=36196,rt=37492,it=37496,ot=37808,at=37809,st=37810,ct=37811,ut=37812,lt=37813,ht=37814,ft=37815,dt=37816,pt=37817,mt=37818,vt=37819,gt=37820,yt=37821,bt=36492,_t=37840,xt=37841,wt=37842,St=37843,At=37844,Tt=37845,Et=37846,Mt=37847,Pt=37848,Ct=37849,Rt=37850,kt=37851,Lt=37852,Ot=37853,It=2200,Nt=2201,Dt=2202,Ft=2300,jt=2301,Ut=2302,zt=2400,Bt=2401,Ht=2402,Gt=2500,Vt=2501,Wt=0,qt=1,Xt=2,Yt=3e3,$t=3001,Zt=3007,Jt=3002,Kt=3003,Qt=3004,en=3005,tn=3006,nn=3200,rn=3201,on=0,an=1,sn=7680,cn=519,un=35044,ln=35048;function hn(){}Object.assign(hn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const n=this._listeners,r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e)}}});const fn=[];for(let Ty=0;Ty<256;Ty++)fn[Ty]=(Ty<16?"0":"")+Ty.toString(16);const dn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=fn[255&e]+fn[e>>8&255]+fn[e>>16&255]+fn[e>>24&255]+"-"+fn[255&t]+fn[t>>8&255]+"-"+fn[t>>16&15|64]+fn[t>>24&255]+"-"+fn[63&n|128]+fn[n>>8&255]+"-"+fn[n>>16&255]+fn[n>>24&255]+fn[255&r]+fn[r>>8&255]+fn[r>>16&255]+fn[r>>24&255];return i.toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*dn.DEG2RAD},radToDeg:function(e){return e*dn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),c=a(n/2),u=o((t+r)/2),l=a((t+r)/2),h=o((t-r)/2),f=a((t-r)/2),d=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*l,c*h,c*f,s*u);break;case"YZY":e.set(c*f,s*l,c*h,s*u);break;case"ZXZ":e.set(c*h,c*f,s*l,s*u);break;case"XZX":e.set(s*l,c*p,c*d,s*u);break;case"YXY":e.set(c*d,s*l,c*p,s*u);break;case"ZYZ":e.set(c*p,c*d,s*l,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function pn(e=0,t=0){this.x=e,this.y=t}function mn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}let vn;Object.defineProperties(pn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(pn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(mn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],u=n[4],l=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=o*p+a*g+s*_,i[3]=o*m+a*y+s*x,i[6]=o*v+a*b+s*w,i[1]=c*p+u*g+l*_,i[4]=c*m+u*y+l*x,i[7]=c*v+u*b+l*w,i[2]=h*p+f*g+d*_,i[5]=h*m+f*y+d*x,i[8]=h*v+f*b+d*w,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*i*u+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],h=n[7],f=n[8],d=f*c-u*h,p=u*l-f*s,m=h*s-c*l,v=i*d+o*p+a*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return r[0]=d*g,r[1]=(a*h-f*o)*g,r[2]=(u*o-a*c)*g,r[3]=p*g,r[4]=(f*i-a*l)*g,r[5]=(a*s-u*i)*g,r[6]=m*g,r[7]=(o*l-h*i)*g,r[8]=(c*i-o*s)*g,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){const s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*u,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});const gn={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vn&&(vn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),vn.width=e.width,vn.height=e.height;const n=vn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let yn=0;function bn(e,t,n,r,i,o,a,s,c,u){Object.defineProperty(this,"id",{value:yn++}),this.uuid=dn.generateUUID(),this.name="",this.image=void 0!==e?e:bn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:bn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:pe,this.wrapT=void 0!==r?r:pe,this.magFilter=void 0!==i?i:be,this.minFilter=void 0!==o?o:xe,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:De,this.internalFormat=null,this.type=void 0!==s?s:we,this.offset=new pn(0,0),this.repeat=new pn(1,1),this.center=new pn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:Yt,this.version=0,this.onUpdate=null}function _n(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}function xn(e,t,n){this.width=e,this.height=t,this.scissor=new _n(0,0,e,t),this.scissorTest=!1,this.viewport=new _n(0,0,e,t),n=n||{},this.texture=new bn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:be,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function wn(e,t,n){xn.call(this,e,t,n),this.samples=4}function Sn(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}bn.DEFAULT_IMAGE=void 0,bn.DEFAULT_MAPPING=ae,bn.prototype=Object.assign(Object.create(hn.prototype),{constructor:bn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=dn.generateUUID()),!t&&void 0===e.images[r.uuid]){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)t.push(gn.getDataURL(r[e]))}else t=gn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:t}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==ae)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case de:e.x=e.x-Math.floor(e.x);break;case pe:e.x=e.x<0?0:1;break;case me:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case de:e.y=e.y-Math.floor(e.y);break;case pe:e.y=e.y<0?0:1;break;case me:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(bn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(_n.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(_n.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,c=s[0],u=s[4],l=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-h)<o&&Math.abs(l-p)<o&&Math.abs(d-m)<o){if(Math.abs(u+h)<a&&Math.abs(l+p)<a&&Math.abs(d+m)<a&&Math.abs(c+f+v-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(c+1)/2,s=(f+1)/2,g=(v+1)/2,y=(u+h)/4,b=(l+p)/4,_=(d+m)/4;return e>s&&e>g?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>g?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=_/r):g<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=b/i,r=_/i),this.set(n,r,i,t),this}let g=Math.sqrt((m-d)*(m-d)+(l-p)*(l-p)+(h-u)*(h-u));return Math.abs(g)<.001&&(g=1),this.x=(m-d)/g,this.y=(l-p)/g,this.z=(h-u)/g,this.w=Math.acos((c+f+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),xn.prototype=Object.assign(Object.create(hn.prototype),{constructor:xn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),wn.prototype=Object.assign(Object.create(xn.prototype),{constructor:wn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(Sn,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){let s=n[r+0],c=n[r+1],u=n[r+2],l=n[r+3];const h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==h||c!==f||u!==d){let e=1-a,t=s*h+c*f+u*d+l*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+h*i,c=c*e+f*i,u=u*e+d*i,l=l*e+p*i,e===1-a){const e=1/Math.sqrt(s*s+c*c+u*u+l*l);s*=e,c*=e,u*=e,l*=e}}e[t]=s,e[t+1]=c,e[t+2]=u,e[t+3]=l},multiplyQuaternionsFlat:function(e,t,n,r,i,o){const a=n[r],s=n[r+1],c=n[r+2],u=n[r+3],l=i[o],h=i[o+1],f=i[o+2],d=i[o+3];return e[t]=a*d+u*l+s*f-c*h,e[t+1]=s*d+u*h+c*l-a*f,e[t+2]=c*d+u*f+a*h-s*l,e[t+3]=u*d-a*l-s*h-c*f,e}}),Object.defineProperties(Sn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(Sn.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),u=a(r/2),l=a(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(o){case"XYZ":this._x=h*u*l+c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l-h*f*d;break;case"YXZ":this._x=h*u*l+c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l+h*f*d;break;case"ZXY":this._x=h*u*l-c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l-h*f*d;break;case"ZYX":this._x=h*u*l-c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l+h*f*d;break;case"YZX":this._x=h*u*l+c*f*d,this._y=c*f*l+h*u*d,this._z=c*u*d-h*f*l,this._w=c*u*l-h*f*d;break;case"XZY":this._x=h*u*l-c*f*d,this._y=c*f*l-h*u*d,this._z=c*u*d+h*f*l,this._w=c*u*l+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],c=t[2],u=t[6],l=t[10],h=n+a+l;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(u-s)*e,this._y=(i-c)*e,this._z=(o-r)*e}else if(n>a&&n>l){const e=2*Math.sqrt(1+n-a-l);this._w=(u-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+c)/e}else if(a>l){const e=2*Math.sqrt(1+a-n-l);this._w=(i-c)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+u)/e}else{const e=2*Math.sqrt(1+l-n-a);this._w=(o-r)/e,this._x=(i+c)/e,this._y=(s+u)/e,this._z=.25*e}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){const n=1e-6;let r=e.dot(t)+1;return r<n?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(dn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-i*s,this._y=r*u+o*s+i*a-n*c,this._z=i*u+o*c+n*s-r*a,this._w=o*u-n*a-r*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(s),u=Math.atan2(c,a),l=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*l+this._w*h,this._x=n*l+this._x*h,this._y=r*l+this._y*h,this._z=i*l+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const An=new En,Tn=new Sn;function En(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(En.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Tn.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Tn.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,u=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=c*s+h*-i+u*-a-l*-o,this.y=u*s+h*-o+l*-i-c*-a,this.z=l*s+h*-a+c*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return An.copy(this).projectOnVector(e),this.sub(An)},reflect:function(e){return this.sub(An.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(dn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const Mn=new En,Pn=new In,Cn=new En(0,0,0),Rn=new En(1,1,1),kn=new En,Ln=new En,On=new En;function In(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(In.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,c,u,l,h,f,d,p,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=c,v[6]=u,v[10]=l,v[14]=h,v[3]=f,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new In).fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,r=1/Mn.setFromMatrixColumn(e,0).length(),i=1/Mn.setFromMatrixColumn(e,1).length(),o=1/Mn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),u=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){const e=o*u,n=o*l,r=a*u,i=a*l;t[0]=s*u,t[4]=-s*l,t[8]=c,t[1]=n+r*c,t[5]=e-i*c,t[9]=-a*s,t[2]=i-e*c,t[6]=r+n*c,t[10]=o*s}else if("YXZ"===e.order){const e=s*u,n=s*l,r=c*u,i=c*l;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*c,t[1]=o*l,t[5]=o*u,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*u,n=s*l,r=c*u,i=c*l;t[0]=e-i*a,t[4]=-o*l,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*u,t[9]=i-e*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*u,n=o*l,r=a*u,i=a*l;t[0]=s*u,t[4]=r*c-n,t[8]=e*c+i,t[1]=s*l,t[5]=i*c+e,t[9]=n*c-r,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*c,r=a*s,i=a*c;t[0]=s*u,t[4]=i-e*l,t[8]=r*l+n,t[1]=l,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=n*l+r,t[10]=e-i*l}else if("XZY"===e.order){const e=o*s,n=o*c,r=a*s,i=a*c;t[0]=s*u,t[4]=-l,t[8]=c*u,t[1]=e*l+i,t[5]=o*u,t[9]=n*l-r,t[2]=r*l-n,t[6]=a*u,t[10]=i*l+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Cn,e,Rn)},lookAt:function(e,t,n){const r=this.elements;return On.subVectors(e,t),0===On.lengthSq()&&(On.z=1),On.normalize(),kn.crossVectors(n,On),0===kn.lengthSq()&&(1===Math.abs(n.z)?On.x+=1e-4:On.z+=1e-4,On.normalize(),kn.crossVectors(n,On)),kn.normalize(),Ln.crossVectors(On,kn),r[0]=kn.x,r[4]=Ln.x,r[8]=On.x,r[1]=kn.y,r[5]=Ln.y,r[9]=On.y,r[2]=kn.z,r[6]=Ln.z,r[10]=On.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],l=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],S=r[8],A=r[12],T=r[1],E=r[5],M=r[9],P=r[13],C=r[2],R=r[6],k=r[10],L=r[14],O=r[3],I=r[7],N=r[11],D=r[15];return i[0]=o*x+a*T+s*C+c*O,i[4]=o*w+a*E+s*R+c*I,i[8]=o*S+a*M+s*k+c*N,i[12]=o*A+a*P+s*L+c*D,i[1]=u*x+l*T+h*C+f*O,i[5]=u*w+l*E+h*R+f*I,i[9]=u*S+l*M+h*k+f*N,i[13]=u*A+l*P+h*L+f*D,i[2]=d*x+p*T+m*C+v*O,i[6]=d*w+p*E+m*R+v*I,i[10]=d*S+p*M+m*k+v*N,i[14]=d*A+p*P+m*L+v*D,i[3]=g*x+y*T+b*C+_*O,i[7]=g*w+y*E+b*R+_*I,i[11]=g*S+y*M+b*k+_*N,i[15]=g*A+y*P+b*L+_*D,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],u=e[2],l=e[6],h=e[10],f=e[14],d=e[3],p=e[7],m=e[11],v=e[15];return d*(+i*s*l-r*c*l-i*a*h+n*c*h+r*a*f-n*s*f)+p*(+t*s*f-t*c*h+i*o*h-r*o*f+r*c*u-i*s*u)+m*(+t*c*l-t*a*f-i*o*l+n*o*f+i*a*u-n*c*u)+v*(-r*a*u-t*s*l+t*a*h+r*o*l-n*o*h+n*s*u)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],_=d*y*h-g*p*h+g*l*m-u*y*m-d*l*b+u*p*b,x=v*p*h-f*y*h-v*l*m+c*y*m+f*l*b-c*p*b,w=f*g*h-v*d*h+v*u*m-c*g*m-f*u*b+c*d*b,S=v*d*l-f*g*l-v*u*p+c*g*p+f*u*y-c*d*y,A=i*_+o*x+a*w+s*S;if(0===A)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/A;return n[0]=_*T,n[1]=(g*p*s-d*y*s-g*a*m+o*y*m+d*a*b-o*p*b)*T,n[2]=(u*y*s-g*l*s+g*a*h-o*y*h-u*a*b+o*l*b)*T,n[3]=(d*l*s-u*p*s-d*a*h+o*p*h+u*a*m-o*l*m)*T,n[4]=x*T,n[5]=(f*y*s-v*p*s+v*a*m-i*y*m-f*a*b+i*p*b)*T,n[6]=(v*l*s-c*y*s-v*a*h+i*y*h+c*a*b-i*l*b)*T,n[7]=(c*p*s-f*l*s+f*a*h-i*p*h-c*a*m+i*l*m)*T,n[8]=w*T,n[9]=(v*d*s-f*g*s-v*o*m+i*g*m+f*o*b-i*d*b)*T,n[10]=(c*g*s-v*u*s+v*o*h-i*g*h-c*o*b+i*u*b)*T,n[11]=(f*u*s-c*d*s-f*o*h+i*d*h+c*o*m-i*u*m)*T,n[12]=S*T,n[13]=(f*g*a-v*d*a+v*o*p-i*g*p-f*o*y+i*d*y)*T,n[14]=(v*u*a-c*g*a-v*o*l+i*g*l+c*o*y-i*u*y)*T,n[15]=(c*d*a-f*u*a+f*o*l-i*d*l-c*o*p+i*u*p)*T,this},scale:function(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,u=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+n,u*s-r*o,0,c*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,u=o+o,l=a+a,h=i*c,f=i*u,d=i*l,p=o*u,m=o*l,v=a*l,g=s*c,y=s*u,b=s*l,_=n.x,x=n.y,w=n.z;return r[0]=(1-(p+v))*_,r[1]=(f+b)*_,r[2]=(d-y)*_,r[3]=0,r[4]=(f-b)*x,r[5]=(1-(h+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(d+y)*w,r[9]=(m-g)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){const r=this.elements;let i=Mn.set(r[0],r[1],r[2]).length(),o=Mn.set(r[4],r[5],r[6]).length(),a=Mn.set(r[8],r[9],r[10]).length();const s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Pn.copy(this);const c=1/i,u=1/o,l=1/a;return Pn.elements[0]*=c,Pn.elements[1]*=c,Pn.elements[2]*=c,Pn.elements[4]*=u,Pn.elements[5]*=u,Pn.elements[6]*=u,Pn.elements[8]*=l,Pn.elements[9]*=l,Pn.elements[10]*=l,t.setFromRotationMatrix(Pn),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){const a=this.elements,s=1/(t-e),c=1/(n-r),u=1/(o-i),l=(t+e)*s,h=(n+r)*c,f=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const Nn=new In,Dn=new Sn;function Fn(e=0,t=0,n=0,r=Fn.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}function jn(){this.mask=1}Fn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Fn.DefaultOrder="XYZ",Object.defineProperties(Fn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Fn.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const r=dn.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],l=i[9],h=i[2],f=i[6],d=i[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Nn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Nn,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Dn.setFromEuler(this),this.setFromQuaternion(Dn,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new En(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(jn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});let Un=0;const zn=new En,Bn=new Sn,Hn=new In,Gn=new En,Vn=new En,Wn=new En,qn=new Sn,Xn=new En(1,0,0),Yn=new En(0,1,0),$n=new En(0,0,1),Zn={type:"added"},Jn={type:"removed"};function Kn(){Object.defineProperty(this,"id",{value:Un++}),this.uuid=dn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kn.DefaultUp.clone();const e=new En,t=new Fn,n=new Sn,r=new En(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new In},normalMatrix:{value:new mn}}),this.matrix=new In,this.matrixWorld=new In,this.matrixAutoUpdate=Kn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new jn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Qn(){Kn.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Kn.DefaultUp=new En(0,1,0),Kn.DefaultMatrixAutoUpdate=!0,Kn.prototype=Object.assign(Object.create(hn.prototype),{constructor:Kn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.multiply(Bn),this},rotateOnWorldAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.premultiply(Bn),this},rotateX:function(e){return this.rotateOnAxis(Xn,e)},rotateY:function(e){return this.rotateOnAxis(Yn,e)},rotateZ:function(e){return this.rotateOnAxis($n,e)},translateOnAxis:function(e,t){return zn.copy(e).applyQuaternion(this.quaternion),this.position.add(zn.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Xn,e)},translateY:function(e){return this.translateOnAxis(Yn,e)},translateZ:function(e){return this.translateOnAxis($n,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Hn.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Gn.copy(e):Gn.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Vn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hn.lookAt(Vn,Gn,this.up):Hn.lookAt(Gn,Vn,this.up),this.quaternion.setFromRotationMatrix(Hn),r&&(Hn.extractRotation(r.matrixWorld),Bn.setFromRotationMatrix(Hn),this.quaternion.premultiply(Bn.inverse()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Jn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Hn.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Hn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new En),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Sn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Vn,e,Wn),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new En),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Vn,qn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new En),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}),Qn.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Qn,isScene:!0,copy:function(e,t){return Kn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const er=[new En,new En,new En,new En,new En,new En,new En,new En],tr=new En,nr=new dr,rr=new En,ir=new En,or=new En,ar=new En,sr=new En,cr=new En,ur=new En,lr=new En,hr=new En,fr=new En;function dr(e,t){this.min=void 0!==e?e:new En(1/0,1/0,1/0),this.max=void 0!==t?t:new En(-1/0,-1/0,-1/0)}function pr(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){fr.fromArray(e,o);const a=i.x*Math.abs(fr.x)+i.y*Math.abs(fr.y)+i.z*Math.abs(fr.z),s=t.dot(fr),c=n.dot(fr),u=r.dot(fr);if(Math.max(-Math.max(s,c,u),Math.min(s,c,u))>a)return!1}return!0}Object.assign(dr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,c=e.length;s<c;s+=3){const c=e[s],u=e[s+1],l=e[s+2];c<t&&(t=c),u<n&&(n=u),l<r&&(r=l),c>i&&(i=c),u>o&&(o=u),l>a&&(a=l)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,c=e.count;s<c;s++){const c=e.getX(s),u=e.getY(s),l=e.getZ(s);c<t&&(t=c),u<n&&(n=u),l<r&&(r=l),c>i&&(i=c),u>o&&(o=u),l>a&&(a=l)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=tr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new En),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new En),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),nr.copy(t.boundingBox),nr.applyMatrix4(e.matrixWorld),this.union(nr));const n=e.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new En),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,tr),tr.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ur),lr.subVectors(this.max,ur),rr.subVectors(e.a,ur),ir.subVectors(e.b,ur),or.subVectors(e.c,ur),ar.subVectors(ir,rr),sr.subVectors(or,ir),cr.subVectors(rr,or);let t=[0,-ar.z,ar.y,0,-sr.z,sr.y,0,-cr.z,cr.y,ar.z,0,-ar.x,sr.z,0,-sr.x,cr.z,0,-cr.x,-ar.y,ar.x,0,-sr.y,sr.x,0,-cr.y,cr.x,0];return!!pr(t,rr,ir,or,lr)&&(t=[1,0,0,0,1,0,0,0,1],!!pr(t,rr,ir,or,lr)&&(hr.crossVectors(ar,sr),t=[hr.x,hr.y,hr.z],pr(t,rr,ir,or,lr)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new En),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){const t=tr.copy(e).clamp(this.min,this.max);return t.sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(tr).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(er[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),er[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),er[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),er[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),er[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),er[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),er[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),er[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(er)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const mr=new dr;function vr(e,t){this.center=void 0!==e?e:new En,this.radius=void 0!==t?t:-1}Object.assign(vr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;void 0!==t?n.copy(t):mr.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new En),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new dr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const gr=new En,yr=new En,br=new En,_r=new En,xr=new En,wr=new En,Sr=new En;function Ar(e,t){this.origin=void 0!==e?e:new En,this.direction=void 0!==t?t:new En(0,0,-1)}Object.assign(Ar.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new En),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,gr)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new En),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=gr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(gr.copy(this.direction).multiplyScalar(t).add(this.origin),gr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){yr.copy(e).add(t).multiplyScalar(.5),br.copy(t).sub(e).normalize(),_r.copy(this.origin).sub(yr);const i=.5*e.distanceTo(t),o=-this.direction.dot(br),a=_r.dot(this.direction),s=-_r.dot(br),c=_r.lengthSq(),u=Math.abs(1-o*o);let l,h,f,d;if(u>0)if(l=o*s-a,h=o*a-s,d=i*u,l>=0)if(h>=-d)if(h<=d){const e=1/u;l*=e,h*=e,f=l*(l+o*h+2*a)+h*(o*l+h+2*s)+c}else h=i,l=Math.max(0,-(o*h+a)),f=-l*l+h*(h+2*s)+c;else h=-i,l=Math.max(0,-(o*h+a)),f=-l*l+h*(h+2*s)+c;else h<=-d?(l=Math.max(0,-(-o*i+a)),h=l>0?-i:Math.min(Math.max(-i,-s),i),f=-l*l+h*(h+2*s)+c):h<=d?(l=0,h=Math.min(Math.max(-i,-s),i),f=h*(h+2*s)+c):(l=Math.max(0,-(o*i+a)),h=l>0?i:Math.min(Math.max(-i,-s),i),f=-l*l+h*(h+2*s)+c);else h=o>0?-i:i,l=Math.max(0,-(o*h+a)),f=-l*l+h*(h+2*s)+c;return n&&n.copy(this.direction).multiplyScalar(l).add(this.origin),r&&r.copy(br).multiplyScalar(h).add(yr),f},intersectSphere:function(e,t){gr.subVectors(e.center,this.origin);const n=gr.dot(this.direction),r=gr.dot(gr)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0},intersectBox:function(e,t){let n,r,i,o,a,s;const c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(i=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,gr)},intersectTriangle:function(e,t,n,r,i){xr.subVectors(t,e),wr.subVectors(n,e),Sr.crossVectors(xr,wr);let o,a=this.direction.dot(Sr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}_r.subVectors(this.origin,e);const s=o*this.direction.dot(wr.crossVectors(_r,wr));if(s<0)return null;const c=o*this.direction.dot(xr.cross(_r));if(c<0)return null;if(s+c>a)return null;const u=-o*_r.dot(Sr);return u<0?null:this.at(u/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const Tr=new En,Er=new En,Mr=new mn;function Pr(e,t){this.normal=void 0!==e?e:new En(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Pr.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const r=Tr.subVectors(n,t).cross(Er.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new En),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new En);const n=e.delta(Tr),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new En),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||Mr.getNormalMatrix(e),r=this.coplanarPoint(Tr).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Cr=new En,Rr=new En,kr=new En,Lr=new En,Or=new En,Ir=new En,Nr=new En,Dr=new En,Fr=new En,jr=new En;function Ur(e,t,n){this.a=void 0!==e?e:new En,this.b=void 0!==t?t:new En,this.c=void 0!==n?n:new En}Object.assign(Ur,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new En),r.subVectors(n,t),Cr.subVectors(e,t),r.cross(Cr);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){Cr.subVectors(r,t),Rr.subVectors(n,t),kr.subVectors(e,t);const o=Cr.dot(Cr),a=Cr.dot(Rr),s=Cr.dot(kr),c=Rr.dot(Rr),u=Rr.dot(kr),l=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new En),0===l)return i.set(-2,-1,-1);const h=1/l,f=(c*s-a*u)*h,d=(o*u-a*s)*h;return i.set(1-f-d,d,f)},containsPoint:function(e,t,n,r){return Ur.getBarycoord(e,t,n,r,Lr),Lr.x>=0&&Lr.y>=0&&Lr.x+Lr.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,Lr),s.set(0,0),s.addScaledVector(i,Lr.x),s.addScaledVector(o,Lr.y),s.addScaledVector(a,Lr.z),s},isFrontFacing:function(e,t,n,r){return Cr.subVectors(n,t),Rr.subVectors(e,t),Cr.cross(Rr).dot(r)<0}}),Object.assign(Ur.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Cr.subVectors(this.c,this.b),Rr.subVectors(this.a,this.b),.5*Cr.cross(Rr).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new En),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ur.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Pr),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ur.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Ur.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Ur.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Ur.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new En);const n=this.a,r=this.b,i=this.c;let o,a;Or.subVectors(r,n),Ir.subVectors(i,n),Dr.subVectors(e,n);const s=Or.dot(Dr),c=Ir.dot(Dr);if(s<=0&&c<=0)return t.copy(n);Fr.subVectors(e,r);const u=Or.dot(Fr),l=Ir.dot(Fr);if(u>=0&&l<=u)return t.copy(r);const h=s*l-u*c;if(h<=0&&s>=0&&u<=0)return o=s/(s-u),t.copy(n).addScaledVector(Or,o);jr.subVectors(e,i);const f=Or.dot(jr),d=Ir.dot(jr);if(d>=0&&f<=d)return t.copy(i);const p=f*c-s*d;if(p<=0&&c>=0&&d<=0)return a=c/(c-d),t.copy(n).addScaledVector(Ir,a);const m=u*d-f*l;if(m<=0&&l-u>=0&&f-d>=0)return Nr.subVectors(i,r),a=(l-u)/(l-u+(f-d)),t.copy(r).addScaledVector(Nr,a);const v=1/(m+p+h);return o=p*v,a=h*v,t.copy(n).addScaledVector(Or,o).addScaledVector(Ir,a)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const zr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Br={h:0,s:0,l:0},Hr={h:0,s:0,l:0};function Gr(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Vr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Wr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function qr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Xr(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new En,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Gr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(Gr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=dn.euclideanModulo(e,1),t=dn.clamp(t,0,1),n=dn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Vr(i,r,e+1/3),this.g=Vr(i,r,e),this.b=Vr(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let e;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[5]),this;if(e=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[5]),this;break;case"hsl":case"hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const n=parseFloat(e[1])/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[5]),this.setHSL(n,r,i)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=zr[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Wr(e.r),this.g=Wr(e.g),this.b=Wr(e.b),this},copyLinearToSRGB:function(e){return this.r=qr(e.r),this.g=qr(e.g),this.b=qr(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),o=Math.min(t,n,r);let a,s;const c=(o+i)/2;if(o===i)a=0,s=0;else{const e=i-o;switch(s=c<=.5?e/(i+o):e/(2-i-o),i){case t:a=(n-r)/e+(n<r?6:0);break;case n:a=(r-t)/e+2;break;case r:a=(t-n)/e+4;break}a/=6}return e.h=a,e.s=s,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(Br),Br.h+=e,Br.s+=t,Br.l+=n,this.setHSL(Br.h,Br.s,Br.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Br),e.getHSL(Hr);const n=dn.lerp(Br.h,Hr.h,t),r=dn.lerp(Br.s,Hr.s,t),i=dn.lerp(Br.l,Hr.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),Gr.NAMES=zr,Object.assign(Xr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let Yr=0;function $r(){Object.defineProperty(this,"id",{value:Yr++}),this.uuid=dn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=w,this.side=g,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=F,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=sn,this.stencilZFail=sn,this.stencilZPass=sn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Zr(e){$r.call(this),this.type="MeshBasicMaterial",this.color=new Gr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}$r.prototype=Object.assign(Object.create(hn.prototype),{constructor:$r,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===_;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==g&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty($r.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Zr.prototype=Object.create($r.prototype),Zr.prototype.constructor=Zr,Zr.prototype.isMeshBasicMaterial=!0,Zr.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Jr=new En,Kr=new pn;function Qr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=un,this.updateRange={offset:0,count:-1},this.version=0}function ei(e,t,n){Qr.call(this,new Int8Array(e),t,n)}function ti(e,t,n){Qr.call(this,new Uint8Array(e),t,n)}function ni(e,t,n){Qr.call(this,new Uint8ClampedArray(e),t,n)}function ri(e,t,n){Qr.call(this,new Int16Array(e),t,n)}function ii(e,t,n){Qr.call(this,new Uint16Array(e),t,n)}function oi(e,t,n){Qr.call(this,new Int32Array(e),t,n)}function ai(e,t,n){Qr.call(this,new Uint32Array(e),t,n)}function si(e,t,n){Qr.call(this,new Float32Array(e),t,n)}function ci(e,t,n){Qr.call(this,new Float64Array(e),t,n)}function ui(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function li(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(Qr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new Gr),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new pn),t[n++]=i.x,t[n++]=i.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new En),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new _n),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Kr.fromBufferAttribute(this,t),Kr.applyMatrix3(e),this.setXY(t,Kr.x,Kr.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Jr.fromBufferAttribute(this,t),Jr.applyMatrix3(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Jr.x=this.getX(t),Jr.y=this.getY(t),Jr.z=this.getZ(t),Jr.applyMatrix4(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Jr.x=this.getX(t),Jr.y=this.getY(t),Jr.z=this.getZ(t),Jr.applyNormalMatrix(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Jr.x=this.getX(t),Jr.y=this.getY(t),Jr.z=this.getZ(t),Jr.transformDirection(e),this.setXYZ(t,Jr.x,Jr.y,Jr.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ei.prototype=Object.create(Qr.prototype),ei.prototype.constructor=ei,ti.prototype=Object.create(Qr.prototype),ti.prototype.constructor=ti,ni.prototype=Object.create(Qr.prototype),ni.prototype.constructor=ni,ri.prototype=Object.create(Qr.prototype),ri.prototype.constructor=ri,ii.prototype=Object.create(Qr.prototype),ii.prototype.constructor=ii,oi.prototype=Object.create(Qr.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(Qr.prototype),ai.prototype.constructor=ai,si.prototype=Object.create(Qr.prototype),si.prototype.constructor=si,ci.prototype=Object.create(Qr.prototype),ci.prototype.constructor=ci,Object.assign(ui.prototype,{computeGroups:function(e){const t=[];let n,r,i=void 0;const o=e.faces;for(r=0;r<o.length;r++){const e=o[r];e.materialIndex!==i&&(i=e.materialIndex,void 0!==n&&(n.count=3*r-n.start,t.push(n)),n={start:3*r,materialIndex:i})}void 0!==n&&(n.count=3*r-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=e.morphTargets,s=a.length;let c;if(s>0){c=[];for(let e=0;e<s;e++)c[e]={name:a[e].name,data:[]};this.morphTargets.position=c}const u=e.morphNormals,l=u.length;let h;if(l>0){h=[];for(let e=0;e<l;e++)h[e]={name:u[e].name,data:[]};this.morphTargets.normal=h}const f=e.skinIndices,d=e.skinWeights,p=f.length===n.length,m=d.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let v=0;v<t.length;v++){const e=t[v];this.vertices.push(n[e.a],n[e.b],n[e.c]);const g=e.vertexNormals;if(3===g.length)this.normals.push(g[0],g[1],g[2]);else{const t=e.normal;this.normals.push(t,t,t)}const y=e.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{const t=e.color;this.colors.push(t,t,t)}if(!0===i){const e=r[0][v];void 0!==e?this.uvs.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",v),this.uvs.push(new pn,new pn,new pn))}if(!0===o){const e=r[1][v];void 0!==e?this.uvs2.push(e[0],e[1],e[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",v),this.uvs2.push(new pn,new pn,new pn))}for(let t=0;t<s;t++){const n=a[t].vertices;c[t].data.push(n[e.a],n[e.b],n[e.c])}for(let t=0;t<l;t++){const e=u[t].vertexNormals[v];h[t].data.push(e.a,e.b,e.c)}p&&this.skinIndices.push(f[e.a],f[e.b],f[e.c]),m&&this.skinWeights.push(d[e.a],d[e.b],d[e.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});let hi=1;const fi=new In,di=new Kn,pi=new En,mi=new dr,vi=new dr,gi=new En;function yi(){Object.defineProperty(this,"id",{value:hi+=2}),this.uuid=dn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}yi.prototype=Object.assign(Object.create(hn.prototype),{constructor:yi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(li(e)>65535?ai:ii)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new mn).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return fi.makeRotationX(e),this.applyMatrix4(fi),this},rotateY:function(e){return fi.makeRotationY(e),this.applyMatrix4(fi),this},rotateZ:function(e){return fi.makeRotationZ(e),this.applyMatrix4(fi),this},translate:function(e,t,n){return fi.makeTranslation(e,t,n),this.applyMatrix4(fi),this},scale:function(e,t,n){return fi.makeScale(e,t,n),this.applyMatrix4(fi),this},lookAt:function(e){return di.lookAt(e),di.updateMatrix(),this.applyMatrix4(di.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(pi).negate(),this.translate(pi.x,pi.y,pi.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const e=new si(3*t.vertices.length,3),n=new si(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const e=new si(t.lineDistances.length,1);this.setAttribute("lineDistance",e.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new si(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let e=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(e=void 0,t.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(t);e.verticesNeedUpdate=t.verticesNeedUpdate,e.normalsNeedUpdate=t.normalsNeedUpdate,e.colorsNeedUpdate=t.colorsNeedUpdate,e.uvsNeedUpdate=t.uvsNeedUpdate,e.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=e}if(!0===t.verticesNeedUpdate){const e=this.attributes.position;void 0!==e&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){const e=this.attributes.normal;void 0!==e&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){const e=this.attributes.color;void 0!==e&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const e=this.attributes.uv;void 0!==e&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const e=this.attributes.lineDistance;void 0!==e&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ui).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Qr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const t=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Qr(t,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const t=new Float32Array(3*e.colors.length);this.setAttribute("color",new Qr(t,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const t=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Qr(t,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const t=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Qr(t,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const t=[],r=e.morphTargets[n];for(let e=0,n=r.length;e<n;e++){const n=r[e],i=new si(3*n.data.length,3);i.name=n.name,t.push(i.copyVector3sArray(n.data))}this.morphAttributes[n]=t}if(e.skinIndices.length>0){const t=new si(4*e.skinIndices.length,4);this.setAttribute("skinIndex",t.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const t=new si(4*e.skinWeights.length,4);this.setAttribute("skinWeight",t.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new dr);const e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];mi.setFromBufferAttribute(e),this.morphTargetsRelative?(gi.addVectors(this.boundingBox.min,mi.min),this.boundingBox.expandByPoint(gi),gi.addVectors(this.boundingBox.max,mi.max),this.boundingBox.expandByPoint(gi)):(this.boundingBox.expandByPoint(mi.min),this.boundingBox.expandByPoint(mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(mi.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];vi.setFromBufferAttribute(n),this.morphTargetsRelative?(gi.addVectors(mi.min,vi.min),mi.expandByPoint(gi),gi.addVectors(mi.max,vi.max),mi.expandByPoint(gi)):(mi.expandByPoint(vi.min),mi.expandByPoint(vi.max))}mi.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)gi.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(gi));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)gi.fromBufferAttribute(o,t),a&&(pi.fromBufferAttribute(e,t),gi.add(pi)),r=Math.max(r,n.distanceToSquared(gi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Qr(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new En,i=new En,o=new En,a=new En,s=new En,c=new En,u=new En,l=new En;if(e)for(let h=0,f=e.count;h<f;h+=3){const f=e.getX(h+0),d=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,d),o.fromBufferAttribute(t,p),u.subVectors(o,i),l.subVectors(r,i),u.cross(l),a.fromBufferAttribute(n,f),s.fromBufferAttribute(n,d),c.fromBufferAttribute(n,p),a.add(u),s.add(u),c.add(u),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,c.x,c.y,c.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),u.subVectors(o,i),l.subVectors(r,i),u.cross(l),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const i=n[r],o=i.array,a=e.attributes[r],s=a.array,c=a.itemSize*t,u=Math.min(s.length,o.length-c);for(let e=0,t=c;e<u;e++,t++)o[t]=s[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)gi.fromBufferAttribute(e,t),gi.normalize(),e.setXYZ(t,gi.x,gi.y,gi.z)},toNonIndexed:function(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let c=0,u=t.length;c<u;c++){a=t[c]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Qr(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new yi,n=this.index.array,r=this.attributes;for(const a in r){const i=r[a],o=e(i,n);t.setAttribute(a,o)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=o[t],a=e(i,n);r.push(a)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s],r=t.toJSON(e.data);""!==t.name&&(r.name=t.name),e.data.attributes[s]=r}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r],o=i.toJSON(e.data);""!==i.name&&(o.name=i.name),n.push(o)}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return(new yi).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const e=r[c];this.setAttribute(c,e.clone(t))}const i=e.morphAttributes;for(const c in i){const e=[],n=i[c];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[c]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const e=o[c];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const bi=new In,_i=new Ar,xi=new vr,wi=new En,Si=new En,Ai=new En,Ti=new En,Ei=new En,Mi=new En,Pi=new En,Ci=new En,Ri=new En,ki=new pn,Li=new pn,Oi=new pn,Ii=new En,Ni=new En;function Di(e,t){Kn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new yi,this.material=void 0!==t?t:new Zr,this.updateMorphTargets()}function Fi(e,t,n,r,i,o,a,s){let c;if(c=t.side===y?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==b,s),null===c)return null;Ni.copy(s),Ni.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(Ni);return u<n.near||u>n.far?null:{distance:u,point:Ni.clone(),object:e}}function ji(e,t,n,r,i,o,a,s,c,u,l,h){wi.fromBufferAttribute(i,u),Si.fromBufferAttribute(i,l),Ai.fromBufferAttribute(i,h);const f=e.morphTargetInfluences;if(t.morphTargets&&o&&f){Pi.set(0,0,0),Ci.set(0,0,0),Ri.set(0,0,0);for(let e=0,t=o.length;e<t;e++){const t=f[e],n=o[e];0!==t&&(Ti.fromBufferAttribute(n,u),Ei.fromBufferAttribute(n,l),Mi.fromBufferAttribute(n,h),a?(Pi.addScaledVector(Ti,t),Ci.addScaledVector(Ei,t),Ri.addScaledVector(Mi,t)):(Pi.addScaledVector(Ti.sub(wi),t),Ci.addScaledVector(Ei.sub(Si),t),Ri.addScaledVector(Mi.sub(Ai),t)))}wi.add(Pi),Si.add(Ci),Ai.add(Ri)}e.isSkinnedMesh&&(e.boneTransform(u,wi),e.boneTransform(l,Si),e.boneTransform(h,Ai));const d=Fi(e,t,n,r,wi,Si,Ai,Ii);if(d){s&&(ki.fromBufferAttribute(s,u),Li.fromBufferAttribute(s,l),Oi.fromBufferAttribute(s,h),d.uv=Ur.getUV(Ii,wi,Si,Ai,ki,Li,Oi,new pn)),c&&(ki.fromBufferAttribute(c,u),Li.fromBufferAttribute(c,l),Oi.fromBufferAttribute(c,h),d.uv2=Ur.getUV(Ii,wi,Si,Ai,ki,Li,Oi,new pn));const e=new Xr(u,l,h);Ur.getNormal(wi,Si,Ai,e.normal),d.face=e}return d}Di.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Di,isMesh:!0,copy:function(e){return Kn.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),xi.copy(n.boundingSphere),xi.applyMatrix4(i),!1===e.ray.intersectsSphere(xi))return;if(bi.getInverse(i),_i.copy(e.ray).applyMatrix4(bi),null!==n.boundingBox&&!1===_i.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,a=n.attributes.position,s=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,l=n.attributes.uv2,h=n.groups,f=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,d=h.length;n<d;n++){const d=h[n],p=r[d.materialIndex],m=Math.max(d.start,f.start),v=Math.min(d.start+d.count,f.start+f.count);for(let n=m,r=v;n<r;n+=3){const r=i.getX(n),h=i.getX(n+1),f=i.getX(n+2);o=ji(this,p,e,_i,a,s,c,u,l,r,h,f),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=d.materialIndex,t.push(o))}}else{const n=Math.max(0,f.start),h=Math.min(i.count,f.start+f.count);for(let f=n,d=h;f<d;f+=3){const n=i.getX(f),h=i.getX(f+1),d=i.getX(f+2);o=ji(this,r,e,_i,a,s,c,u,l,n,h,d),o&&(o.faceIndex=Math.floor(f/3),t.push(o))}}else if(void 0!==a)if(Array.isArray(r))for(let n=0,d=h.length;n<d;n++){const i=h[n],d=r[i.materialIndex],p=Math.max(i.start,f.start),m=Math.min(i.start+i.count,f.start+f.count);for(let n=p,r=m;n<r;n+=3){const r=n,h=n+1,f=n+2;o=ji(this,d,e,_i,a,s,c,u,l,r,h,f),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,t.push(o))}}else{const n=Math.max(0,f.start),i=Math.min(a.count,f.start+f.count);for(let h=n,f=i;h<f;h+=3){const n=h,i=h+1,f=h+2;o=ji(this,r,e,_i,a,s,c,u,l,n,i,f),o&&(o.faceIndex=Math.floor(h/3),t.push(o))}}}else if(n.isGeometry){const i=Array.isArray(r),a=n.vertices,s=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let n=0,l=s.length;n<l;n++){const u=s[n],l=i?r[u.materialIndex]:r;if(void 0===l)continue;const h=a[u.a],f=a[u.b],d=a[u.c];if(o=Fi(this,l,e,_i,h,f,d,Ii),o){if(c&&c[n]){const e=c[n];ki.copy(e[0]),Li.copy(e[1]),Oi.copy(e[2]),o.uv=Ur.getUV(Ii,h,f,d,ki,Li,Oi,new pn)}o.face=u,o.faceIndex=n,t.push(o)}}}}});let Ui=0;const zi=new In,Bi=new Kn,Hi=new En;function Gi(){Object.defineProperty(this,"id",{value:Ui+=2}),this.uuid=dn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Gi.prototype=Object.assign(Object.create(hn.prototype),{constructor:Gi,isGeometry:!0,applyMatrix4:function(e){const t=(new mn).getNormalMatrix(e);for(let n=0,r=this.vertices.length;n<r;n++){const t=this.vertices[n];t.applyMatrix4(e)}for(let n=0,r=this.faces.length;n<r;n++){const e=this.faces[n];e.normal.applyMatrix3(t).normalize();for(let n=0,r=e.vertexNormals.length;n<r;n++)e.vertexNormals[n].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return zi.makeRotationX(e),this.applyMatrix4(zi),this},rotateY:function(e){return zi.makeRotationY(e),this.applyMatrix4(zi),this},rotateZ:function(e){return zi.makeRotationZ(e),this.applyMatrix4(zi),this},translate:function(e,t,n){return zi.makeTranslation(e,t,n),this.applyMatrix4(zi),this},scale:function(e,t,n){return zi.makeScale(e,t,n),this.applyMatrix4(zi),this},lookAt:function(e){return Bi.lookAt(e),Bi.updateMatrix(),this.applyMatrix4(Bi.matrix),this},fromBufferGeometry:function(e){const t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const i=r.position,o=r.normal,a=r.color,s=r.uv,c=r.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let h=0;h<i.count;h++)t.vertices.push((new En).fromBufferAttribute(i,h)),void 0!==a&&t.colors.push((new Gr).fromBufferAttribute(a,h));function u(e,n,r,i){const u=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],l=void 0===o?[]:[(new En).fromBufferAttribute(o,e),(new En).fromBufferAttribute(o,n),(new En).fromBufferAttribute(o,r)],h=new Xr(e,n,r,l,u,i);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new pn).fromBufferAttribute(s,e),(new pn).fromBufferAttribute(s,n),(new pn).fromBufferAttribute(s,r)]),void 0!==c&&t.faceVertexUvs[1].push([(new pn).fromBufferAttribute(c,e),(new pn).fromBufferAttribute(c,n),(new pn).fromBufferAttribute(c,r)])}const l=e.groups;if(l.length>0)for(let h=0;h<l.length;h++){const e=l[h],t=e.start,r=e.count;for(let i=t,o=t+r;i<o;i+=3)void 0!==n?u(n.getX(i),n.getX(i+1),n.getX(i+2),e.materialIndex):u(i,i+1,i+2,e.materialIndex)}else if(void 0!==n)for(let h=0;h<n.count;h+=3)u(n.getX(h),n.getX(h+1),n.getX(h+2));else for(let h=0;h<i.count;h+=3)u(h,h+1,h+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hi).negate(),this.translate(Hi.x,Hi.y,Hi.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new In;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){const e=new En,t=new En;for(let n=0,r=this.faces.length;n<r;n++){const r=this.faces[n],i=this.vertices[r.a],o=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,o),t.subVectors(i,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,r=this.vertices.length;n<r;n++)t[n]=new En;if(e){const e=new En,n=new En;for(let r=0,i=this.faces.length;r<i;r++){const i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),n.subVectors(o,a),e.cross(n),t[i.a].add(e),t[i.b].add(e),t[i.c].add(e)}}else{this.computeFaceNormals();for(let e=0,n=this.faces.length;e<n;e++){const n=this.faces[e];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let n=0,r=this.vertices.length;n<r;n++)t[n].normalize();for(let n=0,r=this.faces.length;n<r;n++){const e=this.faces[n],r=e.vertexNormals;3===r.length?(r[0].copy(t[e.a]),r[1].copy(t[e.b]),r[2].copy(t[e.c])):(r[0]=t[e.a].clone(),r[1]=t[e.b].clone(),r[2]=t[e.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],n=t.vertexNormals;3===n.length?(n[0].copy(t.normal),n[1].copy(t.normal),n[2].copy(t.normal)):(n[0]=t.normal.clone(),n[1]=t.normal.clone(),n[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const e=this.faces[t];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(let t=0,n=e.vertexNormals.length;t<n;t++)e.__originalVertexNormals[t]?e.__originalVertexNormals[t].copy(e.vertexNormals[t]):e.__originalVertexNormals[t]=e.vertexNormals[t].clone()}const e=new Gi;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const e=this.morphNormals[t].faceNormals,n=this.morphNormals[t].vertexNormals;for(let t=0,r=this.faces.length;t<r;t++){const t=new En,r={a:new En,b:new En,c:new En};e.push(t),n.push(r)}}const n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],r=n.faceNormals[e],i=n.vertexNormals[e];r.copy(t.normal),i.a.copy(t.vertexNormals[0]),i.b.copy(t.vertexNormals[1]),i.c.copy(t.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const e=this.faces[t];e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new dr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,u=this.colors,l=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new mn).getNormalMatrix(t));for(let h=0,f=a.length;h<f;h++){const e=a[h],n=e.clone();void 0!==t&&n.applyMatrix4(t),o.push(n)}for(let h=0,f=l.length;h<f;h++)u.push(l[h].clone());for(let h=0,f=c.length;h<f;h++){let e,t,o,a=c[h],u=a.vertexNormals,l=a.vertexColors;e=new Xr(a.a+i,a.b+i,a.c+i),e.normal.copy(a.normal),void 0!==r&&e.normal.applyMatrix3(r).normalize();for(let n=0,i=u.length;n<i;n++)t=u[n].clone(),void 0!==r&&t.applyMatrix3(r).normalize(),e.vertexNormals.push(t);e.color.copy(a.color);for(let n=0,r=l.length;n<r;n++)o=l[n],e.vertexColors.push(o.clone());e.materialIndex=a.materialIndex+n,s.push(e)}for(let h=0,f=e.faceVertexUvs.length;h<f;h++){const t=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let e=0,n=t.length;e<n;e++){const n=t[e],r=[];for(let e=0,t=n.length;e<t;e++)r.push(n[e].clone());this.faceVertexUvs[h].push(r)}}},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){const e={},t=[],n=[],r=4,i=Math.pow(10,r);for(let s=0,c=this.vertices.length;s<c;s++){const r=this.vertices[s],o=Math.round(r.x*i)+"_"+Math.round(r.y*i)+"_"+Math.round(r.z*i);void 0===e[o]?(e[o]=s,t.push(this.vertices[s]),n[s]=t.length-1):n[s]=n[e[o]]}const o=[];for(let s=0,c=this.faces.length;s<c;s++){const e=this.faces[s];e.a=n[e.a],e.b=n[e.b],e.c=n[e.c];const t=[e.a,e.b,e.c];for(let n=0;n<3;n++)if(t[n]===t[(n+1)%3]){o.push(s);break}}for(let s=o.length-1;s>=0;s--){const e=o[s];this.faces.splice(e,1);for(let t=0,n=this.faceVertexUvs.length;t<n;t++)this.faceVertexUvs[t].splice(e,1)}const a=this.vertices.length-t.length;return this.vertices=t,a},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];this.vertices.push(new En(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let s=0;s<t;s++)e[s]._id=s;function n(e,t){return e.materialIndex-t.materialIndex}e.sort(n);const r=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let o,a;r&&r.length===t&&(o=[]),i&&i.length===t&&(a=[]);for(let s=0;s<t;s++){const t=e[s]._id;o&&o.push(r[t]),a&&a.push(i[t])}o&&(this.faceVertexUvs[0]=o),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}const t=[];for(let d=0;d<this.vertices.length;d++){const e=this.vertices[d];t.push(e.x,e.y,e.z)}const n=[],r=[],i={},o=[],a={},s=[],c={};for(let d=0;d<this.faces.length;d++){const e=this.faces[d],t=!0,r=!1,i=void 0!==this.faceVertexUvs[0][d],o=e.normal.length()>0,a=e.vertexNormals.length>0,s=1!==e.color.r||1!==e.color.g||1!==e.color.b,c=e.vertexColors.length>0;let p=0;if(p=u(p,0,0),p=u(p,1,t),p=u(p,2,r),p=u(p,3,i),p=u(p,4,o),p=u(p,5,a),p=u(p,6,s),p=u(p,7,c),n.push(p),n.push(e.a,e.b,e.c),n.push(e.materialIndex),i){const e=this.faceVertexUvs[0][d];n.push(f(e[0]),f(e[1]),f(e[2]))}if(o&&n.push(l(e.normal)),a){const t=e.vertexNormals;n.push(l(t[0]),l(t[1]),l(t[2]))}if(s&&n.push(h(e.color)),c){const t=e.vertexColors;n.push(h(t[0]),h(t[1]),h(t[2]))}}function u(e,t,n){return n?e|1<<t:e&~(1<<t)}function l(e){const t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==i[t]||(i[t]=r.length/3,r.push(e.x,e.y,e.z)),i[t]}function h(e){const t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==a[t]||(a[t]=o.length,o.push(e.getHex())),a[t]}function f(e){const t=e.x.toString()+e.y.toString();return void 0!==c[t]||(c[t]=s.length/2,s.push(e.x,e.y)),c[t]}return e.data={},e.data.vertices=t,e.data.normals=r,o.length>0&&(e.data.colors=o),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e},clone:function(){return(new Gi).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let h=0,f=t.length;h<f;h++)this.vertices.push(t[h].clone());const n=e.colors;for(let h=0,f=n.length;h<f;h++)this.colors.push(n[h].clone());const r=e.faces;for(let h=0,f=r.length;h<f;h++)this.faces.push(r[h].clone());for(let h=0,f=e.faceVertexUvs.length;h<f;h++){const t=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(let e=0,n=t.length;e<n;e++){const n=t[e],r=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];r.push(t.clone())}this.faceVertexUvs[h].push(r)}}const i=e.morphTargets;for(let h=0,f=i.length;h<f;h++){const e={};if(e.name=i[h].name,void 0!==i[h].vertices){e.vertices=[];for(let t=0,n=i[h].vertices.length;t<n;t++)e.vertices.push(i[h].vertices[t].clone())}if(void 0!==i[h].normals){e.normals=[];for(let t=0,n=i[h].normals.length;t<n;t++)e.normals.push(i[h].normals[t].clone())}this.morphTargets.push(e)}const o=e.morphNormals;for(let h=0,f=o.length;h<f;h++){const e={};if(void 0!==o[h].vertexNormals){e.vertexNormals=[];for(let t=0,n=o[h].vertexNormals.length;t<n;t++){const n=o[h].vertexNormals[t],r={};r.a=n.a.clone(),r.b=n.b.clone(),r.c=n.c.clone(),e.vertexNormals.push(r)}}if(void 0!==o[h].faceNormals){e.faceNormals=[];for(let t=0,n=o[h].faceNormals.length;t<n;t++)e.faceNormals.push(o[h].faceNormals[t].clone())}this.morphNormals.push(e)}const a=e.skinWeights;for(let h=0,f=a.length;h<f;h++)this.skinWeights.push(a[h].clone());const s=e.skinIndices;for(let h=0,f=s.length;h<f;h++)this.skinIndices.push(s[h].clone());const c=e.lineDistances;for(let h=0,f=c.length;h<f;h++)this.lineDistances.push(c[h]);const u=e.boundingBox;null!==u&&(this.boundingBox=u.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Vi extends Gi{constructor(e,t,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Wi(e,t,n,r,i,o)),this.mergeVertices()}}class Wi extends yi{constructor(e,t,n,r,i,o){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;const s=[],c=[],u=[],l=[];let h=0,f=0;function d(e,t,n,r,i,o,d,p,m,v,g){const y=o/m,b=d/v,_=o/2,x=d/2,w=p/2,S=m+1,A=v+1;let T=0,E=0;const M=new En;for(let a=0;a<A;a++){const o=a*b-x;for(let s=0;s<S;s++){const h=s*y-_;M[e]=h*r,M[t]=o*i,M[n]=w,c.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,u.push(M.x,M.y,M.z),l.push(s/m),l.push(1-a/v),T+=1}}for(let a=0;a<v;a++)for(let e=0;e<m;e++){const t=h+e+S*a,n=h+e+S*(a+1),r=h+(e+1)+S*(a+1),i=h+(e+1)+S*a;s.push(t,n,i),s.push(n,r,i),E+=6}a.addGroup(f,E,g),f+=E,h+=T}d("z","y","x",-1,-1,n,t,e,o,i,0),d("z","y","x",1,-1,n,t,-e,o,i,1),d("x","z","y",1,1,e,n,t,r,o,2),d("x","z","y",1,-1,e,n,-t,r,o,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new si(c,3)),this.setAttribute("normal",new si(u,3)),this.setAttribute("uv",new si(l,2))}}function qi(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Xi(e){const t={};for(let n=0;n<e.length;n++){const r=qi(e[n]);for(const e in r)t[e]=r[e]}return t}const Yi={clone:qi,merge:Xi};var $i="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Zi="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Ji(e){$r.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=$i,this.fragmentShader=Zi,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ki(){Kn.call(this),this.type="Camera",this.matrixWorldInverse=new In,this.projectionMatrix=new In,this.projectionMatrixInverse=new In}function Qi(e,t,n,r){Ki.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Ji.prototype=Object.create($r.prototype),Ji.prototype.constructor=Ji,Ji.prototype.isShaderMaterial=!0,Ji.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this},Ji.prototype.toJSON=function(e){const t=$r.prototype.toJSON.call(this,e);t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},Ki.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Ki,isCamera:!0,copy:function(e,t){return Kn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new En),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Kn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Kn.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Qi.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Qi,isPerspectiveCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*dn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*dn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*dn.RAD2DEG*Math.atan(Math.tan(.5*dn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(.5*dn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const eo=90,to=1;function no(e,t,n){if(Kn.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Qi(eo,to,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new En(1,0,0)),this.add(r);const i=new Qi(eo,to,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new En(-1,0,0)),this.add(i);const o=new Qi(eo,to,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new En(0,1,0)),this.add(o);const a=new Qi(eo,to,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new En(0,-1,0)),this.add(a);const s=new Qi(eo,to,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new En(0,0,1)),this.add(s);const c=new Qi(eo,to,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new En(0,0,-1)),this.add(c),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();const u=e.xr.enabled,l=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(l),e.xr.enabled=u},this.clear=function(e,t,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(n,a),e.clear(t,r,i);e.setRenderTarget(o)}}function ro(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),xn.call(this,e,e,t)}function io(e,t,n,r,i,o,a,s,c,u,l,h){bn.call(this,null,o,a,s,c,u,r,i,l,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==c?c:ve,this.minFilter=void 0!==u?u:ve,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}no.prototype=Object.create(Kn.prototype),no.prototype.constructor=no,ro.prototype=Object.create(xn.prototype),ro.prototype.constructor=ro,ro.prototype.isWebGLCubeRenderTarget=!0,ro.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new Qn,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV = equirectUv( direction );","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new Ji({name:"CubemapFromEquirect",uniforms:qi(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:y,blending:x});i.uniforms.tEquirect.value=t;const o=new Di(new Wi(5,5,5),i);n.add(o);const a=new no(1,10,this);return a.update(e,n),o.geometry.dispose(),o.material.dispose(),this},io.prototype=Object.create(bn.prototype),io.prototype.constructor=io,io.prototype.isDataTexture=!0;const oo=new vr,ao=new En;function so(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Pr,void 0!==t?t:new Pr,void 0!==n?n:new Pr,void 0!==r?r:new Pr,void 0!==i?i:new Pr,void 0!==o?o:new Pr]}Object.assign(so.prototype,{set:function(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,l-s,p-h,y-m).normalize(),t[1].setComponents(a+r,l+s,p+h,y+m).normalize(),t[2].setComponents(a+i,l+c,p+f,y+v).normalize(),t[3].setComponents(a-i,l-c,p-f,y-v).normalize(),t[4].setComponents(a-o,l-u,p-d,y-g).normalize(),t[5].setComponents(a+o,l+u,p+d,y+g).normalize(),this},intersectsObject:function(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),oo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(oo)},intersectsSprite:function(e){return oo.center.set(0,0,0),oo.radius=.7071067811865476,oo.applyMatrix4(e.matrixWorld),this.intersectsSphere(oo)},intersectsSphere:function(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){const e=t[i].distanceToPoint(n);if(e<r)return!1}return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(ao.x=r.normal.x>0?e.max.x:e.min.x,ao.y=r.normal.y>0?e.max.y:e.min.y,ao.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ao)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const co={common:{diffuse:{value:new Gr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new mn},uv2Transform:{value:new mn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new pn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Gr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new mn}},sprite:{diffuse:{value:new Gr(15658734)},opacity:{value:1},center:{value:new pn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new mn}}};function uo(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function lo(e,t){const n=t.isWebGL2,r=new WeakMap;function i(t,n){const r=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}function o(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}function a(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)}function s(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))}function c(e,t){e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);void 0===n?r.set(e,i(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}return{get:a,remove:s,update:c}}function ho(e,t,n,r){Gi.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new fo(e,t,n,r)),this.mergeVertices()}function fo(e,t,n,r){yi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},e=e||1,t=t||1;const i=e/2,o=t/2,a=Math.floor(n)||1,s=Math.floor(r)||1,c=a+1,u=s+1,l=e/a,h=t/s,f=[],d=[],p=[],m=[];for(let v=0;v<u;v++){const e=v*h-o;for(let t=0;t<c;t++){const n=t*l-i;d.push(n,-e,0),p.push(0,0,1),m.push(t/a),m.push(1-v/s)}}for(let v=0;v<s;v++)for(let e=0;e<a;e++){const t=e+c*v,n=e+c*(v+1),r=e+1+c*(v+1),i=e+1+c*v;f.push(t,n,i),f.push(n,r,i)}this.setIndex(f),this.setAttribute("position",new si(d,3)),this.setAttribute("normal",new si(p,3)),this.setAttribute("uv",new si(m,2))}ho.prototype=Object.create(Gi.prototype),ho.prototype.constructor=ho,fo.prototype=Object.create(yi.prototype),fo.prototype.constructor=fo;var po="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",mo="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",vo="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",go="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",yo="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",bo="vec3 transformed = vec3( position );",_o="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",xo="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",wo="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",So="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",Ao="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",To="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",Eo="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",Mo="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Po="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Co="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Ro="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",ko="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",Lo="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",Oo="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Io="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",No="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",Do="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Fo="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",jo="gl_FragColor = linearToOutputTexel( gl_FragColor );",Uo="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",zo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Bo="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",Ho="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Go="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Vo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Wo="#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",qo="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",Xo="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",Yo="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",$o="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",Zo="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",Jo="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ko="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Qo="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",ea="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",ta="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",na="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",ra="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",ia="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",oa="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",aa="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",sa="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",ca="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",ua="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",la="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",ha="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",fa="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",da="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",pa="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",ma="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",va="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",ga="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",ya="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",ba="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",_a="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",xa="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",wa="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",Sa="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",Aa="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",Ta="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",Ea="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",Ma="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",Pa="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",Ca="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Ra="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",ka="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",La="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Oa="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Ia="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Na="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Da="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Fa="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",ja="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",Ua="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",za="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Ba="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",Ha="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Ga="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Va="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Wa="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",qa="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Xa="#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",Ya="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",$a="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Za="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Ja="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ka="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",Qa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",es="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",ts="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ns="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",rs="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",is="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",os="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",as="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",ss="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",cs="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",us="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ls="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",hs="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",fs="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",ds="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ps="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",ms="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vs="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gs="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ys="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",bs="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",_s="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",xs="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ws="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ss="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",As="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ts="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",Es="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Ms="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Ps="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Cs="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Rs="#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",ks="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Ls="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";const Os={alphamap_fragment:po,alphamap_pars_fragment:mo,alphatest_fragment:vo,aomap_fragment:go,aomap_pars_fragment:yo,begin_vertex:bo,beginnormal_vertex:_o,bsdfs:xo,bumpmap_pars_fragment:wo,clipping_planes_fragment:So,clipping_planes_pars_fragment:Ao,clipping_planes_pars_vertex:To,clipping_planes_vertex:Eo,color_fragment:Mo,color_pars_fragment:Po,color_pars_vertex:Co,color_vertex:Ro,common:ko,cube_uv_reflection_fragment:Lo,defaultnormal_vertex:Oo,displacementmap_pars_vertex:Io,displacementmap_vertex:No,emissivemap_fragment:Do,emissivemap_pars_fragment:Fo,encodings_fragment:jo,encodings_pars_fragment:Uo,envmap_fragment:zo,envmap_common_pars_fragment:Bo,envmap_pars_fragment:Ho,envmap_pars_vertex:Go,envmap_physical_pars_fragment:ea,envmap_vertex:Vo,fog_vertex:Wo,fog_pars_vertex:qo,fog_fragment:Xo,fog_pars_fragment:Yo,gradientmap_pars_fragment:$o,lightmap_fragment:Zo,lightmap_pars_fragment:Jo,lights_lambert_vertex:Ko,lights_pars_begin:Qo,lights_toon_fragment:ta,lights_toon_pars_fragment:na,lights_phong_fragment:ra,lights_phong_pars_fragment:ia,lights_physical_fragment:oa,lights_physical_pars_fragment:aa,lights_fragment_begin:sa,lights_fragment_maps:ca,lights_fragment_end:ua,logdepthbuf_fragment:la,logdepthbuf_pars_fragment:ha,logdepthbuf_pars_vertex:fa,logdepthbuf_vertex:da,map_fragment:pa,map_pars_fragment:ma,map_particle_fragment:va,map_particle_pars_fragment:ga,metalnessmap_fragment:ya,metalnessmap_pars_fragment:ba,morphnormal_vertex:_a,morphtarget_pars_vertex:xa,morphtarget_vertex:wa,normal_fragment_begin:Sa,normal_fragment_maps:Aa,normalmap_pars_fragment:Ta,clearcoat_normal_fragment_begin:Ea,clearcoat_normal_fragment_maps:Ma,clearcoat_pars_fragment:Pa,packing:Ca,premultiplied_alpha_fragment:Ra,project_vertex:ka,dithering_fragment:La,dithering_pars_fragment:Oa,roughnessmap_fragment:Ia,roughnessmap_pars_fragment:Na,shadowmap_pars_fragment:Da,shadowmap_pars_vertex:Fa,shadowmap_vertex:ja,shadowmask_pars_fragment:Ua,skinbase_vertex:za,skinning_pars_vertex:Ba,skinning_vertex:Ha,skinnormal_vertex:Ga,specularmap_fragment:Va,specularmap_pars_fragment:Wa,tonemapping_fragment:qa,tonemapping_pars_fragment:Xa,uv_pars_fragment:Ya,uv_pars_vertex:$a,uv_vertex:Za,uv2_pars_fragment:Ja,uv2_pars_vertex:Ka,uv2_vertex:Qa,worldpos_vertex:es,background_frag:ts,background_vert:ns,cube_frag:rs,cube_vert:is,depth_frag:os,depth_vert:as,distanceRGBA_frag:ss,distanceRGBA_vert:cs,equirect_frag:us,equirect_vert:ls,linedashed_frag:hs,linedashed_vert:fs,meshbasic_frag:ds,meshbasic_vert:ps,meshlambert_frag:ms,meshlambert_vert:vs,meshmatcap_frag:gs,meshmatcap_vert:ys,meshtoon_frag:bs,meshtoon_vert:_s,meshphong_frag:xs,meshphong_vert:ws,meshphysical_frag:Ss,meshphysical_vert:As,normal_frag:Ts,normal_vert:Es,points_frag:Ms,points_vert:Ps,shadow_frag:Cs,shadow_vert:Rs,sprite_frag:ks,sprite_vert:Ls},Is={basic:{uniforms:Xi([co.common,co.specularmap,co.envmap,co.aomap,co.lightmap,co.fog]),vertexShader:Os.meshbasic_vert,fragmentShader:Os.meshbasic_frag},lambert:{uniforms:Xi([co.common,co.specularmap,co.envmap,co.aomap,co.lightmap,co.emissivemap,co.fog,co.lights,{emissive:{value:new Gr(0)}}]),vertexShader:Os.meshlambert_vert,fragmentShader:Os.meshlambert_frag},phong:{uniforms:Xi([co.common,co.specularmap,co.envmap,co.aomap,co.lightmap,co.emissivemap,co.bumpmap,co.normalmap,co.displacementmap,co.fog,co.lights,{emissive:{value:new Gr(0)},specular:{value:new Gr(1118481)},shininess:{value:30}}]),vertexShader:Os.meshphong_vert,fragmentShader:Os.meshphong_frag},standard:{uniforms:Xi([co.common,co.envmap,co.aomap,co.lightmap,co.emissivemap,co.bumpmap,co.normalmap,co.displacementmap,co.roughnessmap,co.metalnessmap,co.fog,co.lights,{emissive:{value:new Gr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Os.meshphysical_vert,fragmentShader:Os.meshphysical_frag},toon:{uniforms:Xi([co.common,co.aomap,co.lightmap,co.emissivemap,co.bumpmap,co.normalmap,co.displacementmap,co.gradientmap,co.fog,co.lights,{emissive:{value:new Gr(0)}}]),vertexShader:Os.meshtoon_vert,fragmentShader:Os.meshtoon_frag},matcap:{uniforms:Xi([co.common,co.bumpmap,co.normalmap,co.displacementmap,co.fog,{matcap:{value:null}}]),vertexShader:Os.meshmatcap_vert,fragmentShader:Os.meshmatcap_frag},points:{uniforms:Xi([co.points,co.fog]),vertexShader:Os.points_vert,fragmentShader:Os.points_frag},dashed:{uniforms:Xi([co.common,co.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Os.linedashed_vert,fragmentShader:Os.linedashed_frag},depth:{uniforms:Xi([co.common,co.displacementmap]),vertexShader:Os.depth_vert,fragmentShader:Os.depth_frag},normal:{uniforms:Xi([co.common,co.bumpmap,co.normalmap,co.displacementmap,{opacity:{value:1}}]),vertexShader:Os.normal_vert,fragmentShader:Os.normal_frag},sprite:{uniforms:Xi([co.sprite,co.fog]),vertexShader:Os.sprite_vert,fragmentShader:Os.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null}},vertexShader:Os.background_vert,fragmentShader:Os.background_frag},cube:{uniforms:Xi([co.envmap,{opacity:{value:1}}]),vertexShader:Os.cube_vert,fragmentShader:Os.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Os.equirect_vert,fragmentShader:Os.equirect_frag},distanceRGBA:{uniforms:Xi([co.common,co.displacementmap,{referencePosition:{value:new En},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Os.distanceRGBA_vert,fragmentShader:Os.distanceRGBA_frag},shadow:{uniforms:Xi([co.lights,co.fog,{color:{value:new Gr(0)},opacity:{value:1}}]),vertexShader:Os.shadow_vert,fragmentShader:Os.shadow_frag}};function Ns(e,t,n,r){const i=new Gr(0);let o,a,s=0,c=null,u=0,l=null;function h(t,r,h,d){let p=!0===r.isScene?r.background:null;const m=e.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(p=null),null===p?f(i,s):p&&p.isColor&&(f(p,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||p.mapping===he)){void 0===a&&(a=new Di(new Wi(1,1,1),new Ji({name:"BackgroundCubeMaterial",uniforms:qi(Is.cube.uniforms),vertexShader:Is.cube.vertexShader,fragmentShader:Is.cube.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a));const r=p.isWebGLCubeRenderTarget?p.texture:p;a.material.uniforms.envMap.value=r,a.material.uniforms.flipEnvMap.value=r.isCubeTexture?-1:1,c===p&&u===r.version&&l===e.toneMapping||(a.material.needsUpdate=!0,c=p,u=r.version,l=e.toneMapping),t.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(void 0===o&&(o=new Di(new fo(2,2),new Ji({name:"BackgroundMaterial",uniforms:qi(Is.background.uniforms),vertexShader:Is.background.vertexShader,fragmentShader:Is.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&u===p.version&&l===e.toneMapping||(o.material.needsUpdate=!0,c=p,u=p.version,l=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null))}function f(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return i},setClearColor:function(e,t){i.set(e),s=void 0!==t?t:1,f(i,s)},getClearAlpha:function(){return s},setClearAlpha:function(e){s=e,f(i,s)},render:h}}function Ds(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},c=m(null);let u=c;function l(t,r,i,o,s){let c=!1;if(a){const e=p(o,i,r);u!==e&&(u=e,f(u.object)),c=v(o),c&&g(o)}else{const e=!0===r.wireframe;u.geometry===o.id&&u.program===i.id&&u.wireframe===e||(u.geometry=o.id,u.program=i.id,u.wireframe=e,c=!0)}!0===t.isInstancedMesh&&(c=!0),null!==s&&n.update(s,34963),c&&(S(t,r,i,o),null!==s&&e.bindBuffer(34963,n.get(s).buffer))}function h(){return r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e,t,n){const r=!0===n.wireframe;let i=s[e.id];void 0===i&&(i={},s[e.id]=i);let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let a=o[r];return void 0===a&&(a=m(h()),o[r]=a),a}function m(e){const t=[],n=[],r=[];for(let o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{}}}function v(e){const t=u.attributes,n=e.attributes;if(Object.keys(t).length!==Object.keys(n).length)return!0;for(const r in n){const e=t[r],i=n[r];if(e.attribute!==i)return!0;if(e.data!==i.data)return!0}return!1}function g(e){const t={},n=e.attributes;for(const r in n){const e=n[r],i={};i.attribute=e,e.data&&(i.data=e.data),t[r]=i}u.attributes=t}function y(){const e=u.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function b(e){_(e,0)}function _(n,i){const o=u.newAttributes,a=u.enabledAttributes,s=u.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){const o=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function x(){const t=u.newAttributes,n=u.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function w(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,o,a,s)}function S(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;y();const c=s.attributes,u=a.getAttributes(),l=o.defaultAttributeValues;for(const t in u){const r=u[t];if(r>=0){const o=c[t];if(void 0!==o){const t=o.normalized,i=o.itemSize,a=n.get(o);if(void 0===a)continue;const c=a.buffer,u=a.type,l=a.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,a=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(_(r,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):b(r),e.bindBuffer(34962,c),w(r,i,u,t,a*l,h*l)}else o.isInstancedBufferAttribute?(_(r,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):b(r),e.bindBuffer(34962,c),w(r,i,u,t,0,0)}else if("instanceMatrix"===t){const t=n.get(i.instanceMatrix);if(void 0===t)continue;const o=t.buffer,a=t.type;_(r+0,1),_(r+1,1),_(r+2,1),_(r+3,1),e.bindBuffer(34962,o),e.vertexAttribPointer(r+0,4,a,!1,64,0),e.vertexAttribPointer(r+1,4,a,!1,64,16),e.vertexAttribPointer(r+2,4,a,!1,64,32),e.vertexAttribPointer(r+3,4,a,!1,64,48)}else if(void 0!==l){const n=l[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r,n);break;case 3:e.vertexAttrib3fv(r,n);break;case 4:e.vertexAttrib4fv(r,n);break;default:e.vertexAttrib1fv(r,n)}}}}x()}function A(){M();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e]}}function T(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)d(e[t].object),delete e[t];delete t[n]}delete s[e.id]}function E(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)d(r[e].object),delete r[e];delete n[e.id]}}function M(){P(),u!==c&&(u=c,f(u.object))}function P(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:l,reset:M,resetDefaultState:P,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:E,initAttributes:y,enableAttribute:b,disableUnusedAttributes:x}}function Fs(e,t,n,r){const i=r.isWebGL2;let o;function a(e){o=e}function s(t,r){e.drawArrays(o,t,r),n.update(r,o)}function c(r,a,s,c){if(0===c)return;let u,l;if(i)u=e,l="drawArraysInstanced";else if(u=t.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](o,a,s,c),n.update(s,o,c)}this.setMode=a,this.render=s,this.renderInstances=c}function js(e,t,n){let r;function i(){if(void 0!==r)return r;const n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,r}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const c=o(s);c!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",c,"instead."),s=c);const u=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),h=e.getParameter(35660),f=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=h>0,b=a||!!t.get("OES_texture_float"),_=y&&b,x=a?e.getParameter(36183):0;return{isWebGL2:a,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:_,maxSamples:x}}function Us(){const e=this;let t=null,n=0,r=!1,i=!1;const o=new Pr,a=new mn,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,n,r,i){let c=null!==t?t.length:0,u=null;if(0!==c){if(u=s.value,!0!==i||null===u){const e=r+4*c,i=n.matrixWorldInverse;a.getNormalMatrix(i),(null===u||u.length<e)&&(u=new Float32Array(e));for(let n=0,s=r;n!==c;++n,s+=4)o.copy(t[n]).applyMatrix4(i,a),o.normal.toArray(u,s),u[s+3]=o.constant}s.value=u,s.needsUpdate=!0}return e.numPlanes=c,e.numIntersection=0,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){const a=0!==e.length||i||0!==n||r;return r=i,t=u(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,l,h,f){if(!r||null===e||0===e.length||i&&!a)i?u(null):c();else{const r=i?0:n,a=4*r;let c=h.clippingState||null;s.value=c,c=u(e,l,a,f);for(let e=0;e!==a;++e)c[e]=t[e];h.clippingState=c,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=r}}}function zs(e){const t={};return{get:function(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Bs(e,t,n,r){const i=new WeakMap,o=new WeakMap;function a(e){const s=e.target,c=i.get(s);null!==c.index&&t.remove(c.index);for(const n in c.attributes)t.remove(c.attributes[n]);s.removeEventListener("dispose",a),i.delete(s);const u=o.get(c);u&&(t.remove(u),o.delete(c)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e,t){let r=i.get(t);return r||(t.addEventListener("dispose",a),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new yi).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)}function c(e){const n=e.attributes;for(const i in n)t.update(n[i],34962);const r=e.morphAttributes;for(const i in r){const e=r[i];for(let n=0,r=e.length;n<r;n++)t.update(e[n],34962)}}function u(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(li(n)>65535?ai:ii)(n,1);s.version=a;const c=o.get(e);c&&t.remove(c),o.set(e,s)}function l(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&u(e)}else u(e);return o.get(e)}return{get:s,update:c,getWireframeAttribute:l}}function Hs(e,t,n,r){const i=r.isWebGL2;let o,a,s;function c(e){o=e}function u(e){a=e.type,s=e.bytesPerElement}function l(t,r){e.drawElements(o,r,a,t*s),n.update(r,o)}function h(r,c,u,l){if(0===l)return;let h,f;if(i)h=e,f="drawElementsInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](o,u,a,c*s,l),n.update(u,o,l)}this.setMode=c,this.setIndex=u,this.render=l,this.renderInstances=h}function Gs(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(e,t,r){switch(r=r||1,n.calls++,t){case 4:n.triangles+=r*(e/3);break;case 1:n.lines+=r*(e/2);break;case 3:n.lines+=r*(e-1);break;case 2:n.lines+=r*e;break;case 0:n.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Vs(e,t){return e[0]-t[0]}function Ws(e,t){return Math.abs(t[1])-Math.abs(e[1])}function qs(e){const t={},n=new Float32Array(8),r=[];for(let o=0;o<8;o++)r[o]=[o,0];function i(i,o,a,s){const c=i.morphTargetInfluences,u=void 0===c?0:c.length;let l=t[o.id];if(void 0===l){l=[];for(let e=0;e<u;e++)l[e]=[e,0];t[o.id]=l}for(let e=0;e<u;e++){const t=l[e];t[0]=e,t[1]=c[e]}l.sort(Ws);for(let e=0;e<8;e++)e<u&&l[e][1]?(r[e][0]=l[e][0],r[e][1]=l[e][1]):(r[e][0]=Number.MAX_SAFE_INTEGER,r[e][1]=0);r.sort(Vs);const h=a.morphTargets&&o.morphAttributes.position,f=a.morphNormals&&o.morphAttributes.normal;let d=0;for(let e=0;e<8;e++){const t=r[e],i=t[0],a=t[1];i!==Number.MAX_SAFE_INTEGER&&a?(h&&o.getAttribute("morphTarget"+e)!==h[i]&&o.setAttribute("morphTarget"+e,h[i]),f&&o.getAttribute("morphNormal"+e)!==f[i]&&o.setAttribute("morphNormal"+e,f[i]),n[e]=a,d+=a):(h&&void 0!==o.getAttribute("morphTarget"+e)&&o.deleteAttribute("morphTarget"+e),f&&void 0!==o.getAttribute("morphNormal"+e)&&o.deleteAttribute("morphNormal"+e),n[e]=0)}const p=o.morphTargetsRelative?1:1-d;s.getUniforms().setValue(e,"morphTargetBaseInfluence",p),s.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:i}}function Xs(e,t,n,r){let i=new WeakMap;function o(e){const o=r.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s}function a(){i=new WeakMap}return{update:o,dispose:a}}function Ys(e,t,n,r,i,o,a,s,c,u){e=void 0!==e?e:[],t=void 0!==t?t:se,a=void 0!==a?a:Ne,bn.call(this,e,t,n,r,i,o,a,s,c,u),this.flipY=!1}function $s(e,t,n,r){bn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=ve,this.minFilter=ve,this.wrapR=pe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Zs(e,t,n,r){bn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=ve,this.minFilter=ve,this.wrapR=pe,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Is.physical={uniforms:Xi([Is.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new pn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Gr(0)},transparency:{value:0}}]),vertexShader:Os.meshphysical_vert,fragmentShader:Os.meshphysical_frag},Ys.prototype=Object.create(bn.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isCubeTexture=!0,Object.defineProperty(Ys.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),$s.prototype=Object.create(bn.prototype),$s.prototype.constructor=$s,$s.prototype.isDataTexture2DArray=!0,Zs.prototype=Object.create(bn.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isDataTexture3D=!0;const Js=new bn,Ks=new $s,Qs=new Zs,ec=new Ys,tc=[],nc=[],rc=new Float32Array(16),ic=new Float32Array(9),oc=new Float32Array(4);function ac(e,t,n){const r=e[0];if(r<=0||r>0)return e;let i=t*n,o=tc[i];if(void 0===o&&(o=new Float32Array(i),tc[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function sc(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function cc(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function uc(e,t){let n=nc[t];void 0===n&&(n=new Int32Array(t),nc[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function lc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function hc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(sc(n,t))return;e.uniform2fv(this.addr,t),cc(n,t)}}function fc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(sc(n,t))return;e.uniform3fv(this.addr,t),cc(n,t)}}function dc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(sc(n,t))return;e.uniform4fv(this.addr,t),cc(n,t)}}function pc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(sc(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),cc(n,t)}else{if(sc(n,r))return;oc.set(r),e.uniformMatrix2fv(this.addr,!1,oc),cc(n,r)}}function mc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(sc(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),cc(n,t)}else{if(sc(n,r))return;ic.set(r),e.uniformMatrix3fv(this.addr,!1,ic),cc(n,r)}}function vc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(sc(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),cc(n,t)}else{if(sc(n,r))return;rc.set(r),e.uniformMatrix4fv(this.addr,!1,rc),cc(n,r)}}function gc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Js,i)}function yc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Ks,i)}function bc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Qs,i)}function _c(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||ec,i)}function xc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function wc(e,t){const n=this.cache;sc(n,t)||(e.uniform2iv(this.addr,t),cc(n,t))}function Sc(e,t){const n=this.cache;sc(n,t)||(e.uniform3iv(this.addr,t),cc(n,t))}function Ac(e,t){const n=this.cache;sc(n,t)||(e.uniform4iv(this.addr,t),cc(n,t))}function Tc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ec(e){switch(e){case 5126:return lc;case 35664:return hc;case 35665:return fc;case 35666:return dc;case 35674:return pc;case 35675:return mc;case 35676:return vc;case 5124:case 35670:return xc;case 35667:case 35671:return wc;case 35668:case 35672:return Sc;case 35669:case 35673:return Ac;case 5125:return Tc;case 35678:case 36198:case 36298:case 36306:case 35682:return gc;case 35679:case 36299:case 36307:return bc;case 35680:case 36300:case 36308:case 36293:return _c;case 36289:case 36303:case 36311:case 36292:return yc}}function Mc(e,t){e.uniform1fv(this.addr,t)}function Pc(e,t){e.uniform1iv(this.addr,t)}function Cc(e,t){e.uniform2iv(this.addr,t)}function Rc(e,t){e.uniform3iv(this.addr,t)}function kc(e,t){e.uniform4iv(this.addr,t)}function Lc(e,t){const n=ac(t,this.size,2);e.uniform2fv(this.addr,n)}function Oc(e,t){const n=ac(t,this.size,3);e.uniform3fv(this.addr,n)}function Ic(e,t){const n=ac(t,this.size,4);e.uniform4fv(this.addr,n)}function Nc(e,t){const n=ac(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Dc(e,t){const n=ac(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Fc(e,t){const n=ac(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function jc(e,t,n){const r=t.length,i=uc(n,r);e.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.safeSetTexture2D(t[o]||Js,i[o])}function Uc(e,t,n){const r=t.length,i=uc(n,r);e.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.safeSetTextureCube(t[o]||ec,i[o])}function zc(e){switch(e){case 5126:return Mc;case 35664:return Lc;case 35665:return Oc;case 35666:return Ic;case 35674:return Nc;case 35675:return Dc;case 35676:return Fc;case 5124:case 35670:return Pc;case 35667:case 35671:return Cc;case 35668:case 35672:return Rc;case 35669:case 35673:return kc;case 35678:case 36198:case 36298:case 36306:case 35682:return jc;case 35680:case 36300:case 36308:case 36293:return Uc}}function Bc(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Ec(t.type)}function Hc(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=zc(t.type)}function Gc(e){this.id=e,this.seq=[],this.map={}}Hc.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),cc(t,e)},Gc.prototype.setValue=function(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}};const Vc=/([\w\d_]+)(\])?(\[|\.)?/g;function Wc(e,t){e.seq.push(t),e.map[t.id]=t}function qc(e,t,n){const r=e.name,i=r.length;Vc.lastIndex=0;while(1){const o=Vc.exec(r),a=Vc.lastIndex;let s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===i){Wc(n,void 0===u?new Bc(s,e,t):new Hc(s,e,t));break}{const e=n.map;let t=e[s];void 0===t&&(t=new Gc(s),Wc(n,t)),n=t}}}function Xc(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);qc(n,i,this)}}function Yc(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Xc.prototype.setValue=function(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Xc.prototype.setOptional=function(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)},Xc.upload=function(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}},Xc.seqWithValue=function(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n};let $c=0;function Zc(e){const t=e.split("\n");for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function Jc(e){switch(e){case Yt:return["Linear","( value )"];case $t:return["sRGB","( value )"];case Jt:return["RGBE","( value )"];case Qt:return["RGBM","( value, 7.0 )"];case en:return["RGBM","( value, 16.0 )"];case tn:return["RGBD","( value, 256.0 )"];case Zt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Kt:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Kc(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+Zc(o)}function Qc(e,t){const n=Jc(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function eu(e,t){const n=Jc(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function tu(e,t){let n;switch(t){case te:n="Linear";break;case ne:n="Reinhard";break;case re:n="OptimizedCineon";break;case ie:n="ACESFilmic";break;case oe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function nu(e){const t=[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(ou).join("\n")}function ru(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function iu(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;n[o]=e.getAttribLocation(t,o)}return n}function ou(e){return""!==e}function au(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function su(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const cu=/^[ \t]*#include +<([\w\d./]+)>/gm;function uu(e){return e.replace(cu,lu)}function lu(e,t){const n=Os[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return uu(n)}const hu=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,fu=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function du(e){return e.replace(fu,mu).replace(hu,pu)}function pu(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),mu(e,t,n,r)}function mu(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function vu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function gu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===m?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===v&&(t="SHADOWMAP_TYPE_VSM"),t}function yu(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case se:case ce:t="ENVMAP_TYPE_CUBE";break;case he:case fe:t="ENVMAP_TYPE_CUBE_UV";break;case ue:case le:t="ENVMAP_TYPE_EQUIREC";break}return t}function bu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ce:case le:t="ENVMAP_MODE_REFRACTION";break}return t}function _u(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case J:t="ENVMAP_BLENDING_MULTIPLY";break;case K:t="ENVMAP_BLENDING_MIX";break;case Q:t="ENVMAP_BLENDING_ADD";break}return t}function xu(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const c=gu(n),u=yu(n),l=bu(n),h=_u(n),f=e.gammaFactor>0?e.gammaFactor:1,d=n.isWebGL2?"":nu(n),p=ru(o),m=i.createProgram();let v,g;if(n.isRawShaderMaterial?(v=[p].filter(ou).join("\n"),v.length>0&&(v+="\n"),g=[d,p].filter(ou).join("\n"),g.length>0&&(g+="\n")):(v=[vu(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ou).join("\n"),g=[d,vu(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+l:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ee?"#define TONE_MAPPING":"",n.toneMapping!==ee?Os["tonemapping_pars_fragment"]:"",n.toneMapping!==ee?tu("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Os["encodings_pars_fragment"],n.map?Qc("mapTexelToLinear",n.mapEncoding):"",n.matcap?Qc("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Qc("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Qc("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Qc("lightMapTexelToLinear",n.lightMapEncoding):"",eu("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ou).join("\n")),a=uu(a),a=au(a,n),a=su(a,n),s=uu(s),s=au(s,n),s=su(s,n),a=du(a),s=du(s),n.isWebGL2&&!n.isRawShaderMaterial){let e=!1;const t=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==a.match(t)&&null!==s.match(t)&&(e=!0,a=a.replace(t,""),s=s.replace(t,"")),v=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,g=["#version 300 es\n","#define varying in",e?"":"out highp vec4 pc_fragColor;",e?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g}const y=v+a,b=g+s,_=Yc(i,35633,y),x=Yc(i,35632,b);if(i.attachShader(m,_),i.attachShader(m,x),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(_).trim(),n=i.getShaderInfoLog(x).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;const t=Kc(i,_,"vertex"),n=Kc(i,x,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,n)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:v},fragmentShader:{log:n,prefix:g}})}let w,S;return i.deleteShader(_),i.deleteShader(x),this.getUniforms=function(){return void 0===w&&(w=new Xc(i,m)),w},this.getAttributes=function(){return void 0===S&&(S=iu(i,m)),S},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=$c++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=x,this}function wu(e,t,n,r){const i=[],o=n.isWebGL2,a=n.logarithmicDepthBuffer,s=n.floatVertexTextures,c=n.maxVertexUniforms,u=n.vertexTextures;let l=n.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(e,t){let n;if(t){const r=Is[t];n={name:e.name||e.type,uniforms:Yi.clone(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}}else n={name:e.name||e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return n}function p(e){const t=e.skeleton,n=t.bones;if(s)return 1024;{const e=c,t=Math.floor((e-20)/4),r=Math.min(t,n.length);return r<n.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+r+"."),0):r}}function m(e){let t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=Yt,t}function v(r,i,c,f,v,g,_){const x=f.fog,w=r.isMeshStandardMaterial?f.environment:null,S=r.envMap||w,A=h[r.type],T=_.isSkinnedMesh?p(_):0;null!==r.precision&&(l=n.getMaxPrecision(r.precision),l!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",l,"instead."));const E=d(r,A);r.onBeforeCompile(E,e);const M=e.getRenderTarget(),P={isWebGL2:o,shaderID:A,shaderName:E.name,uniforms:E.uniforms,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,defines:r.defines,isRawShaderMaterial:r.isRawShaderMaterial,isShaderMaterial:r.isShaderMaterial,precision:l,instancing:!0===_.isInstancedMesh,supportsVertexTextures:u,outputEncoding:null!==M?m(M.texture):e.outputEncoding,map:!!r.map,mapEncoding:m(r.map),matcap:!!r.matcap,matcapEncoding:m(r.matcap),envMap:!!S,envMapMode:S&&S.mapping,envMapEncoding:m(S),envMapCubeUV:!!S&&(S.mapping===he||S.mapping===fe),lightMap:!!r.lightMap,lightMapEncoding:m(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:m(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===an,tangentSpaceNormalMap:r.normalMapType===on,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap)&&!!r.displacementMap,fog:!!x,useFog:r.fog,fogExp2:x&&x.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:a,skinning:r.skinning&&T>0,maxBones:T,useVertexTexture:s,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:v,numClipIntersection:g,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:ee,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===b,flipSided:r.side===y,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()};return P}function g(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(void 0===t.isRawShaderMaterial){for(let e=0;e<f.length;e++)n.push(t[f[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()}function _(t,n){let o;for(let e=0,r=i.length;e<r;e++){const t=i[e];if(t.cacheKey===n){o=t,++o.usedTimes;break}}return void 0===o&&(o=new xu(e,n,t,r),i.push(o)),o}function x(e){if(0===--e.usedTimes){const t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}}return{getParameters:v,getProgramCacheKey:g,acquireProgram:_,releaseProgram:x,programs:i}}function Su(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function r(t,n,r){e.get(t)[n]=r}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Au(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Tu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Eu(){const e=[];let t=0;const n=[],r=[],i={id:-1};function o(){t=0,n.length=0,r.length=0}function a(n,r,o,a,s,c){let u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:c},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=o,u.program=o.program||i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=s,u.group=c),t++,u}function s(e,t,i,o,s,c){const u=a(e,t,i,o,s,c);(!0===i.transparent?r:n).push(u)}function c(e,t,i,o,s,c){const u=a(e,t,i,o,s,c);(!0===i.transparent?r:n).unshift(u)}function u(e,t){n.length>1&&n.sort(e||Au),r.length>1&&r.sort(t||Tu)}function l(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.program=null,t.group=null}}return{opaque:n,transparent:r,init:o,push:s,unshift:c,finish:l,sort:u}}function Mu(){let e=new WeakMap;function t(n){const r=n.target;r.removeEventListener("dispose",t),e.delete(r)}function n(n,r){const i=e.get(n);let o;return void 0===i?(o=new Eu,e.set(n,new WeakMap),e.get(n).set(r,o),n.addEventListener("dispose",t)):(o=i.get(r),void 0===o&&(o=new Eu,i.set(r,o))),o}function r(){e=new WeakMap}return{get:n,dispose:r}}function Pu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new En,color:new Gr};break;case"SpotLight":n={position:new En,direction:new En,color:new Gr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new En,color:new Gr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new En,skyColor:new Gr,groundColor:new Gr};break;case"RectAreaLight":n={color:new Gr,position:new En,halfWidth:new En,halfHeight:new En};break}return e[t.id]=n,n}}}function Cu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pn,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let Ru=0;function ku(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Lu(){const e=new Pu,t=Cu(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let s=0;s<9;s++)n.probe.push(new En);const r=new En,i=new In,o=new In;function a(a,s,c){let u=0,l=0,h=0;for(let e=0;e<9;e++)n.probe[e].set(0,0,0);let f=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0;const _=c.matrixWorldInverse;a.sort(ku);for(let w=0,S=a.length;w<S;w++){const s=a[w],c=s.color,x=s.intensity,S=s.distance,A=s.shadow&&s.shadow.map?s.shadow.map.texture:null;if(s.isAmbientLight)u+=c.r*x,l+=c.g*x,h+=c.b*x;else if(s.isLightProbe)for(let e=0;e<9;e++)n.probe[e].addScaledVector(s.sh.coefficients[e],x);else if(s.isDirectionalLight){const i=e.get(s);if(i.color.copy(s.color).multiplyScalar(s.intensity),i.direction.setFromMatrixPosition(s.matrixWorld),r.setFromMatrixPosition(s.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(_),s.castShadow){const e=s.shadow,r=t.get(s);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,n.directionalShadow[f]=r,n.directionalShadowMap[f]=A,n.directionalShadowMatrix[f]=s.shadow.matrix,g++}n.directional[f]=i,f++}else if(s.isSpotLight){const i=e.get(s);if(i.position.setFromMatrixPosition(s.matrixWorld),i.position.applyMatrix4(_),i.color.copy(c).multiplyScalar(x),i.distance=S,i.direction.setFromMatrixPosition(s.matrixWorld),r.setFromMatrixPosition(s.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(_),i.coneCos=Math.cos(s.angle),i.penumbraCos=Math.cos(s.angle*(1-s.penumbra)),i.decay=s.decay,s.castShadow){const e=s.shadow,r=t.get(s);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,n.spotShadow[p]=r,n.spotShadowMap[p]=A,n.spotShadowMatrix[p]=s.shadow.matrix,b++}n.spot[p]=i,p++}else if(s.isRectAreaLight){const t=e.get(s);t.color.copy(c).multiplyScalar(x),t.position.setFromMatrixPosition(s.matrixWorld),t.position.applyMatrix4(_),o.identity(),i.copy(s.matrixWorld),i.premultiply(_),o.extractRotation(i),t.halfWidth.set(.5*s.width,0,0),t.halfHeight.set(0,.5*s.height,0),t.halfWidth.applyMatrix4(o),t.halfHeight.applyMatrix4(o),n.rectArea[m]=t,m++}else if(s.isPointLight){const r=e.get(s);if(r.position.setFromMatrixPosition(s.matrixWorld),r.position.applyMatrix4(_),r.color.copy(s.color).multiplyScalar(s.intensity),r.distance=s.distance,r.decay=s.decay,s.castShadow){const e=s.shadow,r=t.get(s);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,r.shadowCameraNear=e.camera.near,r.shadowCameraFar=e.camera.far,n.pointShadow[d]=r,n.pointShadowMap[d]=A,n.pointShadowMatrix[d]=s.shadow.matrix,y++}n.point[d]=r,d++}else if(s.isHemisphereLight){const t=e.get(s);t.direction.setFromMatrixPosition(s.matrixWorld),t.direction.transformDirection(_),t.direction.normalize(),t.skyColor.copy(s.color).multiplyScalar(x),t.groundColor.copy(s.groundColor).multiplyScalar(x),n.hemi[v]=t,v++}}n.ambient[0]=u,n.ambient[1]=l,n.ambient[2]=h;const x=n.hash;x.directionalLength===f&&x.pointLength===d&&x.spotLength===p&&x.rectAreaLength===m&&x.hemiLength===v&&x.numDirectionalShadows===g&&x.numPointShadows===y&&x.numSpotShadows===b||(n.directional.length=f,n.spot.length=p,n.rectArea.length=m,n.point.length=d,n.hemi.length=v,n.directionalShadow.length=g,n.directionalShadowMap.length=g,n.pointShadow.length=y,n.pointShadowMap.length=y,n.spotShadow.length=b,n.spotShadowMap.length=b,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=y,n.spotShadowMatrix.length=b,x.directionalLength=f,x.pointLength=d,x.spotLength=p,x.rectAreaLength=m,x.hemiLength=v,x.numDirectionalShadows=g,x.numPointShadows=y,x.numSpotShadows=b,n.version=Ru++)}return{setup:a,state:n}}function Ou(){const e=new Lu,t=[],n=[];function r(){t.length=0,n.length=0}function i(e){t.push(e)}function o(e){n.push(e)}function a(r){e.setup(t,n,r)}const s={lightsArray:t,shadowsArray:n,lights:e};return{init:r,state:s,setupLights:a,pushLight:i,pushShadow:o}}function Iu(){let e=new WeakMap;function t(n){const r=n.target;r.removeEventListener("dispose",t),e.delete(r)}function n(n,r){let i;return!1===e.has(n)?(i=new Ou,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new Ou,e.get(n).set(r,i)):i=e.get(n).get(r),i}function r(){e=new WeakMap}return{get:n,dispose:r}}function Nu(e){$r.call(this),this.type="MeshDepthMaterial",this.depthPacking=nn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Du(e){$r.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new En,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Nu.prototype=Object.create($r.prototype),Nu.prototype.constructor=Nu,Nu.prototype.isMeshDepthMaterial=!0,Nu.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Du.prototype=Object.create($r.prototype),Du.prototype.constructor=Du,Du.prototype.isMeshDistanceMaterial=!0,Du.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Fu="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",ju="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Uu(e,t,n){let r=new so;const i=new pn,o=new pn,a=new _n,s=[],c=[],u={},l={0:y,1:g,2:b},h=new Ji({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new pn},radius:{value:4}},vertexShader:ju,fragmentShader:Fu}),f=h.clone();f.defines.HORIZONAL_PASS=1;const d=new yi;d.setAttribute("position",new Qr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Di(d,h),_=this;function w(n,r){const i=t.update(m);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,f,m,null)}function S(e,t,n){const r=e<<0|t<<1|n<<2;let i=s[r];return void 0===i&&(i=new Nu({depthPacking:rn,morphTargets:e,skinning:t}),s[r]=i),i}function A(e,t,n){const r=e<<0|t<<1|n<<2;let i=c[r];return void 0===i&&(i=new Du({morphTargets:e,skinning:t}),c[r]=i),i}function T(t,n,r,i,o,a,s){let c=null,h=S,f=t.customDepthMaterial;if(!0===i.isPointLight&&(h=A,f=t.customDistanceMaterial),void 0===f){let e=!1;!0===r.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let i=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?i=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));const o=!0===t.isInstancedMesh;c=h(e,i,o)}else c=f;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const e=c.uuid,t=r.uuid;let n=u[e];void 0===n&&(n={},u[e]=n);let i=n[t];void 0===i&&(i=c.clone(),n[t]=i),c=i}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=s===v?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:l[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=o,c.farDistance=a),c}function E(n,i,o,a,s){if(!1===n.visible)return;const c=n.layers.test(i.layers);if(c&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===v)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],l=i[u.materialIndex];if(l&&l.visible){const t=T(n,r,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,u)}}}else if(i.visible){const t=T(n,r,i,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,null)}}const u=n.children;for(let e=0,t=u.length;e<t;e++)E(u[e],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.render=function(t,s,c){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===t.length)return;const u=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(x),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(let d=0,p=t.length;d<p;d++){const u=t[d],l=u.shadow;if(!1===l.autoUpdate&&!1===l.needsUpdate)continue;if(void 0===l){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}i.copy(l.mapSize);const h=l.getFrameExtents();if(i.multiply(h),o.copy(l.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/h.x),i.x=o.x*h.x,l.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/h.y),i.y=o.y*h.y,l.mapSize.y=o.y)),null===l.map&&!l.isPointLightShadow&&this.type===v){const e={minFilter:be,magFilter:be,format:De};l.map=new xn(i.x,i.y,e),l.map.texture.name=u.name+".shadowMap",l.mapPass=new xn(i.x,i.y,e),l.camera.updateProjectionMatrix()}if(null===l.map){const e={minFilter:ve,magFilter:ve,format:De};l.map=new xn(i.x,i.y,e),l.map.texture.name=u.name+".shadowMap",l.camera.updateProjectionMatrix()}e.setRenderTarget(l.map),e.clear();const p=l.getViewportCount();for(let e=0;e<p;e++){const t=l.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),f.viewport(a),l.updateMatrices(u,e),r=l.getFrustum(),E(s,c,l.camera,u,this.type)}l.isPointLightShadow||this.type!==v||w(l,c),l.needsUpdate=!1}_.needsUpdate=!1,e.setRenderTarget(u,l,h)}}function zu(e,t,n){const r=n.isWebGL2;function i(){let t=!1;const n=new _n;let r=null;const i=new _n(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function o(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ge(2929):ye(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case G:e.depthFunc(512);break;case V:e.depthFunc(519);break;case W:e.depthFunc(513);break;case q:e.depthFunc(515);break;case X:e.depthFunc(514);break;case Y:e.depthFunc(518);break;case $:e.depthFunc(516);break;case Z:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function a(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(e){t||(e?ge(2960):ye(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&c===r||(e.stencilOp(t,n,r),a=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null}}}const s=new i,c=new o,u=new a;let l={},p=null,m=null,v=null,g=null,_=null,J=null,K=null,Q=null,ee=null,te=!1,ne=null,re=null,ie=null,oe=null,ae=null;const se=e.getParameter(35661);let ce=!1,ue=0;const le=e.getParameter(7938);-1!==le.indexOf("WebGL")?(ue=parseFloat(/^WebGL\ ([0-9])/.exec(le)[1]),ce=ue>=1):-1!==le.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(le)[1]),ce=ue>=2);let he=null,fe={};const de=new _n,pe=new _n;function me(t,n,r){const i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}const ve={};function ge(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function ye(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}function be(t){return p!==t&&(e.useProgram(t),p=t,!0)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),s.setClear(0,0,0,1),c.setClear(1),u.setClear(0),ge(2929),c.setFunc(q),Ae(!1),Te(f),ge(2884),we(x);const _e={[M]:32774,[P]:32778,[C]:32779};if(r)_e[R]=32775,_e[k]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(_e[R]=e.MIN_EXT,_e[k]=e.MAX_EXT)}const xe={[L]:0,[O]:1,[I]:768,[D]:770,[H]:776,[z]:774,[j]:772,[N]:769,[F]:771,[B]:775,[U]:773};function we(t,n,r,i,o,a,s,c){if(t!==x){if(m||(ge(3042),m=!0),t===E)o=o||n,a=a||r,s=s||i,n===g&&o===K||(e.blendEquationSeparate(_e[n],_e[o]),g=n,K=o),r===_&&i===J&&a===Q&&s===ee||(e.blendFuncSeparate(xe[r],xe[i],xe[a],xe[s]),_=r,J=i,Q=a,ee=s),v=t,te=null;else if(t!==v||c!==te){if(g===M&&K===M||(e.blendEquation(32774),g=M,K=M),c)switch(t){case w:e.blendFuncSeparate(1,771,1,771);break;case S:e.blendFunc(1,1);break;case A:e.blendFuncSeparate(0,0,769,771);break;case T:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case w:e.blendFuncSeparate(770,771,1,771);break;case S:e.blendFunc(770,1);break;case A:e.blendFunc(0,769);break;case T:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}_=null,J=null,Q=null,ee=null,v=t,te=c}}else m&&(ye(3042),m=!1)}function Se(e,t){e.side===b?ye(2884):ge(2884);let n=e.side===y;t&&(n=!n),Ae(n),e.blending===w&&!1===e.transparent?we(x):we(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),c.setFunc(e.depthFunc),c.setTest(e.depthTest),c.setMask(e.depthWrite),s.setMask(e.colorWrite);const r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Me(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function Ae(t){ne!==t&&(t?e.frontFace(2304):e.frontFace(2305),ne=t)}function Te(t){t!==h?(ge(2884),t!==re&&(t===f?e.cullFace(1029):t===d?e.cullFace(1028):e.cullFace(1032))):ye(2884),re=t}function Ee(t){t!==ie&&(ce&&e.lineWidth(t),ie=t)}function Me(t,n,r){t?(ge(32823),oe===n&&ae===r||(e.polygonOffset(n,r),oe=n,ae=r)):ye(32823)}function Pe(e){e?ge(3089):ye(3089)}function Ce(t){void 0===t&&(t=33984+se-1),he!==t&&(e.activeTexture(t),he=t)}function Re(t,n){null===he&&Ce();let r=fe[he];void 0===r&&(r={type:void 0,texture:void 0},fe[he]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ve[t]),r.type=t,r.texture=n)}function ke(){const t=fe[he];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function Le(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Oe(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ie(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ne(t){!1===de.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),de.copy(t))}function De(t){!1===pe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),pe.copy(t))}function Fe(){l={},he=null,fe={},p=null,v=null,ne=null,re=null,s.reset(),c.reset(),u.reset()}return{buffers:{color:s,depth:c,stencil:u},enable:ge,disable:ye,useProgram:be,setBlending:we,setMaterial:Se,setFlipSided:Ae,setCullFace:Te,setLineWidth:Ee,setPolygonOffset:Me,setScissorTest:Pe,activeTexture:Ce,bindTexture:Re,unbindTexture:ke,compressedTexImage2D:Le,texImage2D:Oe,texImage3D:Ie,scissor:Ne,viewport:De,reset:Fe}}function Bu(e,t,n,r,i,o,a){const s=i.isWebGL2,c=i.maxTextures,u=i.maxCubemapSize,l=i.maxTextureSize,h=i.maxSamples,f=new WeakMap;let d,p=!1;try{p="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function m(e,t){return p?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?dn.floorPowerOfTwo:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===d&&(d=m(o,a));const s=n?m(o,a):d;s.width=o,s.height=a;const c=s.getContext("2d");return c.drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function g(e){return dn.isPowerOfTwo(e.width)&&dn.isPowerOfTwo(e.height)}function y(e){return!s&&(e.wrapS!==pe||e.wrapT!==pe||e.minFilter!==ve&&e.minFilter!==be)}function b(e,t){return e.generateMipmaps&&t&&e.minFilter!==ve&&e.minFilter!==be}function _(t,n,i,o){e.generateMipmap(t);const a=r.get(n);a.__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function x(n,r,i){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function w(e){return e===ve||e===ge||e===ye?9728:9729}function S(e){const t=e.target;t.removeEventListener("dispose",S),T(t),t.isVideoTexture&&f.delete(t),a.memory.textures--}function A(e){const t=e.target;t.removeEventListener("dispose",A),E(t),a.memory.textures--}function T(t){const n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}function E(t){const n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}}let M=0;function P(){M=0}function C(){const e=M;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),M+=1,e}function R(e,t){const i=r.get(e);if(e.isVideoTexture&&Y(e),e.version>0&&i.__version!==e.version){const n=e.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void U(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function k(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?U(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))}function L(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?U(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))}function O(t,i){if(6!==t.image.length)return;const a=r.get(t);if(t.version>0&&a.__version!==t.version){j(a,t),n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture),e.pixelStorei(37440,t.flipY);const r=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),c=t.image[0]&&t.image[0].isDataTexture,l=[];for(let e=0;e<6;e++)l[e]=r||c?c?t.image[e].image:t.image[e]:v(t.image[e],!1,!0,u);const h=l[0],f=g(h)||s,d=o.convert(t.format),p=o.convert(t.type),m=x(t.internalFormat,d,p);let y;if(F(34067,t,f),r){for(let e=0;e<6;e++){y=l[e].mipmaps;for(let r=0;r<y.length;r++){const i=y[r];t.format!==De&&t.format!==Ne?null!==d?n.compressedTexImage2D(34069+e,r,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,r,m,i.width,i.height,0,d,p,i.data)}}a.__maxMipLevel=y.length-1}else{y=t.mipmaps;for(let e=0;e<6;e++)if(c){n.texImage2D(34069+e,0,m,l[e].width,l[e].height,0,d,p,l[e].data);for(let t=0;t<y.length;t++){const r=y[t],i=r.image[e].image;n.texImage2D(34069+e,t+1,m,i.width,i.height,0,d,p,i.data)}}else{n.texImage2D(34069+e,0,m,d,p,l[e]);for(let t=0;t<y.length;t++){const r=y[t];n.texImage2D(34069+e,t+1,m,d,p,r.image[e])}}a.__maxMipLevel=y.length}b(t,f)&&_(34067,t,h.width,h.height),a.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture)}function I(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}const N={[de]:10497,[pe]:33071,[me]:33648},D={[ve]:9728,[ge]:9984,[ye]:9986,[be]:9729,[_e]:9985,[xe]:9987};function F(n,o,a){a?(e.texParameteri(n,10242,N[o.wrapS]),e.texParameteri(n,10243,N[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,N[o.wrapR]),e.texParameteri(n,10240,D[o.magFilter]),e.texParameteri(n,10241,D[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===pe&&o.wrapT===pe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,w(o.magFilter)),e.texParameteri(n,10241,w(o.minFilter)),o.minFilter!==ve&&o.minFilter!==be&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const c=t.get("EXT_texture_filter_anisotropic");if(c){if(o.type===Pe&&null===t.get("OES_texture_float_linear"))return;if(o.type===Ce&&null===(s||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function j(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),a.memory.textures++)}function U(t,r,i){let a=3553;r.isDataTexture2DArray&&(a=35866),r.isDataTexture3D&&(a=32879),j(t,r),n.activeTexture(33984+i),n.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);const c=y(r)&&!1===g(r.image),u=v(r.image,c,!1,l),h=g(u)||s,f=o.convert(r.format);let d,p=o.convert(r.type),m=x(r.internalFormat,f,p);F(a,r,h);const w=r.mipmaps;if(r.isDepthTexture)m=6402,s?m=r.type===Pe?36012:r.type===Me?33190:r.type===Oe?35056:33189:r.type===Pe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===ze&&6402===m&&r.type!==Te&&r.type!==Me&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Te,p=o.convert(r.type)),r.format===Be&&6402===m&&(m=34041,r.type!==Oe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Oe,p=o.convert(r.type))),n.texImage2D(3553,0,m,u.width,u.height,0,f,p,null);else if(r.isDataTexture)if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)d=w[e],n.texImage2D(3553,e,m,d.width,d.height,0,f,p,d.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,f,p,u.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(let e=0,t=w.length;e<t;e++)d=w[e],r.format!==De&&r.format!==Ne?null!==f?n.compressedTexImage2D(3553,e,m,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,m,d.width,d.height,0,f,p,d.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,f,p,u.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,f,p,u.data),t.__maxMipLevel=0;else if(w.length>0&&h){for(let e=0,t=w.length;e<t;e++)d=w[e],n.texImage2D(3553,e,m,f,p,d);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,m,f,p,u),t.__maxMipLevel=0;b(r,h)&&_(a,r,u.width,u.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function z(t,i,a,s){const c=o.convert(i.texture.format),u=o.convert(i.texture.type),l=x(i.texture.internalFormat,c,u);n.texImage2D(s,0,l,i.width,i.height,0,c,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function B(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Pe?i=36012:t.type===Me&&(i=33190));const r=X(n);e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const t=X(n);e.renderbufferStorageMultisample(36161,t,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=o.convert(n.texture.format),i=o.convert(n.texture.type),a=x(n.texture.internalFormat,t,i);if(r){const t=X(n);e.renderbufferStorageMultisample(36161,t,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function H(t,n){const i=n&&n.isWebGLCubeRenderTarget;if(i)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),R(n.depthTexture,0);const o=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===ze)e.framebufferTexture2D(36160,36096,3553,o,0);else{if(n.depthTexture.format!==Be)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,o,0)}}function G(t){const n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");H(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(let r=0;r<6;r++)e.bindFramebuffer(36160,n.__webglFramebuffer[r]),n.__webglDepthbuffer[r]=e.createRenderbuffer(),B(n.__webglDepthbuffer[r],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),B(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function V(t){const i=r.get(t),c=r.get(t.texture);t.addEventListener("dispose",A),c.__webglTexture=e.createTexture(),a.memory.textures++;const u=!0===t.isWebGLCubeRenderTarget,l=!0===t.isWebGLMultisampleRenderTarget,h=g(t)||s;if(!s||t.texture.format!==Ne||t.texture.type!==Pe&&t.texture.type!==Ce||(t.texture.format=De,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){i.__webglFramebuffer=[];for(let t=0;t<6;t++)i.__webglFramebuffer[t]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),l)if(s){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);const n=o.convert(t.texture.format),r=o.convert(t.texture.type),a=x(t.texture.internalFormat,n,r),s=X(t);e.renderbufferStorageMultisample(36161,s,a,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),B(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,c.__webglTexture),F(34067,t.texture,h);for(let e=0;e<6;e++)z(i.__webglFramebuffer[e],t,36064,34069+e);b(t.texture,h)&&_(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,c.__webglTexture),F(3553,t.texture,h),z(i.__webglFramebuffer,t,36064,3553),b(t.texture,h)&&_(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&G(t)}function W(e){const t=e.texture,i=g(e)||s;if(b(t,i)){const i=e.isWebGLCubeRenderTarget?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),_(i,t,e.width,e.height),n.bindTexture(i,null)}}function q(t){if(t.isWebGLMultisampleRenderTarget)if(s){const n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);const i=t.width,o=t.height;let a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function X(e){return s&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}function Y(e){const t=a.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}let $=!1,Z=!1;function J(e,t){e&&e.isWebGLRenderTarget&&(!1===$&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),$=!0),e=e.texture),R(e,t)}function K(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?O(e,t):I(e,t)}this.allocateTextureUnit=C,this.resetTextureUnits=P,this.setTexture2D=R,this.setTexture2DArray=k,this.setTexture3D=L,this.setTextureCube=O,this.setTextureCubeDynamic=I,this.setupRenderTarget=V,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=q,this.safeSetTexture2D=J,this.safeSetTextureCube=K}function Hu(e,t,n){const r=n.isWebGL2;function i(e){let n;if(e===we)return 5121;if(e===Re)return 32819;if(e===ke)return 32820;if(e===Le)return 33635;if(e===Se)return 5120;if(e===Ae)return 5122;if(e===Te)return 5123;if(e===Ee)return 5124;if(e===Me)return 5125;if(e===Pe)return 5126;if(e===Ce)return r?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(e===Ie)return 6406;if(e===Ne)return 6407;if(e===De)return 6408;if(e===Fe)return 6409;if(e===je)return 6410;if(e===ze)return 6402;if(e===Be)return 34041;if(e===He)return 6403;if(e===Ge)return 36244;if(e===Ve)return 33319;if(e===We)return 33320;if(e===qe)return 36248;if(e===Xe)return 36249;if(e===Ye||e===$e||e===Ze||e===Je){if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(e===Ye)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===$e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ze)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Je)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Ke||e===Qe||e===et||e===tt){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(e===Ke)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Qe)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===et)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===tt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===nt)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===rt||e===it)&&(n=t.get("WEBGL_compressed_texture_etc"),null!==n)){if(e===rt)return n.COMPRESSED_RGB8_ETC2;if(e===it)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===ot||e===at||e===st||e===ct||e===ut||e===lt||e===ht||e===ft||e===dt||e===pt||e===mt||e===vt||e===gt||e===yt||e===_t||e===xt||e===wt||e===St||e===At||e===Tt||e===Et||e===Mt||e===Pt||e===Ct||e===Rt||e===kt||e===Lt||e===Ot?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):e===bt?(n=t.get("EXT_texture_compression_bptc"),null!==n?e:null):e===Oe?r?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}return{convert:i}}function Gu(e){Qi.call(this),this.cameras=e||[]}function Vu(){Kn.call(this),this.type="Group"}function Wu(){this._targetRay=null,this._grip=null}function qu(e,t){const n=this;let r=null,i=1,o=null,a="local-floor",s=null;const c=[],u=new Map,l=new Qi;l.layers.enable(1),l.viewport=new _n;const h=new Qi;h.layers.enable(2),h.viewport=new _n;const f=[l,h],d=new Gu;d.layers.enable(1),d.layers.enable(2);let p=null,m=null;function v(e){const t=u.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function g(){u.forEach((function(e,t){e.disconnect(t)})),u.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){o=e,E.setContext(r),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(e){const t=r.inputSources;for(let n=0;n<c.length;n++)u.set(t[n],c[n]);for(let n=0;n<e.removed.length;n++){const t=e.removed[n],r=u.get(t);r&&(r.dispatchEvent({type:"disconnected",data:t}),u.delete(t))}for(let n=0;n<e.added.length;n++){const t=e.added[n],r=u.get(t);r&&r.dispatchEvent({type:"connected",data:t})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=c[e];return void 0===t&&(t=new Wu,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=c[e];return void 0===t&&(t=new Wu,c[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(e){if(r=e,null!==r){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",g);const e=t.getContextAttributes();!0!==e.xrCompatible&&t.makeXRCompatible();const n={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:i},o=new XRWebGLLayer(r,t,n);r.updateRenderState({baseLayer:o}),r.requestReferenceSpace(a).then(y),r.addEventListener("inputsourceschange",b)}};const _=new En,x=new En;function w(e,t,n){_.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(n.matrixWorld);const r=_.distanceTo(x),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],u=(i[9]-1)/i[5],l=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=a*l,d=a*h,p=r/(-l+h),m=p*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);const v=a+p,g=s+p,y=f-m,b=d+(r-m),w=c*s/g*v,S=u*s/g*v;e.projectionMatrix.makePerspective(y,b,w,S,v,g)}function S(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){d.near=h.near=l.near=e.near,d.far=h.far=l.far=e.far,p===d.near&&m===d.far||(r.updateRenderState({depthNear:d.near,depthFar:d.far}),p=d.near,m=d.far);const t=e.parent,n=d.cameras;S(d,t);for(let r=0;r<n.length;r++)S(n[r],t);e.matrixWorld.copy(d.matrixWorld);const i=e.children;for(let r=0,o=i.length;r<o;r++)i[r].updateMatrixWorld(!0);return 2===n.length?w(d,l,h):d.projectionMatrix.copy(l.projectionMatrix),d};let A=null;function T(t,n){if(s=n.getViewerPose(o),null!==s){const t=s.views,n=r.renderState.baseLayer;e.setFramebuffer(n.framebuffer);let i=!1;t.length!==d.cameras.length&&(d.cameras.length=0,i=!0);for(let e=0;e<t.length;e++){const r=t[e],o=n.getViewport(r),a=f[e];a.matrix.fromArray(r.transform.matrix),a.projectionMatrix.fromArray(r.projectionMatrix),a.viewport.set(o.x,o.y,o.width,o.height),0===e&&d.matrix.copy(a.matrix),!0===i&&d.cameras.push(a)}}const i=r.inputSources;for(let e=0;e<c.length;e++){const t=c[e],r=i[e];t.update(r,n,o)}A&&A(t,n)}const E=new uo;E.setAnimationLoop(T),this.setAnimationLoop=function(e){A=e},this.dispose=function(){}}function Xu(e){function t(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function n(e,t,n,g,y){t.isMeshBasicMaterial?r(e,t):t.isMeshLambertMaterial?(r(e,t),c(e,t)):t.isMeshToonMaterial?(r(e,t),l(e,t)):t.isMeshPhongMaterial?(r(e,t),u(e,t)):t.isMeshStandardMaterial?(r(e,t,n),t.isMeshPhysicalMaterial?f(e,t,n):h(e,t,n)):t.isMeshMatcapMaterial?(r(e,t),d(e,t)):t.isMeshDepthMaterial?(r(e,t),p(e,t)):t.isMeshDistanceMaterial?(r(e,t),m(e,t)):t.isMeshNormalMaterial?(r(e,t),v(e,t)):t.isLineBasicMaterial?(i(e,t),t.isLineDashedMaterial&&o(e,t)):t.isPointsMaterial?a(e,t,g,y):t.isSpriteMaterial?s(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function r(t,n,r){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);const i=n.envMap||r;let o,a;i&&(t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio,t.maxMipLevel.value=e.get(i).__maxMipLevel),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?o=n.map:n.specularMap?o=n.specularMap:n.displacementMap?o=n.displacementMap:n.normalMap?o=n.normalMap:n.bumpMap?o=n.bumpMap:n.roughnessMap?o=n.roughnessMap:n.metalnessMap?o=n.metalnessMap:n.alphaMap?o=n.alphaMap:n.emissiveMap&&(o=n.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uvTransform.value.copy(o.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function i(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function o(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function a(e,t,n,r){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function s(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function c(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function u(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function l(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function h(e,t,n){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||n)&&(e.envMapIntensity.value=t.envMapIntensity)}function f(e,t,n){h(e,t,n),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===y&&e.clearcoatNormalScale.value.negate()),e.transparency.value=t.transparency}function d(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function p(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function m(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function v(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function Yu(e){e=e||{};const t=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",l=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,f=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Yt,this.physicallyCorrectLights=!1,this.toneMapping=ee,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let p=!1,m=null,v=0,g=0,y=null,b=null,_=-1,x=null,w=null;const S=new _n,A=new _n;let T=null,E=t.width,M=t.height,P=1,C=null,R=null;const k=new _n(0,0,E,M),L=new _n(0,0,E,M);let O=!1;const I=new so,N=new Us;let D=!1,F=!1;const j=new In,U=new En,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===y?P:1}let H,G,V,W,q,X,Y,$,Z,J,K,Q,te,ne,re,ie,oe,ae,se,ce=n;function ue(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:l};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",pe,!1),null===ce){const t=["webgl2","webgl","experimental-webgl"];if(!0===d.isWebGL1Renderer&&t.shift(),ce=ue(t,e),null===ce)throw ue(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ce.getShaderPrecisionFormat&&(ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Le){throw console.error("THREE.WebGLRenderer: "+Le.message),Le}function le(){H=new zs(ce),G=new js(ce,H,e),!1===G.isWebGL2&&(H.get("WEBGL_depth_texture"),H.get("OES_texture_float"),H.get("OES_texture_half_float"),H.get("OES_texture_half_float_linear"),H.get("OES_standard_derivatives"),H.get("OES_element_index_uint"),H.get("OES_vertex_array_object"),H.get("ANGLE_instanced_arrays")),H.get("OES_texture_float_linear"),ae=new Hu(ce,H,G),V=new zu(ce,H,G),V.scissor(A.copy(L).multiplyScalar(P).floor()),V.viewport(S.copy(k).multiplyScalar(P).floor()),W=new Gs(ce),q=new Su,X=new Bu(ce,H,V,q,G,ae,W),Y=new lo(ce,G),se=new Ds(ce,H,Y,G),$=new Bs(ce,Y,W,se),Z=new Xs(ce,$,Y,W),re=new qs(ce),J=new wu(d,H,G,se),K=new Xu(q),Q=new Mu,te=new Iu,ne=new Ns(d,V,Z,s),ie=new Fs(ce,H,W,G),oe=new Hs(ce,H,W,G),W.programs=J.programs,d.capabilities=G,d.extensions=H,d.properties=q,d.renderLists=Q,d.state=V,d.info=W}le();const he=new qu(d,ce);this.xr=he;const fe=new Uu(d,Z,G.maxTextureSize);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,le()}function me(e){const t=e.target;t.removeEventListener("dispose",me),ve(t)}function ve(e){ge(e),q.remove(e)}function ge(e){const t=q.get(e).program;e.program=void 0,void 0!==t&&J.releaseProgram(t)}function ye(e,t){e.render((function(e){d.renderBufferImmediate(e,t)}))}this.shadowMap=fe,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(E,M,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new pn),e.set(E,M)},this.setSize=function(e,n,r){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,M=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new pn),e.set(E*P,M*P).floor()},this.setDrawingBufferSize=function(e,n,r){E=e,M=n,P=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new _n),e.copy(S)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),V.viewport(S.copy(k).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),V.scissor(A.copy(L).multiplyScalar(P).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){V.setScissorTest(O=e)},this.setOpaqueSort=function(e){C=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(){return ne.getClearColor()},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){let r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ce.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",pe,!1),Q.dispose(),te.dispose(),q.dispose(),Z.dispose(),se.dispose(),he.dispose(),xe.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();const n=q.get(e);e.hasPositions&&!n.position&&(n.position=ce.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ce.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ce.createBuffer()),e.hasColors&&!n.color&&(n.color=ce.createBuffer());const r=t.getAttributes();e.hasPositions&&(ce.bindBuffer(34962,n.position),ce.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),ce.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ce.bindBuffer(34962,n.normal),ce.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),ce.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ce.bindBuffer(34962,n.uv),ce.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),ce.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ce.bindBuffer(34962,n.color),ce.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),ce.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ce.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=z);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=Me(e,t,r,i);V.setMaterial(r,a);let c=n.index;const u=n.attributes.position;if(null===c){if(void 0===u||0===u.count)return}else if(0===c.count)return;let l,h=1;!0===r.wireframe&&(c=$.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&re.update(i,n,r,s),se.setup(i,r,s,n,c);let f=ie;null!==c&&(l=Y.get(c),f=oe,f.setIndex(l));const d=null!==c?c.count:u.count,p=n.drawRange.start*h,m=n.drawRange.count*h,v=null!==o?o.start*h:0,g=null!==o?o.count*h:1/0,y=Math.max(p,v),b=Math.min(d,p+m,v+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*B()),f.setMode(1)):f.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),V.setLineWidth(e*B()),i.isLineSegments?f.setMode(1):i.isLineLoop?f.setMode(2):f.setMode(3)}else i.isPoints?f.setMode(0):i.isSprite&&f.setMode(4);if(i.isInstancedMesh)f.renderInstances(n,y,_,i.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);f.renderInstances(n,y,_,e)}else f.render(y,_)}},this.compile=function(e,t){f=te.get(e,t),f.init(),e.traverse((function(e){e.isLight&&(f.pushLight(e),e.castShadow&&f.pushShadow(e))})),f.setupLights(t);const n=new WeakMap;e.traverse((function(t){let r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];!1===n.has(o)&&(Ee(o,e,t),n.set(o))}else!1===n.has(r)&&(Ee(r,e,t),n.set(r))}))};let be=null;function _e(e){he.isPresenting||be&&be(e)}const xe=new uo;function Se(e,t,n,r){if(!1===e.visible)return;const i=e.layers.test(t.layers);if(i)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)f.pushLight(e),e.castShadow&&f.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);const t=Z.update(e),i=e.material;i.visible&&h.push(e,t,i,n,U.z,null)}}else if(e.isImmediateRenderObject)r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j),h.push(e,null,e.material,n,U.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);const t=Z.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&h.push(e,t,s,n,U.z,a)}}else i.visible&&h.push(e,t,i,n,U.z,null)}const o=e.children;for(let a=0,s=o.length;a<s;a++)Se(o[a],t,n,r)}function Ae(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,c=null===r?o.material:r,u=o.group;if(n.isArrayCamera){w=n;const e=n.cameras;for(let n=0,r=e.length;n<r;n++){const r=e[n];a.layers.test(r.layers)&&(V.viewport(S.copy(r.viewport)),f.setupLights(r),Te(a,t,r,s,c,u))}}else w=null,Te(a,t,n,s,c,u)}}function Te(e,t,n,r,i,o){if(e.onBeforeRender(d,t,n,r,i,o),f=te.get(t,w||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const r=Me(n,t,i,e);V.setMaterial(i),se.reset(),ye(e,r)}else d.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(d,t,n,r,i,o),f=te.get(t,w||n)}function Ee(e,t,n){!0!==t.isScene&&(t=z);const r=q.get(e),i=f.state.lights,o=f.state.shadowsArray,a=i.state.version,s=J.getParameters(e,i.state,o,t,N.numPlanes,N.numIntersection,n),c=J.getProgramCacheKey(s);let u=r.program,l=!0;if(void 0===u)e.addEventListener("dispose",me);else if(u.cacheKey!==c)ge(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,l=!1;else{if(void 0!==s.shaderID)return;l=!1}l&&(u=J.acquireProgram(s,c),r.program=u,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding,e.program=u);const h=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(let t=0;t<d.maxMorphTargets;t++)h["morphTarget"+t]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(let t=0;t<d.maxMorphNormals;t++)h["morphNormal"+t]>=0&&e.numSupportedMorphNormals++}const p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=N.numPlanes,r.numIntersection=N.numIntersection,p.clippingPlanes=N.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.needsLights=ke(e),r.lightsStateVersion=a,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);const m=r.program.getUniforms(),v=Xc.seqWithValue(m.seq,p);r.uniformsList=v}function Me(e,t,n,r){!0!==t.isScene&&(t=z),X.resetTextureUnits();const i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=null===y?d.outputEncoding:y.texture.encoding,s=q.get(n),c=f.state.lights;if(!0===D&&(!0===F||e!==x)){const t=e===x&&n.id===_;N.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,s,t)}n.version===s.__version?void 0===s.program||n.fog&&s.fog!==i||s.environment!==o||s.needsLights&&s.lightsStateVersion!==c.state.version?Ee(n,t,r):void 0===s.numClippingPlanes||s.numClippingPlanes===N.numPlanes&&s.numIntersection===N.numIntersection?s.outputEncoding!==a&&Ee(n,t,r):Ee(n,t,r):(Ee(n,t,r),s.__version=n.version);let u=!1,l=!1,h=!1;const p=s.program,m=p.getUniforms(),v=s.uniforms;if(V.useProgram(p.program)&&(u=!0,l=!0,h=!0),n.id!==_&&(_=n.id,l=!0),u||x!==e){if(m.setValue(ce,"projectionMatrix",e.projectionMatrix),G.logarithmicDepthBuffer&&m.setValue(ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,l=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=m.map.cameraPosition;void 0!==t&&t.setValue(ce,U.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&m.setValue(ce,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&m.setValue(ce,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){m.setOptional(ce,r,"bindMatrix"),m.setOptional(ce,r,"bindMatrixInverse");const e=r.skeleton;if(e){const t=e.bones;if(G.floatVertexTextures){if(void 0===e.boneTexture){let n=Math.sqrt(4*t.length);n=dn.ceilPowerOfTwo(n),n=Math.max(n,4);const r=new Float32Array(n*n*4);r.set(e.boneMatrices);const i=new io(r,n,n,De,Pe);e.boneMatrices=r,e.boneTexture=i,e.boneTextureSize=n}m.setValue(ce,"boneTexture",e.boneTexture,X),m.setValue(ce,"boneTextureSize",e.boneTextureSize)}else m.setOptional(ce,e,"boneMatrices")}}return(l||s.receiveShadow!==r.receiveShadow)&&(s.receiveShadow=r.receiveShadow,m.setValue(ce,"receiveShadow",r.receiveShadow)),l&&(m.setValue(ce,"toneMappingExposure",d.toneMappingExposure),s.needsLights&&Re(v,h),i&&n.fog&&K.refreshFogUniforms(v,i),K.refreshMaterialUniforms(v,n,o,P,M),void 0!==v.ltc_1&&(v.ltc_1.value=co.LTC_1),void 0!==v.ltc_2&&(v.ltc_2.value=co.LTC_2),Xc.upload(ce,s.uniformsList,v,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Xc.upload(ce,s.uniformsList,v,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(ce,"center",r.center),m.setValue(ce,"modelViewMatrix",r.modelViewMatrix),m.setValue(ce,"normalMatrix",r.normalMatrix),m.setValue(ce,"modelMatrix",r.matrixWorld),p}function Re(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function ke(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}xe.setAnimationLoop(_e),"undefined"!==typeof window&&xe.setContext(window),this.setAnimationLoop=function(e){be=e,he.setAnimationLoop(e),null===e?xe.stop():xe.start()},this.render=function(e,t){let n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===p)return;se.resetDefaultState(),_=-1,x=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===he.enabled&&!0===he.isPresenting&&(t=he.getCamera(t)),!0===e.isScene&&e.onBeforeRender(d,e,t,n||y),f=te.get(e,t),f.init(),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(j),F=this.localClippingEnabled,D=N.init(this.clippingPlanes,F,t),h=Q.get(e,t),h.init(),Se(e,t,0,d.sortObjects),h.finish(),!0===d.sortObjects&&h.sort(C,R),!0===D&&N.beginShadows();const i=f.state.shadowsArray;fe.render(i,e,t),f.setupLights(t),!0===D&&N.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(h,e,t,r);const o=h.opaque,a=h.transparent;o.length>0&&Ae(o,e,t),a.length>0&&Ae(a,e,t),!0===e.isScene&&e.onAfterRender(d,e,t),null!==y&&(X.updateRenderTargetMipmap(y),X.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),h=null,f=null},this.setFramebuffer=function(e){m!==e&&null===y&&ce.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e,t,n){y=e,v=t,g=n,e&&void 0===q.get(e).__webglFramebuffer&&X.setupRenderTarget(e);let r=m,i=!1;if(e){const n=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=n[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?q.get(e).__webglMultisampledFramebuffer:n,S.copy(e.viewport),A.copy(e.scissor),T=e.scissorTest}else S.copy(k).multiplyScalar(P).floor(),A.copy(L).multiplyScalar(P).floor(),T=O;if(b!==r&&(ce.bindFramebuffer(36160,r),b=r),V.viewport(S),V.scissor(A),V.setScissorTest(T),i){const r=q.get(e.texture);ce.framebufferTexture2D(36160,36064,34069+(t||0),r.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){let a=!1;s!==b&&(ce.bindFramebuffer(36160,s),a=!0);try{const s=e.texture,c=s.format,u=s.type;if(c!==De&&ae.convert(c)!==ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(u!==we&&ae.convert(u)!==ce.getParameter(35738)&&(u!==Pe||!(G.isWebGL2||H.get("OES_texture_float")||H.get("WEBGL_color_buffer_float")))&&(u!==Ce||!(G.isWebGL2?H.get("EXT_color_buffer_float"):H.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ce.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ce.readPixels(t,n,r,i,ae.convert(c),ae.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&ce.bindFramebuffer(36160,b)}}},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=ae.convert(t.format);X.setTexture2D(t,0),ce.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);const i=t.image.width,o=t.image.height,a=ae.convert(n.format),s=ae.convert(n.type);X.setTexture2D(n,0),ce.pixelStorei(37440,n.flipY),ce.pixelStorei(37441,n.premultiplyAlpha),ce.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ce.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ce.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ce.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ce.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(e){X.setTexture2D(e,0),V.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function $u(e){Yu.call(this,e)}function Zu(e,t){this.name="",this.color=new Gr(e),this.density=void 0!==t?t:25e-5}function Ju(e,t,n){this.name="",this.color=new Gr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ku(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=un,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=dn.generateUUID()}Gu.prototype=Object.assign(Object.create(Qi.prototype),{constructor:Gu,isArrayCamera:!0}),Vu.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Vu,isGroup:!0}),Object.assign(Wu.prototype,{constructor:Wu,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Vu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Vu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,n){let r=null,i=null;const o=this._targetRay,a=this._grip;return e&&(null!==o&&(r=t.getPose(e.targetRaySpace,n),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)))),null!==o&&(o.visible=null!==r),null!==a&&(a.visible=null!==i),this}}),Object.assign(qu.prototype,hn.prototype),$u.prototype=Object.assign(Object.create(Yu.prototype),{constructor:$u,isWebGL1Renderer:!0}),Object.assign(Zu.prototype,{isFogExp2:!0,clone:function(){return new Zu(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ju.prototype,{isFog:!0,clone:function(){return new Ju(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ku.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ku.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new Ku(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=dn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Qu=new En;function el(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function tl(e){$r.call(this),this.type="SpriteMaterial",this.color=new Gr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}let nl;Object.defineProperties(el.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(el.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)Qu.x=this.getX(t),Qu.y=this.getY(t),Qu.z=this.getZ(t),Qu.applyMatrix4(e),this.setXYZ(t,Qu.x,Qu.y,Qu.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Qr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new el(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),tl.prototype=Object.create($r.prototype),tl.prototype.constructor=tl,tl.prototype.isSpriteMaterial=!0,tl.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};const rl=new En,il=new En,ol=new En,al=new pn,sl=new pn,cl=new In,ul=new En,ll=new En,hl=new En,fl=new pn,dl=new pn,pl=new pn;function ml(e){if(Kn.call(this),this.type="Sprite",void 0===nl){nl=new yi;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Ku(e,5);nl.setIndex([0,1,2,0,2,3]),nl.setAttribute("position",new el(t,3,0,!1)),nl.setAttribute("uv",new el(t,2,3,!1))}this.geometry=nl,this.material=void 0!==e?e:new tl,this.center=new pn(.5,.5)}function vl(e,t,n,r,i,o){al.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(sl.x=o*al.x-i*al.y,sl.y=i*al.x+o*al.y):sl.copy(al),e.copy(t),e.x+=sl.x,e.y+=sl.y,e.applyMatrix4(cl)}ml.prototype=Object.assign(Object.create(Kn.prototype),{constructor:ml,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),il.setFromMatrixScale(this.matrixWorld),cl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ol.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&il.multiplyScalar(-ol.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;vl(ul.set(-.5,-.5,0),ol,o,il,r,i),vl(ll.set(.5,-.5,0),ol,o,il,r,i),vl(hl.set(.5,.5,0),ol,o,il,r,i),fl.set(0,0),dl.set(1,0),pl.set(1,1);let a=e.ray.intersectTriangle(ul,ll,hl,!1,rl);if(null===a&&(vl(ll.set(-.5,.5,0),ol,o,il,r,i),dl.set(0,1),a=e.ray.intersectTriangle(ul,hl,ll,!1,rl),null===a))return;const s=e.ray.origin.distanceTo(rl);s<e.near||s>e.far||t.push({distance:s,point:rl.clone(),uv:Ur.getUV(rl,ul,ll,hl,fl,dl,pl,new pn),face:null,object:this})},copy:function(e){return Kn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});const gl=new En,yl=new En;function bl(){Kn.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function _l(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Di.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new In,this.bindMatrixInverse=new In}bl.prototype=Object.assign(Object.create(Kn.prototype),{constructor:bl,isLOD:!0,copy:function(e){Kn.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length;r++)if(t<n[r].distance)break;return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++)if(e<t[n].distance)break;return t[n-1].object}return null},raycast:function(e,t){const n=this.levels;if(n.length>0){gl.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(gl);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){gl.setFromMatrixPosition(e.matrixWorld),yl.setFromMatrixPosition(this.matrixWorld);const n=gl.distanceTo(yl)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){if(!(n>=t[r].distance))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance})}return t}}),_l.prototype=Object.assign(Object.create(Di.prototype),{constructor:_l,isSkinnedMesh:!0,copy:function(e){return Di.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new _n,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Di.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new En,t=new _n,n=new _n,r=new En,i=new In;return function(o,a){const s=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,o),n.fromBufferAttribute(c.attributes.skinWeight,o),e.fromBufferAttribute(c.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let u=0;u<4;u++){const o=n.getComponent(u);if(0!==o){const n=t.getComponent(u);i.multiplyMatrices(s.bones[n].matrixWorld,s.boneInverses[n]),a.addScaledVector(r.copy(e).applyMatrix4(i),o)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});const xl=new In,wl=new In;function Sl(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new In)}}function Al(){Kn.call(this),this.type="Bone"}Object.assign(Sl.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const t=new In;this.bones[e]&&t.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(t)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:wl;xl.multiplyMatrices(r,t[i]),xl.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Sl(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Al.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Al,isBone:!0});const Tl=new In,El=new In,Ml=[],Pl=new Di;function Cl(e,t,n){Di.call(this,e,t),this.instanceMatrix=new Qr(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function Rl(e){$r.call(this),this.type="LineBasicMaterial",this.color=new Gr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Cl.prototype=Object.assign(Object.create(Di.prototype),{constructor:Cl,isInstancedMesh:!0,copy:function(e){return Di.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const n=this.matrixWorld,r=this.count;if(Pl.geometry=this.geometry,Pl.material=this.material,void 0!==Pl.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Tl),El.multiplyMatrices(n,Tl),Pl.matrixWorld=El,Pl.raycast(e,Ml);for(let e=0,n=Ml.length;e<n;e++){const n=Ml[e];n.instanceId=i,n.object=this,t.push(n)}Ml.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Rl.prototype=Object.create($r.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isLineBasicMaterial=!0,Rl.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const kl=new En,Ll=new En,Ol=new In,Il=new Ar,Nl=new vr;function Dl(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Kn.call(this),this.type="Line",this.geometry=void 0!==e?e:new yi,this.material=void 0!==t?t:new Rl,this.updateMorphTargets()}Dl.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Dl,isLine:!0,copy:function(e){return Kn.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)kl.fromBufferAttribute(t,e-1),Ll.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=kl.distanceTo(Ll);e.setAttribute("lineDistance",new si(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let e=1,r=t.length;e<r;e++)n[e]=n[e-1],n[e]+=t[e-1].distanceTo(t[e])}return this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Nl.copy(n.boundingSphere),Nl.applyMatrix4(r),Nl.radius+=i,!1===e.ray.intersectsSphere(Nl))return;Ol.getInverse(r),Il.copy(e.ray).applyMatrix4(Ol);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new En,c=new En,u=new En,l=new En,h=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes,o=i.position.array;if(null!==r){const n=r.array;for(let r=0,i=n.length-1;r<i;r+=h){const i=n[r],h=n[r+1];s.fromArray(o,3*i),c.fromArray(o,3*h);const f=Il.distanceSqToSegment(s,c,l,u);if(f>a)continue;l.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(l);d<e.near||d>e.far||t.push({distance:d,point:u.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else for(let n=0,f=o.length/3-1;n<f;n+=h){s.fromArray(o,3*n),c.fromArray(o,3*n+3);const r=Il.distanceSqToSegment(s,c,l,u);if(r>a)continue;l.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(l);i<e.near||i>e.far||t.push({distance:i,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const r=n.vertices,i=r.length;for(let n=0;n<i-1;n+=h){const i=Il.distanceSqToSegment(r[n],r[n+1],l,u);if(i>a)continue;l.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(l);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Fl=new En,jl=new En;function Ul(e,t){Dl.call(this,e,t),this.type="LineSegments"}function zl(e,t){Dl.call(this,e,t),this.type="LineLoop"}function Bl(e){$r.call(this),this.type="PointsMaterial",this.color=new Gr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ul.prototype=Object.assign(Object.create(Dl.prototype),{constructor:Ul,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Fl.fromBufferAttribute(t,e),jl.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Fl.distanceTo(jl);e.setAttribute("lineDistance",new si(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let e=0,r=t.length;e<r;e+=2)Fl.copy(t[e]),jl.copy(t[e+1]),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Fl.distanceTo(jl)}return this}}),zl.prototype=Object.assign(Object.create(Dl.prototype),{constructor:zl,isLineLoop:!0}),Bl.prototype=Object.create($r.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isPointsMaterial=!0,Bl.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Hl=new In,Gl=new Ar,Vl=new vr,Wl=new En;function ql(e,t){Kn.call(this),this.type="Points",this.geometry=void 0!==e?e:new yi,this.material=void 0!==t?t:new Bl,this.updateMorphTargets()}function Xl(e,t,n,r,i,o,a){const s=Gl.distanceSqToPoint(e);if(s<n){const n=new En;Gl.closestPointToPoint(e,n),n.applyMatrix4(r);const c=i.ray.origin.distanceTo(n);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a})}}function Yl(e,t,n,r,i,o,a,s,c){bn.call(this,e,t,n,r,i,o,a,s,c),this.format=void 0!==a?a:Ne,this.minFilter=void 0!==o?o:be,this.magFilter=void 0!==i?i:be,this.generateMipmaps=!1}function $l(e,t,n,r,i,o,a,s,c,u,l,h){bn.call(this,null,o,a,s,c,u,r,i,l,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Zl(e,t,n,r,i,o,a,s,c){bn.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function Jl(e,t,n,r,i,o,a,s,c,u){if(u=void 0!==u?u:ze,u!==ze&&u!==Be)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===ze&&(n=Te),void 0===n&&u===Be&&(n=Oe),bn.call(this,null,r,i,o,a,s,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:ve,this.minFilter=void 0!==s?s:ve,this.flipY=!1,this.generateMipmaps=!1}function Kl(e){yi.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],r={},i=["a","b","c"];if(e&&e.isGeometry){const o=e.faces;for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0;e<3;e++){const o=t[i[e]],a=t[i[(e+1)%3]];n[0]=Math.min(o,a),n[1]=Math.max(o,a);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const n in r){const i=r[n];let o=e.vertices[i.index1];t.push(o.x,o.y,o.z),o=e.vertices[i.index2],t.push(o.x,o.y,o.z)}}else if(e&&e.isBufferGeometry){let i=new En;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,t=s.length;e<t;++e){const t=s[e],i=t.start,o=t.count;for(let e=i,s=i+o;e<s;e+=3)for(let t=0;t<3;t++){const i=a.getX(e+t),o=a.getX(e+(t+1)%3);n[0]=Math.min(i,o),n[1]=Math.max(i,o);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const e in r){const n=r[e];i.fromBufferAttribute(o,n.index1),t.push(i.x,i.y,i.z),i.fromBufferAttribute(o,n.index2),t.push(i.x,i.y,i.z)}}else{const n=e.attributes.position;for(let e=0,r=n.count/3;e<r;e++)for(let o=0;o<3;o++){const r=3*e+o;i.fromBufferAttribute(n,r),t.push(i.x,i.y,i.z);const a=3*e+(o+1)%3;i.fromBufferAttribute(n,a),t.push(i.x,i.y,i.z)}}}this.setAttribute("position",new si(t,3))}function Ql(e,t,n){Gi.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new eh(e,t,n)),this.mergeVertices()}function eh(e,t,n){yi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const r=[],i=[],o=[],a=[],s=1e-5,c=new En,u=new En,l=new En,h=new En,f=new En;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=t+1;for(let p=0;p<=n;p++){const r=p/n;for(let n=0;n<=t;n++){const d=n/t;e(d,r,u),i.push(u.x,u.y,u.z),d-s>=0?(e(d-s,r,l),h.subVectors(u,l)):(e(d+s,r,l),h.subVectors(l,u)),r-s>=0?(e(d,r-s,l),f.subVectors(u,l)):(e(d,r+s,l),f.subVectors(l,u)),c.crossVectors(h,f).normalize(),o.push(c.x,c.y,c.z),a.push(d,r)}}for(let p=0;p<n;p++)for(let e=0;e<t;e++){const t=p*d+e,n=p*d+e+1,i=(p+1)*d+e+1,o=(p+1)*d+e;r.push(t,n,o),r.push(n,i,o)}this.setIndex(r),this.setAttribute("position",new si(i,3)),this.setAttribute("normal",new si(o,3)),this.setAttribute("uv",new si(a,2))}function th(e,t,n,r){Gi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new nh(e,t,n,r)),this.mergeVertices()}function nh(e,t,n,r){yi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;const i=[],o=[];function a(e){const n=new En,r=new En,i=new En;for(let o=0;o<t.length;o+=3)f(t[o+0],n),f(t[o+1],r),f(t[o+2],i),s(n,r,i,e)}function s(e,t,n,r){const i=Math.pow(2,r),o=[];for(let a=0;a<=i;a++){o[a]=[];const r=e.clone().lerp(n,a/i),s=t.clone().lerp(n,a/i),c=i-a;for(let e=0;e<=c;e++)o[a][e]=0===e&&a===i?r:r.clone().lerp(s,e/c)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2===0?(h(o[a][t+1]),h(o[a+1][t]),h(o[a][t])):(h(o[a][t+1]),h(o[a+1][t+1]),h(o[a+1][t]))}}function c(e){const t=new En;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}function u(){const e=new En;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=m(e)/2/Math.PI+.5,r=v(e)/Math.PI+.5;o.push(n,1-r)}d(),l()}function l(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}function h(e){i.push(e.x,e.y,e.z)}function f(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function d(){const e=new En,t=new En,n=new En,r=new En,a=new pn,s=new pn,c=new pn;for(let u=0,l=0;u<i.length;u+=9,l+=6){e.set(i[u+0],i[u+1],i[u+2]),t.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),a.set(o[l+0],o[l+1]),s.set(o[l+2],o[l+3]),c.set(o[l+4],o[l+5]),r.copy(e).add(t).add(n).divideScalar(3);const h=m(r);p(a,l+0,e,h),p(s,l+2,t,h),p(c,l+4,n,h)}}function p(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function v(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}a(r),c(n),u(),this.setAttribute("position",new si(i,3)),this.setAttribute("normal",new si(i.slice(),3)),this.setAttribute("uv",new si(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function rh(e,t){Gi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ih(e,t)),this.mergeVertices()}function ih(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];nh.call(this,n,r,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function oh(e,t){Gi.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ah(e,t)),this.mergeVertices()}function ah(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];nh.call(this,n,r,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function sh(e,t){Gi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ch(e,t)),this.mergeVertices()}function ch(e,t){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];nh.call(this,r,i,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function uh(e,t){Gi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new lh(e,t)),this.mergeVertices()}function lh(e,t){const n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];nh.call(this,i,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function hh(e,t,n,r,i,o){Gi.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new fh(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function fh(e,t,n,r,i){yi.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new En,s=new En,c=new pn;let u=new En;const l=[],h=[],f=[],d=[];function p(){for(let e=0;e<t;e++)m(e);m(!1===i?t:0),g(),v()}function m(i){u=e.getPointAt(i/t,u);const c=o.normals[i],f=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*c.x+i*f.x,s.y=o*c.y+i*f.y,s.z=o*c.z+i*f.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=u.x+n*s.x,a.y=u.y+n*s.y,a.z=u.z+n*s.z,l.push(a.x,a.y,a.z)}}function v(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;d.push(n,i,a),d.push(i,o,a)}}function g(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)c.x=e/t,c.y=n/r,f.push(c.x,c.y)}p(),this.setIndex(d),this.setAttribute("position",new si(l,3)),this.setAttribute("normal",new si(h,3)),this.setAttribute("uv",new si(f,2))}function dh(e,t,n,r,i,o,a){Gi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ph(e,t,n,r,i,o)),this.mergeVertices()}function ph(e,t,n,r,i,o){yi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;const a=[],s=[],c=[],u=[],l=new En,h=new En,f=new En,d=new En,p=new En,m=new En,v=new En;for(let y=0;y<=n;++y){const a=y/n*i*Math.PI*2;g(a,i,o,e,f),g(a+.01,i,o,e,d),m.subVectors(d,f),v.addVectors(d,f),p.crossVectors(m,v),v.crossVectors(p,m),p.normalize(),v.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),a=t*Math.sin(i);l.x=f.x+(o*v.x+a*p.x),l.y=f.y+(o*v.y+a*p.y),l.z=f.z+(o*v.z+a*p.z),s.push(l.x,l.y,l.z),h.subVectors(l,f).normalize(),c.push(h.x,h.y,h.z),u.push(y/n),u.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;a.push(t,n,o),a.push(n,i,o)}function g(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new si(s,3)),this.setAttribute("normal",new si(c,3)),this.setAttribute("uv",new si(u,2))}function mh(e,t,n,r,i){Gi.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new vh(e,t,n,r,i)),this.mergeVertices()}function vh(e,t,n,r,i){yi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;const o=[],a=[],s=[],c=[],u=new En,l=new En,h=new En;for(let f=0;f<=n;f++)for(let o=0;o<=r;o++){const d=o/r*i,p=f/n*Math.PI*2;l.x=(e+t*Math.cos(p))*Math.cos(d),l.y=(e+t*Math.cos(p))*Math.sin(d),l.z=t*Math.sin(p),a.push(l.x,l.y,l.z),u.x=e*Math.cos(d),u.y=e*Math.sin(d),h.subVectors(l,u).normalize(),s.push(h.x,h.y,h.z),c.push(o/r),c.push(f/n)}for(let f=1;f<=n;f++)for(let e=1;e<=r;e++){const t=(r+1)*f+e-1,n=(r+1)*(f-1)+e-1,i=(r+1)*(f-1)+e,a=(r+1)*f+e;o.push(t,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new si(a,3)),this.setAttribute("normal",new si(s,3)),this.setAttribute("uv",new si(c,2))}ql.prototype=Object.assign(Object.create(Kn.prototype),{constructor:ql,isPoints:!0,copy:function(e){return Kn.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Vl.copy(n.boundingSphere),Vl.applyMatrix4(r),Vl.radius+=i,!1===e.ray.intersectsSphere(Vl))return;Hl.getInverse(r),Gl.copy(e.ray).applyMatrix4(Hl);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){const i=n.index,o=n.attributes,s=o.position.array;if(null!==i){const n=i.array;for(let i=0,o=n.length;i<o;i++){const o=n[i];Wl.fromArray(s,3*o),Xl(Wl,o,a,r,e,t,this)}}else for(let n=0,c=s.length/3;n<c;n++)Wl.fromArray(s,3*n),Xl(Wl,n,a,r,e,t,this)}else{const i=n.vertices;for(let n=0,o=i.length;n<o;n++)Xl(i[n],n,a,r,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Yl.prototype=Object.assign(Object.create(bn.prototype),{constructor:Yl,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),$l.prototype=Object.create(bn.prototype),$l.prototype.constructor=$l,$l.prototype.isCompressedTexture=!0,Zl.prototype=Object.create(bn.prototype),Zl.prototype.constructor=Zl,Zl.prototype.isCanvasTexture=!0,Jl.prototype=Object.create(bn.prototype),Jl.prototype.constructor=Jl,Jl.prototype.isDepthTexture=!0,Kl.prototype=Object.create(yi.prototype),Kl.prototype.constructor=Kl,Ql.prototype=Object.create(Gi.prototype),Ql.prototype.constructor=Ql,eh.prototype=Object.create(yi.prototype),eh.prototype.constructor=eh,th.prototype=Object.create(Gi.prototype),th.prototype.constructor=th,nh.prototype=Object.create(yi.prototype),nh.prototype.constructor=nh,rh.prototype=Object.create(Gi.prototype),rh.prototype.constructor=rh,ih.prototype=Object.create(nh.prototype),ih.prototype.constructor=ih,oh.prototype=Object.create(Gi.prototype),oh.prototype.constructor=oh,ah.prototype=Object.create(nh.prototype),ah.prototype.constructor=ah,sh.prototype=Object.create(Gi.prototype),sh.prototype.constructor=sh,ch.prototype=Object.create(nh.prototype),ch.prototype.constructor=ch,uh.prototype=Object.create(Gi.prototype),uh.prototype.constructor=uh,lh.prototype=Object.create(nh.prototype),lh.prototype.constructor=lh,hh.prototype=Object.create(Gi.prototype),hh.prototype.constructor=hh,fh.prototype=Object.create(yi.prototype),fh.prototype.constructor=fh,fh.prototype.toJSON=function(){const e=yi.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},dh.prototype=Object.create(Gi.prototype),dh.prototype.constructor=dh,ph.prototype=Object.create(yi.prototype),ph.prototype.constructor=ph,mh.prototype=Object.create(Gi.prototype),mh.prototype.constructor=mh,vh.prototype=Object.create(yi.prototype),vh.prototype.constructor=vh;const gh={triangulate:function(e,t,n){n=n||2;let r,i,o,a,s,c,u,l=t&&t.length,h=l?t[0]*n:e.length,f=yh(e,0,h,n,!0),d=[];if(!f||f.next===f.prev)return d;if(l&&(f=Th(e,t,f,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(let t=n;t<h;t+=n)s=e[t],c=e[t+1],s<r&&(r=s),c<i&&(i=c),s>o&&(o=s),c>a&&(a=c);u=Math.max(o-r,a-i),u=0!==u?1/u:0}return _h(f,d,n,r,i,u),d}};function yh(e,t,n,r,i){let o,a;if(i===Yh(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Wh(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Wh(o,e[o],e[o+1],a);return a&&Fh(a,a.next)&&(qh(a),a=a.next),a}function bh(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Fh(r,r.next)&&0!==Dh(r.prev,r,r.next))r=r.next;else{if(qh(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function _h(e,t,n,r,i,o,a){if(!e)return;!a&&o&&Rh(e,r,i,o);let s,c,u=e;while(e.prev!==e.next)if(s=e.prev,c=e.next,o?wh(e,r,i,o):xh(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),qh(e),e=c.next,u=c.next;else if(e=c,e===u){a?1===a?(e=Sh(bh(e),t,n),_h(e,t,n,r,i,o,2)):2===a&&Ah(e,t,n,r,i,o):_h(bh(e),t,n,r,i,o,1);break}}function xh(e){let t=e.prev,n=e,r=e.next;if(Dh(t,n,r)>=0)return!1;let i=e.next.next;while(i!==e.prev){if(Ih(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Dh(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function wh(e,t,n,r){let i=e.prev,o=e,a=e.next;if(Dh(i,o,a)>=0)return!1;let s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Lh(s,c,t,n,r),f=Lh(u,l,t,n,r),d=e.prevZ,p=e.nextZ;while(d&&d.z>=h&&p&&p.z<=f){if(d!==e.prev&&d!==e.next&&Ih(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Dh(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Ih(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Dh(p.prev,p,p.next)>=0)return!1;p=p.nextZ}while(d&&d.z>=h){if(d!==e.prev&&d!==e.next&&Ih(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Dh(d.prev,d,d.next)>=0)return!1;d=d.prevZ}while(p&&p.z<=f){if(p!==e.prev&&p!==e.next&&Ih(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Dh(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Sh(e,t,n){let r=e;do{let i=r.prev,o=r.next.next;!Fh(i,o)&&jh(i,r,r.next,o)&&Hh(i,o)&&Hh(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),qh(r),qh(r.next),r=e=o),r=r.next}while(r!==e);return bh(r)}function Ah(e,t,n,r,i,o){let a=e;do{let e=a.next.next;while(e!==a.prev){if(a.i!==e.i&&Nh(a,e)){let s=Vh(a,e);return a=bh(a,a.next),s=bh(s,s.next),_h(a,t,n,r,i,o),void _h(s,t,n,r,i,o)}e=e.next}a=a.next}while(a!==e)}function Th(e,t,n,r){let i,o,a,s,c,u=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,c=yh(e,a,s,r,!1),c===c.next&&(c.steiner=!0),u.push(Oh(c));for(u.sort(Eh),i=0;i<u.length;i++)Mh(u[i],n),n=bh(n,n.next);return n}function Eh(e,t){return e.x-t.x}function Mh(e,t){if(t=Ph(e,t),t){const n=Vh(t,e);bh(t,t.next),bh(n,n.next)}}function Ph(e,t){let n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=i&&e>a){if(a=e,e===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;let s,c=n,u=n.x,l=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&Ih(o<l?i:a,o,u,l,o<l?a:i,o,r.x,r.y)&&(s=Math.abs(o-r.y)/(i-r.x),Hh(r,e)&&(s<h||s===h&&(r.x>n.x||r.x===n.x&&Ch(n,r)))&&(n=r,h=s)),r=r.next}while(r!==c);return n}function Ch(e,t){return Dh(e.prev,e,t.prev)<0&&Dh(t.next,e,e.next)<0}function Rh(e,t,n,r){let i=e;do{null===i.z&&(i.z=Lh(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,kh(i)}function kh(e){let t,n,r,i,o,a,s,c,u=1;do{n=e,e=null,o=null,a=0;while(n){for(a++,r=n,s=0,t=0;t<u;t++)if(s++,r=r.nextZ,!r)break;c=u;while(s>0||c>0&&r)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return e}function Lh(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Oh(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ih(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Nh(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Bh(e,t)&&(Hh(e,t)&&Hh(t,e)&&Gh(e,t)&&(Dh(e.prev,e,t.prev)||Dh(e,t.prev,t))||Fh(e,t)&&Dh(e.prev,e,e.next)>0&&Dh(t.prev,t,t.next)>0)}function Dh(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Fh(e,t){return e.x===t.x&&e.y===t.y}function jh(e,t,n,r){const i=zh(Dh(e,t,n)),o=zh(Dh(e,t,r)),a=zh(Dh(n,r,e)),s=zh(Dh(n,r,t));return i!==o&&a!==s||(!(0!==i||!Uh(e,n,t))||(!(0!==o||!Uh(e,r,t))||(!(0!==a||!Uh(n,e,r))||!(0!==s||!Uh(n,t,r)))))}function Uh(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zh(e){return e>0?1:e<0?-1:0}function Bh(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&jh(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function Hh(e,t){return Dh(e.prev,e,e.next)<0?Dh(e,t,e.next)>=0&&Dh(e,e.prev,t)>=0:Dh(e,t,e.prev)<0||Dh(e,e.next,t)<0}function Gh(e,t){let n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function Vh(e,t){let n=new Xh(e.i,e.x,e.y),r=new Xh(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Wh(e,t,n,r){const i=new Xh(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qh(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xh(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Yh(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}const $h={area:function(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return $h.area(e)<0},triangulateShape:function(e,t){const n=[],r=[],i=[];Zh(e),Jh(n,e);let o=e.length;t.forEach(Zh);for(let s=0;s<t.length;s++)r.push(o),o+=t[s].length,Jh(n,t[s]);const a=gh.triangulate(n,r);for(let s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}};function Zh(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Jh(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Kh(e,t){Gi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Qh(e,t)),this.mergeVertices()}function Qh(e,t){yi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,s=e.length;a<s;a++){const t=e[a];o(t)}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let c=void 0!==t.depth?t.depth:100,u=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:l-2,f=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:ef;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);let v,g,y,b,_,x=!1;p&&(v=p.getSpacedPoints(s),x=!0,u=!1,g=p.computeFrenetFrames(s,!1),y=new En,b=new En,_=new En),u||(d=0,l=0,h=0,f=0);const w=e.extractPoints(a);let S=w.shape;const A=w.holes,T=!$h.isClockWise(S);if(T){S=S.reverse();for(let e=0,t=A.length;e<t;e++){const t=A[e];$h.isClockWise(t)&&(A[e]=t.reverse())}}const E=$h.triangulateShape(S,A),M=S;for(let t=0,n=A.length;t<n;t++){const e=A[t];S=S.concat(e)}function P(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const C=S.length,R=E.length;function k(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,c=n.x-e.x,u=n.y-e.y,l=a*a+s*s,h=a*u-s*c;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(l),f=Math.sqrt(c*c+u*u),d=t.x-s/h,p=t.y+a/h,m=n.x-u/f,v=n.y+c/f,g=((m-d)*u-(v-p)*c)/(a*u-s*c);r=d+a*g-e.x,i=p+s*g-e.y;const y=r*r+i*i;if(y<=2)return new pn(r,i);o=Math.sqrt(y/2)}else{let e=!1;a>Number.EPSILON?c>Number.EPSILON&&(e=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(u)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new pn(r/o,i/o)}const L=[];for(let t=0,n=M.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),L[t]=k(M[t],M[r],M[i]);const O=[];let I,N=L.concat();for(let t=0,n=A.length;t<n;t++){const e=A[t];I=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=k(e[t],e[r],e[i]);O.push(I),N=N.concat(I)}for(let t=0;t<d;t++){const e=t/d,n=l*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=M.length;t<i;t++){const e=P(M[t],L[t],r);z(e.x,e.y,-n)}for(let t=0,i=A.length;t<i;t++){const e=A[t];I=O[t];for(let t=0,i=e.length;t<i;t++){const i=P(e[t],I[t],r);z(i.x,i.y,-n)}}}const D=h+f;for(let t=0;t<C;t++){const e=u?P(S[t],N[t],D):S[t];x?(b.copy(g.normals[0]).multiplyScalar(e.x),y.copy(g.binormals[0]).multiplyScalar(e.y),_.copy(v[0]).add(b).add(y),z(_.x,_.y,_.z)):z(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<C;e++){const n=u?P(S[e],N[e],D):S[e];x?(b.copy(g.normals[t]).multiplyScalar(n.x),y.copy(g.binormals[t]).multiplyScalar(n.y),_.copy(v[t]).add(b).add(y),z(_.x,_.y,_.z)):z(n.x,n.y,c/s*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=l*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=M.length;t<i;t++){const e=P(M[t],L[t],r);z(e.x,e.y,c+n)}for(let t=0,i=A.length;t<i;t++){const e=A[t];I=O[t];for(let t=0,i=e.length;t<i;t++){const i=P(e[t],I[t],r);x?z(i.x,i.y+v[s-1].y,v[s-1].x+n):z(i.x,i.y,c+n)}}}function F(){const e=r.length/3;if(u){let e=0,t=C*e;for(let n=0;n<R;n++){const e=E[n];B(e[2]+t,e[1]+t,e[0]+t)}e=s+2*d,t=C*e;for(let n=0;n<R;n++){const e=E[n];B(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<R;e++){const t=E[e];B(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=E[e];B(t[0]+C*s,t[1]+C*s,t[2]+C*s)}}n.addGroup(e,r.length/3-e,0)}function j(){const e=r.length/3;let t=0;U(M,t),t+=M.length;for(let n=0,r=A.length;n<r;n++){const e=A[n];U(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}function U(e,t){let n=e.length;while(--n>=0){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*d;e<n;e++){const n=C*e,o=C*(e+1),a=t+r+n,s=t+i+n,c=t+i+o,u=t+r+o;H(a,s,c,u)}}}function z(e,t,n){o.push(e),o.push(t),o.push(n)}function B(e,t,i){G(e),G(t),G(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);V(a[0]),V(a[1]),V(a[2])}function H(e,t,i,o){G(e),G(t),G(o),G(t),G(i),G(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);V(s[0]),V(s[1]),V(s[3]),V(s[1]),V(s[2]),V(s[3])}function G(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function V(e){i.push(e.x),i.push(e.y)}F(),j()}this.setAttribute("position",new si(r,3)),this.setAttribute("uv",new si(i,2)),this.computeVertexNormals()}Kh.prototype=Object.create(Gi.prototype),Kh.prototype.constructor=Kh,Kh.prototype.toJSON=function(){const e=Gi.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return tf(t,n,e)},Qh.prototype=Object.create(yi.prototype),Qh.prototype.constructor=Qh,Qh.prototype.toJSON=function(){const e=yi.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return tf(t,n,e)};const ef={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],c=t[3*r+1],u=t[3*i],l=t[3*i+1];return[new pn(o,a),new pn(s,c),new pn(u,l)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],c=t[3*n+2],u=t[3*r],l=t[3*r+1],h=t[3*r+2],f=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-l)<.01?[new pn(a,1-c),new pn(u,1-h),new pn(f,1-p),new pn(m,1-g)]:[new pn(s,1-c),new pn(l,1-h),new pn(d,1-p),new pn(v,1-g)]}};function tf(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function nf(e,t){Gi.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new rf(e,t)),this.mergeVertices()}function rf(e,t){t=t||{};const n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Gi;const r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Qh.call(this,r,t),this.type="TextBufferGeometry"}function of(e,t,n,r,i,o,a){Gi.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new af(e,t,n,r,i,o,a)),this.mergeVertices()}function af(e,t,n,r,i,o,a){yi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;const s=Math.min(o+a,Math.PI);let c=0;const u=[],l=new En,h=new En,f=[],d=[],p=[],m=[];for(let v=0;v<=n;v++){const f=[],g=v/n;let y=0;0==v&&0==o?y=.5/t:v==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;l.x=-e*Math.cos(r+s*i)*Math.sin(o+g*a),l.y=e*Math.cos(o+g*a),l.z=e*Math.sin(r+s*i)*Math.sin(o+g*a),d.push(l.x,l.y,l.z),h.copy(l).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-g),f.push(c++)}u.push(f)}for(let v=0;v<n;v++)for(let e=0;e<t;e++){const t=u[v][e+1],r=u[v][e],i=u[v+1][e],a=u[v+1][e+1];(0!==v||o>0)&&f.push(t,r,a),(v!==n-1||s<Math.PI)&&f.push(r,i,a)}this.setIndex(f),this.setAttribute("position",new si(d,3)),this.setAttribute("normal",new si(p,3)),this.setAttribute("uv",new si(m,2))}function sf(e,t,n,r,i,o){Gi.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new cf(e,t,n,r,i,o)),this.mergeVertices()}function cf(e,t,n,r,i,o){yi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;const a=[],s=[],c=[],u=[];let l=e;const h=(t-e)/r,f=new En,d=new pn;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*o;f.x=l*Math.cos(r),f.y=l*Math.sin(r),s.push(f.x,f.y,f.z),c.push(0,0,1),d.x=(f.x/t+1)/2,d.y=(f.y/t+1)/2,u.push(d.x,d.y)}l+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,c=r+1;a.push(i,o,c),a.push(o,s,c)}}this.setIndex(a),this.setAttribute("position",new si(s,3)),this.setAttribute("normal",new si(c,3)),this.setAttribute("uv",new si(u,2))}function uf(e,t,n,r){Gi.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new lf(e,t,n,r)),this.mergeVertices()}function lf(e,t,n,r){yi.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=dn.clamp(r,0,2*Math.PI);const i=[],o=[],a=[],s=1/t,c=new En,u=new pn;for(let l=0;l<=t;l++){const i=n+l*s*r,h=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++)c.x=e[n].x*h,c.y=e[n].y,c.z=e[n].x*f,o.push(c.x,c.y,c.z),u.x=l/t,u.y=n/(e.length-1),a.push(u.x,u.y)}for(let l=0;l<t;l++)for(let t=0;t<e.length-1;t++){const n=t+l*e.length,r=n,o=n+e.length,a=n+e.length+1,s=n+1;i.push(r,o,s),i.push(o,a,s)}if(this.setIndex(i),this.setAttribute("position",new si(o,3)),this.setAttribute("uv",new si(a,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new En,i=new En,o=new En,a=t*e.length*3;for(let t=0,s=0;t<e.length;t++,s+=3)r.x=n[s+0],r.y=n[s+1],r.z=n[s+2],i.x=n[a+s+0],i.y=n[a+s+1],i.z=n[a+s+2],o.addVectors(r,i).normalize(),n[s+0]=n[a+s+0]=o.x,n[s+1]=n[a+s+1]=o.y,n[s+2]=n[a+s+2]=o.z}}function hf(e,t){Gi.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new ff(e,t)),this.mergeVertices()}function ff(e,t){yi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,s,u),a+=s,s=0;function c(e){const a=r.length/3,c=e.extractPoints(t);let u=c.shape;const l=c.holes;!1===$h.isClockWise(u)&&(u=u.reverse());for(let t=0,n=l.length;t<n;t++){const e=l[t];!0===$h.isClockWise(e)&&(l[t]=e.reverse())}const h=$h.triangulateShape(u,l);for(let t=0,n=l.length;t<n;t++){const e=l[t];u=u.concat(e)}for(let t=0,n=u.length;t<n;t++){const e=u[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new si(r,3)),this.setAttribute("normal",new si(i,3)),this.setAttribute("uv",new si(o,2))}function df(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function pf(e,t){yi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;const n=[],r=Math.cos(dn.DEG2RAD*t),i=[0,0],o={};let a,s,c;const u=["a","b","c"];let l;e.isBufferGeometry?(l=new Gi,l.fromBufferGeometry(e)):l=e.clone(),l.mergeVertices(),l.computeFaceNormals();const h=l.vertices,f=l.faces;for(let d=0,p=f.length;d<p;d++){const e=f[d];for(let t=0;t<3;t++)a=e[u[t]],s=e[u[(t+1)%3]],i[0]=Math.min(a,s),i[1]=Math.max(a,s),c=i[0]+","+i[1],void 0===o[c]?o[c]={index1:i[0],index2:i[1],face1:d,face2:void 0}:o[c].face2=d}for(c in o){const e=o[c];if(void 0===e.face2||f[e.face1].normal.dot(f[e.face2].normal)<=r){let t=h[e.index1];n.push(t.x,t.y,t.z),t=h[e.index2],n.push(t.x,t.y,t.z)}}this.setAttribute("position",new si(n,3))}function mf(e,t,n,r,i,o,a,s){Gi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new vf(e,t,n,r,i,o,a,s)),this.mergeVertices()}function vf(e,t,n,r,i,o,a,s){yi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;const u=[],l=[],h=[],f=[];let d=0;const p=[],m=n/2;let v=0;function g(){const o=new En,g=new En;let y=0;const b=(t-e)/n;for(let c=0;c<=i;c++){const u=[],v=c/i,y=v*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,c=Math.sin(i),p=Math.cos(i);g.x=y*c,g.y=-v*n+m,g.z=y*p,l.push(g.x,g.y,g.z),o.set(c,b,p).normalize(),h.push(o.x,o.y,o.z),f.push(t,1-v),u.push(d++)}p.push(u)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];u.push(n,r,o),u.push(r,i,o),y+=6}c.addGroup(v,y,0),v+=y}function y(n){let i,o;const p=new pn,g=new En;let y=0;const b=!0===n?e:t,_=!0===n?1:-1;i=d;for(let e=1;e<=r;e++)l.push(0,m*_,0),h.push(0,_,0),f.push(.5,.5),d++;o=d;for(let e=0;e<=r;e++){const t=e/r,n=t*s+a,i=Math.cos(n),o=Math.sin(n);g.x=b*o,g.y=m*_,g.z=b*i,l.push(g.x,g.y,g.z),h.push(0,_,0),p.x=.5*i+.5,p.y=.5*o*_+.5,f.push(p.x,p.y),d++}for(let e=0;e<r;e++){const t=i+e,r=o+e;!0===n?u.push(r,r+1,t):u.push(r+1,r,t),y+=3}c.addGroup(v,y,!0===n?1:2),v+=y}g(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(u),this.setAttribute("position",new si(l,3)),this.setAttribute("normal",new si(h,3)),this.setAttribute("uv",new si(f,2))}function gf(e,t,n,r,i,o,a){mf.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function yf(e,t,n,r,i,o,a){vf.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function bf(e,t,n,r){Gi.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new _f(e,t,n,r)),this.mergeVertices()}function _f(e,t,n,r){yi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;const i=[],o=[],a=[],s=[],c=new En,u=new pn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let l=0,h=3;l<=t;l++,h+=3){const i=n+l/t*r;c.x=e*Math.cos(i),c.y=e*Math.sin(i),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,s.push(u.x,u.y)}for(let l=1;l<=t;l++)i.push(l,l+1,0);this.setIndex(i),this.setAttribute("position",new si(o,3)),this.setAttribute("normal",new si(a,3)),this.setAttribute("uv",new si(s,2))}nf.prototype=Object.create(Gi.prototype),nf.prototype.constructor=nf,rf.prototype=Object.create(Qh.prototype),rf.prototype.constructor=rf,of.prototype=Object.create(Gi.prototype),of.prototype.constructor=of,af.prototype=Object.create(yi.prototype),af.prototype.constructor=af,sf.prototype=Object.create(Gi.prototype),sf.prototype.constructor=sf,cf.prototype=Object.create(yi.prototype),cf.prototype.constructor=cf,uf.prototype=Object.create(Gi.prototype),uf.prototype.constructor=uf,lf.prototype=Object.create(yi.prototype),lf.prototype.constructor=lf,hf.prototype=Object.create(Gi.prototype),hf.prototype.constructor=hf,hf.prototype.toJSON=function(){const e=Gi.prototype.toJSON.call(this),t=this.parameters.shapes;return df(t,e)},ff.prototype=Object.create(yi.prototype),ff.prototype.constructor=ff,ff.prototype.toJSON=function(){const e=yi.prototype.toJSON.call(this),t=this.parameters.shapes;return df(t,e)},pf.prototype=Object.create(yi.prototype),pf.prototype.constructor=pf,mf.prototype=Object.create(Gi.prototype),mf.prototype.constructor=mf,vf.prototype=Object.create(yi.prototype),vf.prototype.constructor=vf,gf.prototype=Object.create(mf.prototype),gf.prototype.constructor=gf,yf.prototype=Object.create(vf.prototype),yf.prototype.constructor=yf,bf.prototype=Object.create(Gi.prototype),bf.prototype.constructor=bf,_f.prototype=Object.create(yi.prototype),_f.prototype.constructor=_f;var xf=Object.freeze({__proto__:null,WireframeGeometry:Kl,ParametricGeometry:Ql,ParametricBufferGeometry:eh,TetrahedronGeometry:rh,TetrahedronBufferGeometry:ih,OctahedronGeometry:oh,OctahedronBufferGeometry:ah,IcosahedronGeometry:sh,IcosahedronBufferGeometry:ch,DodecahedronGeometry:uh,DodecahedronBufferGeometry:lh,PolyhedronGeometry:th,PolyhedronBufferGeometry:nh,TubeGeometry:hh,TubeBufferGeometry:fh,TorusKnotGeometry:dh,TorusKnotBufferGeometry:ph,TorusGeometry:mh,TorusBufferGeometry:vh,TextGeometry:nf,TextBufferGeometry:rf,SphereGeometry:of,SphereBufferGeometry:af,RingGeometry:sf,RingBufferGeometry:cf,PlaneGeometry:ho,PlaneBufferGeometry:fo,LatheGeometry:uf,LatheBufferGeometry:lf,ShapeGeometry:hf,ShapeBufferGeometry:ff,ExtrudeGeometry:Kh,ExtrudeBufferGeometry:Qh,EdgesGeometry:pf,ConeGeometry:gf,ConeBufferGeometry:yf,CylinderGeometry:mf,CylinderBufferGeometry:vf,CircleGeometry:bf,CircleBufferGeometry:_f,BoxGeometry:Vi,BoxBufferGeometry:Wi});function wf(e){$r.call(this),this.type="ShadowMaterial",this.color=new Gr(0),this.transparent=!0,this.setValues(e)}function Sf(e){Ji.call(this,e),this.type="RawShaderMaterial"}function Af(e){$r.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Gr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=on,this.normalScale=new pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Tf(e){Af.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function Ef(e){$r.call(this),this.type="MeshPhongMaterial",this.color=new Gr(16777215),this.specular=new Gr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=on,this.normalScale=new pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Mf(e){$r.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Gr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=on,this.normalScale=new pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Pf(e){$r.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=on,this.normalScale=new pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cf(e){$r.call(this),this.type="MeshLambertMaterial",this.color=new Gr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Gr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=J,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rf(e){$r.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Gr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=on,this.normalScale=new pn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kf(e){Rl.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}wf.prototype=Object.create($r.prototype),wf.prototype.constructor=wf,wf.prototype.isShadowMaterial=!0,wf.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this},Sf.prototype=Object.create(Ji.prototype),Sf.prototype.constructor=Sf,Sf.prototype.isRawShaderMaterial=!0,Af.prototype=Object.create($r.prototype),Af.prototype.constructor=Af,Af.prototype.isMeshStandardMaterial=!0,Af.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Tf.prototype=Object.create(Af.prototype),Tf.prototype.constructor=Tf,Tf.prototype.isMeshPhysicalMaterial=!0,Tf.prototype.copy=function(e){return Af.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Gr).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},Ef.prototype=Object.create($r.prototype),Ef.prototype.constructor=Ef,Ef.prototype.isMeshPhongMaterial=!0,Ef.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Mf.prototype=Object.create($r.prototype),Mf.prototype.constructor=Mf,Mf.prototype.isMeshToonMaterial=!0,Mf.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Pf.prototype=Object.create($r.prototype),Pf.prototype.constructor=Pf,Pf.prototype.isMeshNormalMaterial=!0,Pf.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Cf.prototype=Object.create($r.prototype),Cf.prototype.constructor=Cf,Cf.prototype.isMeshLambertMaterial=!0,Cf.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rf.prototype=Object.create($r.prototype),Rf.prototype.constructor=Rf,Rf.prototype.isMeshMatcapMaterial=!0,Rf.prototype.copy=function(e){return $r.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kf.prototype=Object.create(Rl.prototype),kf.prototype.constructor=kf,kf.prototype.isLineDashedMaterial=!0,kf.prototype.copy=function(e){return Rl.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Lf=Object.freeze({__proto__:null,ShadowMaterial:wf,SpriteMaterial:tl,RawShaderMaterial:Sf,ShaderMaterial:Ji,PointsMaterial:Bl,MeshPhysicalMaterial:Tf,MeshStandardMaterial:Af,MeshPhongMaterial:Ef,MeshToonMaterial:Mf,MeshNormalMaterial:Pf,MeshLambertMaterial:Cf,MeshDepthMaterial:Nu,MeshDistanceMaterial:Du,MeshBasicMaterial:Zr,MeshMatcapMaterial:Rf,LineDashedMaterial:kf,LineBasicMaterial:Rl,Material:$r});const Of={arraySlice:function(e,t,n){return Of.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}const n=e.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i},flattenJSON:function(e,t,n,r){let i=1,o=e[0];while(void 0!==o&&void 0===o[r])o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)},subclip:function(e,t,n,r,i){i=i||30;const o=e.clone();o.name=t;const a=[];for(let c=0;c<o.tracks.length;++c){const e=o.tracks[c],t=e.getValueSize(),s=[],u=[];for(let o=0;o<e.times.length;++o){const a=e.times[o]*i;if(!(a<n||a>=r)){s.push(e.times[o]);for(let n=0;n<t;++n)u.push(e.values[o*t+n])}}0!==s.length&&(e.times=Of.convertArray(s,e.times.constructor),e.values=Of.convertArray(u,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let c=0;c<o.tracks.length;++c)s>o.tracks[c].times[0]&&(s=o.tracks[c].times[0]);for(let c=0;c<o.tracks.length;++c)o.tracks[c].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);const i=e.tracks.length,o=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;const s=t.getValueSize(),c=t.times.length-1;let u;if(o<=t.times[0])u=Of.arraySlice(t.values,0,t.valueSize);else if(o>=t.times[c]){const e=c*s;u=Of.arraySlice(t.values,e)}else{const e=t.createInterpolant();e.evaluate(o),u=e.resultBuffer}if("quaternion"===r){const e=new Sn(u[0],u[1],u[2],u[3]).normalize().conjugate();e.toArray(u)}const l=i.times.length;for(let e=0;e<l;++e){const t=e*s;if("quaternion"===r)Sn.multiplyQuaternionsFlat(i.values,t,u,0,i.values,t);else for(let e=0;e<s;++e)i.values[t+e]-=u[e]}}return e.blendMode=Vt,e}};function If(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Nf(e,t,n,r){If.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Df(e,t,n,r){If.call(this,e,t,n,r)}function Ff(e,t,n,r){If.call(this,e,t,n,r)}function jf(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Of.convertArray(t,this.TimeBufferType),this.values=Of.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Uf(e,t,n){jf.call(this,e,t,n)}function zf(e,t,n,r){jf.call(this,e,t,n,r)}function Bf(e,t,n,r){jf.call(this,e,t,n,r)}function Hf(e,t,n,r){If.call(this,e,t,n,r)}function Gf(e,t,n,r){jf.call(this,e,t,n,r)}function Vf(e,t,n,r){jf.call(this,e,t,n,r)}function Wf(e,t,n,r){jf.call(this,e,t,n,r)}function qf(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:Gt,this.uuid=dn.generateUUID(),this.duration<0&&this.resetDuration()}function Xf(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bf;case"vector":case"vector2":case"vector3":case"vector4":return Wf;case"color":return zf;case"quaternion":return Gf;case"bool":case"boolean":return Uf;case"string":return Vf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function Yf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=Xf(e.type);if(void 0===e.times){const t=[],n=[];Of.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(If.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}while(n<o){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(If.prototype,{beforeStart_:If.prototype.copySampleValue_,afterEnd_:If.prototype.copySampleValue_}),Nf.prototype=Object.assign(Object.create(If.prototype),{constructor:Nf,DefaultSettings_:{endingStart:zt,endingEnd:zt},intervalChanged_:function(e,t,n){let r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Bt:i=e,a=2*t-n;break;case Ht:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Bt:o=e,s=2*n-t;break;case Ht:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,v=-h*m+2*h*p-h*d,g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,b=f*m-f*p;for(let _=0;_!==a;++_)i[_]=v*o[u+_]+g*o[c+_]+y*o[s+_]+b*o[l+_];return i}}),Df.prototype=Object.assign(Object.create(If.prototype),{constructor:Df,interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=(n-t)/(r-t),l=1-u;for(let h=0;h!==a;++h)i[h]=o[c+h]*l+o[s+h]*u;return i}}),Ff.prototype=Object.assign(Object.create(If.prototype),{constructor:Ff,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(jf,{toJSON:function(e){const t=e.constructor;let n;if(void 0!==t.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Of.convertArray(e.times,Array),values:Of.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}}),Object.assign(jf.prototype,{constructor:jf,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:jt,InterpolantFactoryMethodDiscrete:function(e){return new Ff(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Df(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Nf(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Ft:t=this.InterpolantFactoryMethodDiscrete;break;case jt:t=this.InterpolantFactoryMethodLinear;break;case Ut:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ft;case this.InterpolantFactoryMethodLinear:return jt;case this.InterpolantFactoryMethodSmooth:return Ut}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this},scale:function(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,r=n.length;let i=0,o=r-1;while(i!==r&&n[i]<e)++i;while(-1!==o&&n[o]>t)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=Of.arraySlice(n,i,o),this.values=Of.arraySlice(this.values,i*e,o*e)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&Of.isTypedArray(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e},optimize:function(){const e=Of.arraySlice(this.times),t=Of.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ut,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a],c=e[a+1];if(s!==c&&(1!==a||s!==s[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=Of.arraySlice(e,0,o),this.values=Of.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=Of.arraySlice(this.times,0),t=Of.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),Uf.prototype=Object.assign(Object.create(jf.prototype),{constructor:Uf,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ft,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zf.prototype=Object.assign(Object.create(jf.prototype),{constructor:zf,ValueTypeName:"color"}),Bf.prototype=Object.assign(Object.create(jf.prototype),{constructor:Bf,ValueTypeName:"number"}),Hf.prototype=Object.assign(Object.create(If.prototype),{constructor:Hf,interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Sn.slerpFlat(i,0,o,c-a,o,c,s);return i}}),Gf.prototype=Object.assign(Object.create(jf.prototype),{constructor:Gf,ValueTypeName:"quaternion",DefaultInterpolation:jt,InterpolantFactoryMethodLinear:function(e){return new Hf(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Vf.prototype=Object.assign(Object.create(jf.prototype),{constructor:Vf,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ft,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Wf.prototype=Object.assign(Object.create(jf.prototype),{constructor:Wf,ValueTypeName:"vector"}),Object.assign(qf,{parse:function(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let i=0,o=n.length;i!==o;++i)t.push(Yf(n[i]).scale(r));return new qf(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(jf.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){const i=t.length,o=[];for(let a=0;a<i;a++){let e=[],s=[];e.push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0);const c=Of.getKeyframeOrder(e);e=Of.sortedArray(e,1,c),s=Of.sortedArray(s,1,c),r||0!==e[0]||(e.push(i),s.push(s[0])),o.push(new Bf(".morphTargetInfluences["+t[a].name+"]",e,s).scale(1/n))}return new qf(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const a in r)o.push(qf.CreateFromMorphTargetSequence(a,r[a],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];Of.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const c=e.hierarchy||[];for(let l=0;l<c.length;l++){const e=c[l].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new Bf(".morphTargetInfluence["+i+"]",t,o))}s=t.length*(o||1)}else{const i=".bones["+t[l].name+"]";n(Wf,i+".position",e,"pos",r),n(Gf,i+".quaternion",e,"rot",r),n(Wf,i+".scale",e,"scl",r)}}if(0===r.length)return null;const u=new qf(i,s,r,a);return u}}),Object.assign(qf.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new qf(this.name,this.duration,e,this.blendMode)}});const $f={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Zf(e,t,n){const r=this;let i=!1,o=0,a=0,s=void 0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){const t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=c.length;t<n;t+=2){const n=c[t],r=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}const Jf=new Zf;function Kf(e){this.manager=void 0!==e?e:Jf,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Kf.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const Qf={};function ed(e){Kf.call(this,e)}function td(e){Kf.call(this,e)}function nd(e){Kf.call(this,e)}function rd(e){Kf.call(this,e)}function id(e){Kf.call(this,e)}function od(e){Kf.call(this,e)}function ad(e){Kf.call(this,e)}function sd(){this.type="Curve",this.arcLengthDivisions=200}function cd(e,t,n,r,i,o,a,s){sd.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function ud(e,t,n,r,i,o){cd.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function ld(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let c=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;c*=a,u*=a,i(t,n,c,u)},calc:function(i){const o=i*i,a=o*i;return e+t*i+n*o+r*a}}}ed.prototype=Object.assign(Object.create(Kf.prototype),{constructor:ed,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=$f.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0!==Qf[e])return void Qf[e].push({onLoad:t,onProgress:n,onError:r});const a=/^data:(.*?)(;base64)?,(.*)$/,s=e.match(a);let c;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const e=new Uint8Array(a.length);for(let n=0;n<a.length;n++)e[n]=a.charCodeAt(n);r="blob"===o?new Blob([e.buffer],{type:n}):e.buffer;break;case"document":const t=new DOMParser;r=t.parseFromString(a,n);break;case"json":r=JSON.parse(a);break;default:r=a;break}setTimeout((function(){t&&t(r),i.manager.itemEnd(e)}),0)}catch(u){setTimeout((function(){r&&r(u),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Qf[e]=[],Qf[e].push({onLoad:t,onProgress:n,onError:r}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",(function(t){const n=this.response,r=Qf[e];if(delete Qf[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$f.add(e,n);for(let e=0,t=r.length;e<t;e++){const t=r[e];t.onLoad&&t.onLoad(n)}i.manager.itemEnd(e)}else{for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),c.addEventListener("progress",(function(t){const n=Qf[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onProgress&&r.onProgress(t)}}),!1),c.addEventListener("error",(function(t){const n=Qf[e];delete Qf[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),c.addEventListener("abort",(function(t){const n=Qf[e];delete Qf[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(c.responseType=this.responseType),void 0!==this.withCredentials&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)c.setRequestHeader(e,this.requestHeader[e]);c.send(null)}return i.manager.itemStart(e),c},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),td.prototype=Object.assign(Object.create(Kf.prototype),{constructor:td,load:function(e,t,n,r){const i=this,o=new ed(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const r=qf.parse(e[n]);t.push(r)}return t}}),nd.prototype=Object.assign(Object.create(Kf.prototype),{constructor:nd,load:function(e,t,n,r){const i=this,o=[],a=new $l;a.image=o;const s=new ed(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer");let c=0;function u(u){s.load(e[u],(function(e){const n=i.parse(e,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(a.minFilter=be),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let l=0,h=e.length;l<h;++l)u(l);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=be),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),rd.prototype=Object.assign(Object.create(Kf.prototype),{constructor:rd,load:function(e,t,n,r){const i=this,o=new io,a=new ed(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:pe,o.wrapT=void 0!==n.wrapT?n.wrapT:pe,o.magFilter=void 0!==n.magFilter?n.magFilter:be,o.minFilter=void 0!==n.minFilter?n.minFilter:be,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=xe),1===n.mipmapCount&&(o.minFilter=be),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),id.prototype=Object.assign(Object.create(Kf.prototype),{constructor:id,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=$f.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),$f.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),od.prototype=Object.assign(Object.create(Kf.prototype),{constructor:od,load:function(e,t,n,r){const i=new Ys,o=new id(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let c=0;c<e.length;++c)s(c);return i}}),ad.prototype=Object.assign(Object.create(Kf.prototype),{constructor:ad,load:function(e,t,n,r){const i=new bn,o=new id(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;const r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Ne:De,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(sd.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let r,i=0,o=n.length;r=t||e*n[o-1];let a,s=0,c=o-1;while(s<=c)if(i=Math.floor(s+(c-s)/2),a=n[i]-r,a<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(i=c,n[i]===r)return i/(o-1);const u=n[i],l=n[i+1],h=l-u,f=(r-u)/h,d=(i+f)/(o-1);return d},getTangent:function(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new pn:new En);return s.copy(a).sub(o).normalize(),s},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new En,r=[],i=[],o=[],a=new En,s=new In;for(let f=0;f<=e;f++){const t=f/e;r[f]=this.getTangentAt(t,new En),r[f].normalize()}i[0]=new En,o[0]=new En;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),l=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,n.set(1,0,0)),l<=c&&(c=l,n.set(0,1,0)),h<=c&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let f=1;f<=e;f++){if(i[f]=i[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(dn.clamp(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(a,e))}o[f].crossVectors(r[f],i[f])}if(!0===t){let t=Math.acos(dn.clamp(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),cd.prototype=Object.create(sd.prototype),cd.prototype.constructor=cd,cd.prototype.isEllipseCurve=!0,cd.prototype.getPoint=function(e,t){const n=t||new pn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=c-this.aY;s=n*e-r*t+this.aX,c=n*t+r*e+this.aY}return n.set(s,c)},cd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},cd.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},cd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ud.prototype=Object.create(cd.prototype),ud.prototype.constructor=ud,ud.prototype.isArcCurve=!0;const hd=new En,fd=new ld,dd=new ld,pd=new ld;function md(e,t,n,r){sd.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function vd(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e,c=e*s;return(2*n-2*r+o+a)*c+(-3*n+3*r-2*o-a)*s+o*e+n}function gd(e,t){const n=1-e;return n*n*t}function yd(e,t){return 2*(1-e)*e*t}function bd(e,t){return e*e*t}function _d(e,t,n,r){return gd(e,t)+yd(e,n)+bd(e,r)}function xd(e,t){const n=1-e;return n*n*n*t}function wd(e,t){const n=1-e;return 3*n*n*e*t}function Sd(e,t){return 3*(1-e)*e*e*t}function Ad(e,t){return e*e*e*t}function Td(e,t,n,r,i){return xd(e,t)+wd(e,n)+Sd(e,r)+Ad(e,i)}function Ed(e,t,n,r){sd.call(this),this.type="CubicBezierCurve",this.v0=e||new pn,this.v1=t||new pn,this.v2=n||new pn,this.v3=r||new pn}function Md(e,t,n,r){sd.call(this),this.type="CubicBezierCurve3",this.v0=e||new En,this.v1=t||new En,this.v2=n||new En,this.v3=r||new En}function Pd(e,t){sd.call(this),this.type="LineCurve",this.v1=e||new pn,this.v2=t||new pn}function Cd(e,t){sd.call(this),this.type="LineCurve3",this.v1=e||new En,this.v2=t||new En}function Rd(e,t,n){sd.call(this),this.type="QuadraticBezierCurve",this.v0=e||new pn,this.v1=t||new pn,this.v2=n||new pn}function kd(e,t,n){sd.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new En,this.v1=t||new En,this.v2=n||new En}function Ld(e){sd.call(this),this.type="SplineCurve",this.points=e||[]}md.prototype=Object.create(sd.prototype),md.prototype.constructor=md,md.prototype.isCatmullRomCurve3=!0,md.prototype.getPoint=function(e,t){const n=t||new En,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let a,s,c,u,l=Math.floor(o),h=o-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===h&&l===i-1&&(l=i-2,h=1),this.closed||l>0?a=r[(l-1)%i]:(hd.subVectors(r[0],r[1]).add(r[0]),a=hd),s=r[l%i],c=r[(l+1)%i],this.closed||l+2<i?u=r[(l+2)%i]:(hd.subVectors(r[i-1],r[i-2]).add(r[i-1]),u=hd),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(s),e),n=Math.pow(s.distanceToSquared(c),e),r=Math.pow(c.distanceToSquared(u),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),fd.initNonuniformCatmullRom(a.x,s.x,c.x,u.x,t,n,r),dd.initNonuniformCatmullRom(a.y,s.y,c.y,u.y,t,n,r),pd.initNonuniformCatmullRom(a.z,s.z,c.z,u.z,t,n,r)}else"catmullrom"===this.curveType&&(fd.initCatmullRom(a.x,s.x,c.x,u.x,this.tension),dd.initCatmullRom(a.y,s.y,c.y,u.y,this.tension),pd.initCatmullRom(a.z,s.z,c.z,u.z,this.tension));return n.set(fd.calc(h),dd.calc(h),pd.calc(h)),n},md.prototype.copy=function(e){sd.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},md.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},md.prototype.fromJSON=function(e){sd.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new En).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ed.prototype=Object.create(sd.prototype),Ed.prototype.constructor=Ed,Ed.prototype.isCubicBezierCurve=!0,Ed.prototype.getPoint=function(e,t){const n=t||new pn,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Td(e,r.x,i.x,o.x,a.x),Td(e,r.y,i.y,o.y,a.y)),n},Ed.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ed.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ed.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Md.prototype=Object.create(sd.prototype),Md.prototype.constructor=Md,Md.prototype.isCubicBezierCurve3=!0,Md.prototype.getPoint=function(e,t){const n=t||new En,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Td(e,r.x,i.x,o.x,a.x),Td(e,r.y,i.y,o.y,a.y),Td(e,r.z,i.z,o.z,a.z)),n},Md.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Md.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Md.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Pd.prototype=Object.create(sd.prototype),Pd.prototype.constructor=Pd,Pd.prototype.isLineCurve=!0,Pd.prototype.getPoint=function(e,t){const n=t||new pn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Pd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Pd.prototype.getTangent=function(e,t){const n=t||new pn;return n.copy(this.v2).sub(this.v1).normalize(),n},Pd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Pd.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Pd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Cd.prototype=Object.create(sd.prototype),Cd.prototype.constructor=Cd,Cd.prototype.isLineCurve3=!0,Cd.prototype.getPoint=function(e,t){const n=t||new En;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Cd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Cd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Cd.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Cd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Rd.prototype=Object.create(sd.prototype),Rd.prototype.constructor=Rd,Rd.prototype.isQuadraticBezierCurve=!0,Rd.prototype.getPoint=function(e,t){const n=t||new pn,r=this.v0,i=this.v1,o=this.v2;return n.set(_d(e,r.x,i.x,o.x),_d(e,r.y,i.y,o.y)),n},Rd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Rd.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Rd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},kd.prototype=Object.create(sd.prototype),kd.prototype.constructor=kd,kd.prototype.isQuadraticBezierCurve3=!0,kd.prototype.getPoint=function(e,t){const n=t||new En,r=this.v0,i=this.v1,o=this.v2;return n.set(_d(e,r.x,i.x,o.x),_d(e,r.y,i.y,o.y),_d(e,r.z,i.z,o.z)),n},kd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},kd.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},kd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ld.prototype=Object.create(sd.prototype),Ld.prototype.constructor=Ld,Ld.prototype.isSplineCurve=!0,Ld.prototype.getPoint=function(e,t){const n=t||new pn,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(vd(a,s.x,c.x,u.x,l.x),vd(a,s.y,c.y,u.y,l.y)),n},Ld.prototype.copy=function(e){sd.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this},Ld.prototype.toJSON=function(){const e=sd.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e},Ld.prototype.fromJSON=function(e){sd.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new pn).fromArray(n))}return this};var Od=Object.freeze({__proto__:null,ArcCurve:ud,CatmullRomCurve3:md,CubicBezierCurve:Ed,CubicBezierCurve3:Md,EllipseCurve:cd,LineCurve:Pd,LineCurve3:Cd,QuadraticBezierCurve:Rd,QuadraticBezierCurve3:kd,SplineCurve:Ld});function Id(){sd.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Nd(e){Id.call(this),this.type="Path",this.currentPoint=new pn,e&&this.setFromPoints(e)}function Dd(e){Nd.call(this,e),this.uuid=dn.generateUUID(),this.type="Shape",this.holes=[]}function Fd(e,t){Kn.call(this),this.type="Light",this.color=new Gr(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function jd(e,t,n){Fd.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.groundColor=new Gr(t)}function Ud(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new pn(512,512),this.map=null,this.mapPass=null,this.matrix=new In,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new so,this._frameExtents=new pn(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}function zd(){Ud.call(this,new Qi(50,1,.5,500))}function Bd(e,t,n,r,i,o){Fd.call(this,e,t),this.type="SpotLight",this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.target=new Kn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new zd}function Hd(){Ud.call(this,new Qi(90,1,.5,500)),this._frameExtents=new pn(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new En(1,0,0),new En(-1,0,0),new En(0,0,1),new En(0,0,-1),new En(0,1,0),new En(0,-1,0)],this._cubeUps=[new En(0,1,0),new En(0,1,0),new En(0,1,0),new En(0,1,0),new En(0,0,1),new En(0,0,-1)]}function Gd(e,t,n,r){Fd.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Hd}function Vd(e,t,n,r,i,o){Ki.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Wd(){Ud.call(this,new Vd(-5,5,5,-5,.5,500))}function qd(e,t){Fd.call(this,e,t),this.type="DirectionalLight",this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.target=new Kn,this.shadow=new Wd}function Xd(e,t){Fd.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Yd(e,t,n,r){Fd.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function $d(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new En)}function Zd(e,t){Fd.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new $d}function Jd(e){Kf.call(this,e),this.textures={}}Id.prototype=Object.assign(Object.create(sd.prototype),{constructor:Id,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Pd(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let r=0;while(r<n.length){if(n[r]>=t){const e=n[r]-t,i=this.curves[r],o=i.getLength(),a=0===o?0:1-e/o;return i.getPointAt(a)}r++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){sd.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=sd.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){sd.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Od[n.type]).fromJSON(n))}return this}}),Nd.prototype=Object.assign(Object.create(Id.prototype),{constructor:Nd,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Pd(this.currentPoint.clone(),new pn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){const i=new Rd(this.currentPoint.clone(),new pn(e,t),new pn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){const a=new Ed(this.currentPoint.clone(),new pn(e,t),new pn(n,r),new pn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Ld(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){const c=new cd(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=c.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(e){return Id.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Id.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Id.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Dd.prototype=Object.assign(Object.create(Nd.prototype),{constructor:Dd,getPointsHoles:function(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Nd.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){const e=Nd.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Nd.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Nd).fromJSON(n))}return this}}),Fd.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Fd,isLight:!0,copy:function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),jd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:jd,isHemisphereLight:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ud.prototype,{_projScreenMatrix:new In,_lightPositionWorld:new En,_lookTarget:new En,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),zd.prototype=Object.assign(Object.create(Ud.prototype),{constructor:zd,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=2*dn.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Ud.prototype.updateMatrices.call(this,e)}}),Bd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:Bd,isSpotLight:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Hd.prototype=Object.assign(Object.create(Ud.prototype),{constructor:Hd,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);const n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Gd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:Gd,isPointLight:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Vd.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Vd,isOrthographicCamera:!0,copy:function(e,t){return Ki.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=Kn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Wd.prototype=Object.assign(Object.create(Ud.prototype),{constructor:Wd,isDirectionalLightShadow:!0,updateMatrices:function(e){Ud.prototype.updateMatrices.call(this,e)}}),qd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:qd,isDirectionalLight:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Xd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:Xd,isAmbientLight:!0}),Yd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:Yd,isRectAreaLight:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Fd.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign($d.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign($d,{getBasisAt:function(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),Zd.prototype=Object.assign(Object.create(Fd.prototype),{constructor:Zd,isLightProbe:!0,copy:function(e){return Fd.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Fd.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Jd.prototype=Object.assign(Object.create(Kf.prototype),{constructor:Jd,load:function(e,t,n,r){const i=this,o=new ed(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=new Lf[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Gr).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Gr).setHex(t.value);break;case"v2":r.uniforms[i].value=(new pn).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new En).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new _n).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new mn).fromArray(t.value);case"m4":r.uniforms[i].value=(new In).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new pn).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new pn).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});const Kd={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Qd(){yi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ep(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Qr.call(this,e,t,n),this.meshPerAttribute=r||1}function tp(e){Kf.call(this,e)}Qd.prototype=Object.assign(Object.create(yi.prototype),{constructor:Qd,isInstancedBufferGeometry:!0,copy:function(e){return yi.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=yi.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ep.prototype=Object.assign(Object.create(Qr.prototype),{constructor:ep,isInstancedBufferAttribute:!0,copy:function(e){return Qr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Qr.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),tp.prototype=Object.assign(Object.create(Kf.prototype),{constructor:tp,load:function(e,t,n,r){const i=this,o=new ed(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){const t={},n={};function r(e,n){if(void 0!==t[n])return t[n];const r=e.interleavedBuffers,o=r[n],a=i(e,o.buffer),s=new np[o.type](a),c=new Ku(s,o.stride);return c.uuid=o.uuid,t[n]=c,c}function i(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}const o=e.isInstancedBufferGeometry?new Qd:new yi,a=e.data.index;if(void 0!==a){const e=new np[a.type](a.array);o.setIndex(new Qr(e,1))}const s=e.data.attributes;for(const f in s){const t=s[f];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new el(i,t.itemSize,t.offset,t.normalized)}else{const e=new np[t.type](t.array),r=t.isInstancedBufferAttribute?ep:Qr;n=new r(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),o.setAttribute(f,n)}const c=e.data.morphAttributes;if(c)for(const f in c){const t=c[f],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);a=new el(t,o.itemSize,o.offset,o.normalized)}else{const e=new np[o.type](o.array);a=new Qr(e,o.itemSize,o.normalized)}void 0!==o.name&&(a.name=o.name),n.push(a)}o.morphAttributes[f]=n}const u=e.data.morphTargetsRelative;u&&(o.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let f=0,d=l.length;f!==d;++f){const e=l[f];o.addGroup(e.start,e.count,e.materialIndex)}const h=e.data.boundingSphere;if(void 0!==h){const e=new En;void 0!==h.center&&e.fromArray(h.center),o.boundingSphere=new vr(e,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});const np={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function rp(e){Kf.call(this,e)}rp.prototype=Object.assign(Object.create(Kf.prototype),{constructor:rp,load:function(e,t,n,r){const i=this,o=""===this.path?Kd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ed(i.manager);a.setPath(this.path),a.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}const a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){const n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Dd).fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let r;if(void 0!==e){const i=new tp;for(let o=0,a=e.length;o<a;o++){let a;const s=e[o];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new xf[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new xf[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new xf[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new xf[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new xf[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new xf[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new xf[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new xf[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new xf[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new xf[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new xf[s.type]((new Od[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new xf[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new xf[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let n=0,i=s.shapes.length;n<i;n++){const e=t[s.shapes[n]];r.push(e)}a=new xf[s.type](r,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let n=0,i=s.shapes.length;n<i;n++){const e=t[s.shapes[n]];r.push(e)}const e=s.options.extrudePath;void 0!==e&&(s.options.extrudePath=(new Od[e.type]).fromJSON(e)),a=new xf[s.type](r,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}}return n},parseMaterials:function(e,t){const n={},r={};if(void 0!==e){const i=new Jd;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];if("MultiMaterial"===o.type){const e=[];for(let t=0;t<o.materials.length;t++){const r=o.materials[t];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),e.push(n[r.uuid])}r[o.uuid]=e}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=qf.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){const n=this,r={};let i;function o(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){const a=new Zf(t);i=new id(a),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],a=i.url;if(Array.isArray(a)){r[i.uuid]=[];for(let e=0,t=a.length;e<t;e++){const t=a[e],s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;r[i.uuid].push(o(s))}}else{const e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i.url)?i.url:n.resourcePath+i.url;r[i.uuid]=o(e)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];let a;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),a=Array.isArray(t[o.image])?new Ys(t[o.image]):new bn(t[o.image]),a.needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,ip)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],op),a.wrapT=n(o.wrap[1],op)),void 0!==o.format&&(a.format=o.format),void 0!==o.type&&(a.type=o.type),void 0!==o.encoding&&(a.encoding=o.encoding),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,ap)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,ap)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(a.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(a.unpackAlignment=o.unpackAlignment),r[o.uuid]=a}return r},parseObject:function(e,t,n){let r,i,o;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new Qn,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Gr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Ju(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Zu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Qi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Vd(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Xd(e.color,e.intensity);break;case"DirectionalLight":r=new qd(e.color,e.intensity);break;case"PointLight":r=new Gd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Yd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Bd(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new jd(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Zd).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":i=a(e.geometry),o=s(e.material),r=new Di(i,o);break;case"InstancedMesh":i=a(e.geometry),o=s(e.material);const t=e.count,n=e.instanceMatrix;r=new Cl(i,o,t),r.instanceMatrix=new Qr(new Float32Array(n.array),16);break;case"LOD":r=new bl;break;case"Line":r=new Dl(a(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new zl(a(e.geometry),s(e.material));break;case"LineSegments":r=new Ul(a(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new ql(a(e.geometry),s(e.material));break;case"Sprite":r=new ml(s(e.material));break;case"Group":r=new Vu;break;default:r=new Kn}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children){const i=e.children;for(let e=0;e<i.length;e++)r.add(this.parseObject(i[e],t,n))}if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=r.getObjectByProperty("uuid",n.object);void 0!==i&&r.addLevel(i,n.distance)}}return r}});const ip={UVMapping:ae,CubeReflectionMapping:se,CubeRefractionMapping:ce,EquirectangularReflectionMapping:ue,EquirectangularRefractionMapping:le,CubeUVReflectionMapping:he,CubeUVRefractionMapping:fe},op={RepeatWrapping:de,ClampToEdgeWrapping:pe,MirroredRepeatWrapping:me},ap={NearestFilter:ve,NearestMipmapNearestFilter:ge,NearestMipmapLinearFilter:ye,LinearFilter:be,LinearMipmapNearestFilter:_e,LinearMipmapLinearFilter:xe};function sp(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Kf.call(this,e),this.options={premultiplyAlpha:"none"}}function cp(){this.type="ShapePath",this.color=new Gr,this.subPaths=[],this.currentPath=null}function up(e){this.type="Font",this.data=e}function lp(e,t,n){const r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[];let s=0,c=0;for(let u=0;u<r.length;u++){const e=r[u];if("\n"===e)s=0,c-=o;else{const t=hp(e,i,s,c,n);s+=t.offsetX,a.push(t.path)}}return a}function hp(e,t,n,r,i){const o=i.glyphs[e]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");const a=new cp;let s,c,u,l,h,f,d,p;if(o.o){const e=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=e.length;i<o;){const o=e[i++];switch(o){case"m":s=e[i++]*t+n,c=e[i++]*t+r,a.moveTo(s,c);break;case"l":s=e[i++]*t+n,c=e[i++]*t+r,a.lineTo(s,c);break;case"q":u=e[i++]*t+n,l=e[i++]*t+r,h=e[i++]*t+n,f=e[i++]*t+r,a.quadraticCurveTo(h,f,u,l);break;case"b":u=e[i++]*t+n,l=e[i++]*t+r,h=e[i++]*t+n,f=e[i++]*t+r,d=e[i++]*t+n,p=e[i++]*t+r,a.bezierCurveTo(h,f,d,p,u,l);break}}}return{offsetX:o.ha*t,path:a}}function fp(e){Kf.call(this,e)}let dp;sp.prototype=Object.assign(Object.create(Kf.prototype),{constructor:sp,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=$f.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){$f.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(cp.prototype,{moveTo:function(e,t){return this.currentPath=new Nd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Dd;i.curves=r.curves,t.push(i)}return t}function r(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,c=a.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=t[o],s=-s,a=t[i],c=-c),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=c*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const i=$h.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);let a,s,c,u=[];if(1===o.length)return s=o[0],c=new Dd,c.curves=s.curves,u.push(c),u;let l=!i(o[0].getPoints());l=e?!l:l;const h=[],f=[];let d,p,m=[],v=0;f[v]=void 0,m[v]=[];for(let g=0,y=o.length;g<y;g++)s=o[g],d=s.getPoints(),a=i(d),a=e?!a:a,a?(!l&&f[v]&&v++,f[v]={s:new Dd,p:d},f[v].s.curves=s.curves,l&&v++,m[v]=[]):m[v].push({h:s,p:d[0]});if(!f[0])return n(o);if(f.length>1){let e=!1;const t=[];for(let n=0,r=f.length;n<r;n++)h[n]=[];for(let n=0,i=f.length;n<i;n++){const i=m[n];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<f.length;i++)r(a.p,f[i].p)&&(n!==i&&t.push({froms:n,tos:i,hole:o}),s?(s=!1,h[i].push(a)):e=!0);s&&h[n].push(a)}}t.length>0&&(e||(m=h))}for(let g=0,y=f.length;g<y;g++){c=f[g].s,u.push(c),p=m[g];for(let e=0,t=p.length;e<t;e++)c.holes.push(p[e].h)}return u}}),Object.assign(up.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);const n=[],r=lp(e,t,this.data);for(let i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),fp.prototype=Object.assign(Object.create(Kf.prototype),{constructor:fp,load:function(e,t,n,r){const i=this,o=new ed(this.manager);o.setPath(this.path),o.load(e,(function(e){let n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}const r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new up(e)}});const pp={getContext:function(){return void 0===dp&&(dp=new(window.AudioContext||window.webkitAudioContext)),dp},setContext:function(e){dp=e}};function mp(e){Kf.call(this,e)}function vp(e,t,n){Zd.call(this,void 0,n);const r=(new Gr).set(e),i=(new Gr).set(t),o=new En(r.r,r.g,r.b),a=new En(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function gp(e,t){Zd.call(this,void 0,t);const n=(new Gr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}mp.prototype=Object.assign(Object.create(Kf.prototype),{constructor:mp,load:function(e,t,n,r){const i=this,o=new ed(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.load(e,(function(n){try{const e=n.slice(0),r=pp.getContext();r.decodeAudioData(e,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}),vp.prototype=Object.assign(Object.create(Zd.prototype),{constructor:vp,isHemisphereLightProbe:!0,copy:function(e){return Zd.prototype.copy.call(this,e),this},toJSON:function(e){const t=Zd.prototype.toJSON.call(this,e);return t}}),gp.prototype=Object.assign(Object.create(Zd.prototype),{constructor:gp,isAmbientLightProbe:!0,copy:function(e){return Zd.prototype.copy.call(this,e),this},toJSON:function(e){const t=Zd.prototype.toJSON.call(this,e);return t}});const yp=new In,bp=new In;function _p(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function xp(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(_p.prototype,{update:function(e){const t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),r=t.eyeSep/2,i=r*t.near/t.focus,o=t.near*Math.tan(dn.DEG2RAD*t.fov*.5)/t.zoom;let a,s;bp.elements[12]=-r,yp.elements[12]=r,a=-o*t.aspect+i,s=o*t.aspect+i,n.elements[0]=2*t.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraL.projectionMatrix.copy(n),a=-o*t.aspect-i,s=o*t.aspect-i,n.elements[0]=2*t.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bp),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(yp)}}),Object.assign(xp.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const wp=new En,Sp=new Sn,Ap=new En,Tp=new En;function Ep(){Kn.call(this),this.type="AudioListener",this.context=pp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xp}function Mp(e){Kn.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}Ep.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Ep,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Kn.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wp,Sp,Ap),Tp.set(0,0,-1).applyQuaternion(Sp),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wp.x,e),t.positionY.linearRampToValueAtTime(wp.y,e),t.positionZ.linearRampToValueAtTime(wp.z,e),t.forwardX.linearRampToValueAtTime(Tp.x,e),t.forwardY.linearRampToValueAtTime(Tp.y,e),t.forwardZ.linearRampToValueAtTime(Tp.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(wp.x,wp.y,wp.z),t.setOrientation(Tp.x,Tp.y,Tp.z,n.x,n.y,n.z)}}),Mp.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Mp,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Pp=new En,Cp=new Sn,Rp=new En,kp=new En;function Lp(e){Mp.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Op(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Ip(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Lp.prototype=Object.assign(Object.create(Mp.prototype),{constructor:Lp,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Kn.prototype.updateMatrixWorld.call(this,e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Pp,Cp,Rp),kp.set(0,0,1).applyQuaternion(Cp);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pp.x,e),t.positionY.linearRampToValueAtTime(Pp.y,e),t.positionZ.linearRampToValueAtTime(Pp.z,e),t.orientationX.linearRampToValueAtTime(kp.x,e),t.orientationY.linearRampToValueAtTime(kp.y,e),t.orientationZ.linearRampToValueAtTime(kp.z,e)}else t.setPosition(Pp.x,Pp.y,Pp.z),t.setOrientation(kp.x,kp.y,kp.z)}}),Object.assign(Op.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Ip.prototype,{accumulate:function(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){Sn.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){const o=this._workIndex*i;Sn.multiplyQuaternionsFlat(e,o,e,t,e,n),Sn.slerpFlat(e,t,e,t,e,o,r)},_lerp:function(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}},_lerpAdditive:function(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}});const Np="\\[\\]\\.:\\/",Dp=new RegExp("["+Np+"]","g"),Fp="[^"+Np+"]",jp="[^"+Np.replace("\\.","")+"]",Up=/((?:WC+[\/:])*)/.source.replace("WC",Fp),zp=/(WCOD+)?/.source.replace("WCOD",jp),Bp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Fp),Hp=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Fp),Gp=new RegExp("^"+Up+zp+Bp+Hp+"$"),Vp=["material","materials","bones"];function Wp(e,t,n){const r=n||qp.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function qp(e,t,n){this.path=t,this.parsedPath=n||qp.parseTrackName(t),this.node=qp.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Xp(){this.uuid=dn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}function Yp(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:zt,endingEnd:zt};for(let c=0;c!==o;++c){const e=i[c].createInterpolant(null);a[c]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Nt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function $p(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Zp(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Jp(e,t,n){Ku.call(this,e,t),this.meshPerAttribute=n||1}function Kp(e,t,n,r){this.ray=new Ar(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new jn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Qp(e,t){return e.distance-t.distance}function em(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)em(r[e],t,n,!0)}}function tm(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function nm(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Wp.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(qp,{Composite:Wp,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new qp.Composite(e,t,n):new qp(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Dp,"")},parseTrackName:function(e){const t=Gp.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Vp.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}}),Object.assign(qp.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=qp.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(qp.prototype,{_getValue_unbound:qp.prototype.getValue,_setValue_unbound:qp.prototype.setValue}),Object.assign(Xp.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a=void 0,s=e.length,c=this.nCachedObjects_;for(let u=0,l=arguments.length;u!==l;++u){const l=arguments[u],h=l.uuid;let f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(l);for(let e=0,t=o;e!==t;++e)i[e].push(new qp(l,n[e],r[e]))}else if(f<c){a=e[f];const s=--c,u=e[s];t[u.uuid]=f,e[f]=u,t[h]=s,e[s]=l;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[f];t[f]=o,void 0===a&&(a=new qp(l,n[e],r[e])),t[s]=a}}else e[f]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,c=t[s];if(void 0!==c&&c>=i){const o=i++,u=e[o];t[u.uuid]=c,e[c]=u,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[c];t[c]=r,t[o]=i}}}this.nCachedObjects_=i},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a],c=s.uuid,u=t[c];if(void 0!==u)if(delete t[c],u<i){const a=--i,s=e[a],c=--o,l=e[c];t[s.uuid]=u,e[u]=s,t[l.uuid]=a,e[a]=l,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[u]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];t[a.uuid]=u,e[u]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[u]=t[i],t.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,l=new Array(c);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(let h=u,f=s.length;h!==f;++h){const n=s[h];l[h]=new qp(n,e,t)}return l},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a],c=e[a];t[c]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Yp.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/o,c[1]=t/o,this},stopWarping:function(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;if(r<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case Vt:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);break;case Gt:default:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===Dt;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===It){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1===(1&i))return t-r}return r},_setEndings:function(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Bt,r.endingEnd=Bt):(r.endingStart=e?this.zeroSlopeAtStart?Bt:zt:Ht,r.endingEnd=t?this.zeroSlopeAtEnd?Bt:zt:Ht)},_scheduleFading:function(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),$p.prototype=Object.assign(Object.create(hn.prototype),{constructor:$p,_bindAction:function(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName;let u=c[s];void 0===u&&(u={},c[s]=u);for(let l=0;l!==i;++l){const e=r[l],i=e.name;let c=u[i];if(void 0!==c)o[l]=c;else{if(c=o[l],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,s,i));continue}const r=t&&t._propertyBindings[l].binding.parsedPath;c=new Ip(qp.create(n,i,r),e.ValueTypeName,e.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,s,i),o[l]=c}a[l].resultBuffer=c.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),e._byClipCacheIndex=null;const l=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete l[h],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Df(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const r=t||this._root,i=r.uuid;let o="string"===typeof e?qf.findByName(r,e):e;const a=null!==o?o.uuid:e;let s=this._actionsByClip[a],c=null;if(void 0===n&&(n=null!==o?o.blendMode:Gt),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;c=s.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const u=new Yp(this,o,t,n);return this._bindAction(u,c),this._addInactiveAction(u,a,i),u},existingAction:function(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?qf.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c){const n=t[c];n._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let c=0;c!==s;++c)a[c].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const e=n[o].actionByRoot,r=e[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName,i=r[t];if(void 0!==i)for(const o in i){const e=i[o];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Zp.prototype.clone=function(){return new Zp(void 0===this.value.clone?this.value:this.value.clone())},Jp.prototype=Object.assign(Object.create(Ku.prototype),{constructor:Jp,isInstancedInterleavedBuffer:!0,copy:function(e){return Ku.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Ku.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Ku.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.assign(Kp.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const r=n||[];return em(e,this,r,t),r.sort(Qp),r},intersectObjects:function(e,t,n){const r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(let i=0,o=e.length;i<o;i++)em(e[i],this,r,t);return r.sort(Qp),r}}),Object.assign(tm.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(dn.clamp(t/this.radius,-1,1))),this}}),Object.assign(nm.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const rm=new pn;function im(e,t){this.min=void 0!==e?e:new pn(1/0,1/0),this.max=void 0!==t?t:new pn(-1/0,-1/0)}Object.assign(im.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=rm.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new pn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new pn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new pn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new pn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){const t=rm.copy(e).clamp(this.min,this.max);return t.sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const om=new En,am=new En;function sm(e,t){this.start=void 0!==e?e:new En,this.end=void 0!==t?t:new En}function cm(e){Kn.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(sm.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new En),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new En),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new En),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){om.subVectors(e,this.start),am.subVectors(this.end,this.start);const n=am.dot(am),r=am.dot(om);let i=r/n;return t&&(i=dn.clamp(i,0,1)),i},closestPointToPoint:function(e,t,n){const r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new En),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),cm.prototype=Object.create(Kn.prototype),cm.prototype.constructor=cm,cm.prototype.isImmediateRenderObject=!0;const um=new En;function lm(e,t){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new yi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,s=32;o<s;o++,a++){const e=o/s*Math.PI*2,t=a/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new si(r,3));const i=new Rl({fog:!1,toneMapped:!1});this.cone=new Ul(n,i),this.add(this.cone),this.update()}lm.prototype=Object.create(Kn.prototype),lm.prototype.constructor=lm,lm.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},lm.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),um.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(um),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const hm=new En,fm=new In,dm=new In;function pm(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,pm(e.children[n]));return t}function mm(e){const t=pm(e),n=new yi,r=[],i=[],o=new Gr(0,0,1),a=new Gr(0,1,0);for(let c=0;c<t.length;c++){const e=t[c];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new si(r,3)),n.setAttribute("color",new si(i,3));const s=new Rl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Ul.call(this,n,s),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function vm(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const r=new af(t,4,2),i=new Zr({wireframe:!0,fog:!1,toneMapped:!1});Di.call(this,r,i),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}mm.prototype=Object.create(Ul.prototype),mm.prototype.constructor=mm,mm.prototype.isSkeletonHelper=!0,mm.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");dm.getInverse(this.root.matrixWorld);for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(fm.multiplyMatrices(dm,e.matrixWorld),hm.setFromMatrixPosition(fm),r.setXYZ(o,hm.x,hm.y,hm.z),fm.multiplyMatrices(dm,e.parent.matrixWorld),hm.setFromMatrixPosition(fm),r.setXYZ(o+1,hm.x,hm.y,hm.z),o+=2)}n.getAttribute("position").needsUpdate=!0,Kn.prototype.updateMatrixWorld.call(this,e)},vm.prototype=Object.create(Di.prototype),vm.prototype.constructor=vm,vm.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},vm.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const gm=new En,ym=new Gr,bm=new Gr;function _m(e,t,n){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new ah(t);r.rotateY(.5*Math.PI),this.material=new Zr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Qr(o,3)),this.add(new Di(r,this.material)),this.update()}function xm(e,t,n,r){e=e||10,t=t||10,n=new Gr(void 0!==n?n:4473924),r=new Gr(void 0!==r?r:8947848);const i=t/2,o=e/t,a=e/2,s=[],c=[];for(let h=0,f=0,d=-a;h<=t;h++,d+=o){s.push(-a,0,d,a,0,d),s.push(d,0,-a,d,0,a);const e=h===i?n:r;e.toArray(c,f),f+=3,e.toArray(c,f),f+=3,e.toArray(c,f),f+=3,e.toArray(c,f),f+=3}const u=new yi;u.setAttribute("position",new si(s,3)),u.setAttribute("color",new si(c,3));const l=new Rl({vertexColors:!0,toneMapped:!1});Ul.call(this,u,l),this.type="GridHelper"}function wm(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Gr(void 0!==i?i:4473924),o=new Gr(void 0!==o?o:8947848);const a=[],s=[];for(let l=0;l<=t;l++){const n=l/t*(2*Math.PI),r=Math.sin(n)*e,c=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,c);const u=1&l?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let l=0;l<=n;l++){const t=1&l?i:o,c=e-e/n*l;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*c,o=Math.cos(n)*c;a.push(i,0,o),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*c,o=Math.cos(n)*c,a.push(i,0,o),s.push(t.r,t.g,t.b)}}const c=new yi;c.setAttribute("position",new si(a,3)),c.setAttribute("color",new si(s,3));const u=new Rl({vertexColors:!0,toneMapped:!1});Ul.call(this,c,u),this.type="PolarGridHelper"}_m.prototype=Object.create(Kn.prototype),_m.prototype.constructor=_m,_m.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},_m.prototype.update=function(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ym.copy(this.light.color),bm.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?ym:bm;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(gm.setFromMatrixPosition(this.light.matrixWorld).negate())},xm.prototype=Object.assign(Object.create(Ul.prototype),{constructor:xm,copy:function(e){return Ul.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),wm.prototype=Object.create(Ul.prototype),wm.prototype.constructor=wm;const Sm=new En,Am=new En,Tm=new En;function Em(e,t,n){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);let r=new yi;r.setAttribute("position",new si([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new Rl({fog:!1,toneMapped:!1});this.lightPlane=new Dl(r,i),this.add(this.lightPlane),r=new yi,r.setAttribute("position",new si([0,0,0,0,0,1],3)),this.targetLine=new Dl(r,i),this.add(this.targetLine),this.update()}Em.prototype=Object.create(Kn.prototype),Em.prototype.constructor=Em,Em.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Em.prototype.update=function(){Sm.setFromMatrixPosition(this.light.matrixWorld),Am.setFromMatrixPosition(this.light.target.matrixWorld),Tm.subVectors(Am,Sm),this.lightPlane.lookAt(Am),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Am),this.targetLine.scale.z=Tm.length()};const Mm=new En,Pm=new Ki;function Cm(e){const t=new yi,n=new Rl({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new Gr(16755200),s=new Gr(16711680),c=new Gr(43775),u=new Gr(16777215),l=new Gr(3355443);function h(e,t,n){f(e,n),f(t,n)}function f(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",u),h("p","c",l),h("cn1","cn2",l),h("cn3","cn4",l),h("cf1","cf2",l),h("cf3","cf4",l),t.setAttribute("position",new si(r,3)),t.setAttribute("color",new si(i,3)),Ul.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Rm(e,t,n,r,i,o,a){Mm.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],Mm.x,Mm.y,Mm.z)}}Cm.prototype=Object.create(Ul.prototype),Cm.prototype.constructor=Cm,Cm.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,r=1;Pm.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rm("c",t,e,Pm,0,0,-1),Rm("t",t,e,Pm,0,0,1),Rm("n1",t,e,Pm,-n,-r,-1),Rm("n2",t,e,Pm,n,-r,-1),Rm("n3",t,e,Pm,-n,r,-1),Rm("n4",t,e,Pm,n,r,-1),Rm("f1",t,e,Pm,-n,-r,1),Rm("f2",t,e,Pm,n,-r,1),Rm("f3",t,e,Pm,-n,r,1),Rm("f4",t,e,Pm,n,r,1),Rm("u1",t,e,Pm,.7*n,1.1*r,-1),Rm("u2",t,e,Pm,.7*-n,1.1*r,-1),Rm("u3",t,e,Pm,0,2*r,-1),Rm("cf1",t,e,Pm,-n,0,1),Rm("cf2",t,e,Pm,n,0,1),Rm("cf3",t,e,Pm,0,-r,1),Rm("cf4",t,e,Pm,0,r,1),Rm("cn1",t,e,Pm,-n,0,-1),Rm("cn2",t,e,Pm,n,0,-1),Rm("cn3",t,e,Pm,0,-r,-1),Rm("cn4",t,e,Pm,0,r,-1),e.getAttribute("position").needsUpdate=!0};const km=new dr;function Lm(e,t){this.object=e,void 0===t&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new yi;i.setIndex(new Qr(n,1)),i.setAttribute("position",new Qr(r,3)),Ul.call(this,i,new Rl({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Om(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new yi;i.setIndex(new Qr(n,1)),i.setAttribute("position",new si(r,3)),Ul.call(this,i,new Rl({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Im(e,t,n){this.plane=e,this.size=void 0===t?1:t;const r=void 0!==n?n:16776960,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new yi;o.setAttribute("position",new si(i,3)),o.computeBoundingSphere(),Dl.call(this,o,new Rl({color:r,toneMapped:!1})),this.type="PlaneHelper";const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new yi;s.setAttribute("position",new si(a,3)),s.computeBoundingSphere(),this.add(new Di(s,new Zr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}Lm.prototype=Object.create(Ul.prototype),Lm.prototype.constructor=Lm,Lm.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&km.setFromObject(this.object),km.isEmpty())return;const t=km.min,n=km.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()},Lm.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Lm.prototype.copy=function(e){return Ul.prototype.copy.call(this,e),this.object=e.object,this},Lm.prototype.clone=function(){return(new this.constructor).copy(this)},Om.prototype=Object.create(Ul.prototype),Om.prototype.constructor=Om,Om.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Kn.prototype.updateMatrixWorld.call(this,e))},Im.prototype=Object.create(Dl.prototype),Im.prototype.constructor=Im,Im.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?y:g,this.lookAt(this.plane.normal),Kn.prototype.updateMatrixWorld.call(this,e)};const Nm=new En;let Dm,Fm;function jm(e,t,n,r,i,o){Kn.call(this),this.type="ArrowHelper",void 0===e&&(e=new En(0,0,1)),void 0===t&&(t=new En(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Dm&&(Dm=new yi,Dm.setAttribute("position",new si([0,0,0,0,1,0],3)),Fm=new vf(0,.5,1,5,1),Fm.translate(0,-.5,0)),this.position.copy(t),this.line=new Dl(Dm,new Rl({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Di(Fm,new Zr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Um(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new yi;r.setAttribute("position",new si(t,3)),r.setAttribute("color",new si(n,3));const i=new Rl({vertexColors:!0,toneMapped:!1});Ul.call(this,r,i),this.type="AxesHelper"}jm.prototype=Object.create(Kn.prototype),jm.prototype.constructor=jm,jm.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nm.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nm,t)}},jm.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},jm.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},jm.prototype.copy=function(e){return Kn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},jm.prototype.clone=function(){return(new this.constructor).copy(this)},Um.prototype=Object.create(Ul.prototype),Um.prototype.constructor=Um;const zm=4,Bm=8,Hm=Math.pow(2,Bm),Gm=[.125,.215,.35,.446,.526,.582],Vm=Bm-zm+1+Gm.length,Wm=20,qm={[Yt]:0,[$t]:1,[Jt]:2,[Qt]:3,[en]:4,[tn]:5,[Zt]:6},Xm=new Vd,{_lodPlanes:Ym,_sizeLods:$m,_sigmas:Zm}=rv();let Jm=null;const Km=(1+Math.sqrt(5))/2,Qm=1/Km,ev=[new En(1,1,1),new En(-1,1,1),new En(1,1,-1),new En(-1,1,-1),new En(0,Km,Qm),new En(0,Km,-Qm),new En(Qm,0,Km),new En(-Qm,0,Km),new En(Km,Qm,0),new En(-Km,Qm,0)];function tv(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=av(Wm),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function nv(e){return void 0!==e&&e.type===we&&(e.encoding===Yt||e.encoding===$t||e.encoding===Zt)}function rv(){const e=[],t=[],n=[];let r=Bm;for(let i=0;i<Vm;i++){const o=Math.pow(2,r);t.push(o);let a=1/o;i>Bm-zm?a=Gm[i-Bm+zm-1]:0==i&&(a=0),n.push(a);const s=1/(o-1),c=-s/2,u=1+s/2,l=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,d=3,p=2,m=1,v=new Float32Array(d*f*h),g=new Float32Array(p*f*h),y=new Float32Array(m*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,d*f*e),g.set(l,p*f*e);const i=[e,e,e,e,e,e];y.set(i,m*f*e)}const b=new yi;b.setAttribute("position",new Qr(v,d)),b.setAttribute("uv",new Qr(g,p)),b.setAttribute("faceIndex",new Qr(y,m)),e.push(b),r>zm&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function iv(e){const t=new xn(3*Hm,3*Hm,e);return t.texture.mapping=he,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function ov(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function av(e){const t=new Float32Array(e),n=new En(0,1,0),r=new Sf({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:qm[Yt]},outputEncoding:{value:qm[Yt]}},vertexShader:uv(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${lv()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1});return r}function sv(){const e=new pn(1,1),t=new Sf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:qm[Yt]},outputEncoding:{value:qm[Yt]}},vertexShader:uv(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${lv()}\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1});return t}function cv(){const e=new Sf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:qm[Yt]},outputEncoding:{value:qm[Yt]}},vertexShader:uv(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${lv()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:x,depthTest:!1,depthWrite:!1});return e}function uv(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function lv(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}tv.prototype={constructor:tv,fromScene:function(e,t=0,n=.1,r=100){Jm=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=cv(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=sv(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<Ym.length;e++)Ym[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Jm),e.scissorTest=!1,ov(e,0,0,e.width,e.height)},_fromTexture:function(e){Jm=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:ve,minFilter:ve,generateMipmaps:!1,type:we,format:Ue,encoding:nv(e)?e.encoding:Jt,depthBuffer:!1,stencilBuffer:!1},n=iv(t);return n.depthBuffer=!e,this._pingPongRenderTarget=iv(t),n},_compileMaterial:function(e){const t=new Di(Ym[0],e);this._renderer.compile(t,Xm)},_sceneToCubeUV:function(e,t,n,r){const i=90,o=1,a=new Qi(i,o,t,n),s=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,l=u.outputEncoding,h=u.toneMapping,f=u.getClearColor(),d=u.getClearAlpha();u.toneMapping=ee,u.outputEncoding=Yt;let p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();const t=Math.max(p.r,p.g,p.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);p=p.multiplyScalar(Math.pow(2,-n));const r=(n+128)/255;u.setClearColor(p,r),e.background=null}for(let m=0;m<6;m++){const t=m%3;0==t?(a.up.set(0,s[m],0),a.lookAt(c[m],0,0)):1==t?(a.up.set(0,0,s[m]),a.lookAt(0,c[m],0)):(a.up.set(0,s[m],0),a.lookAt(0,0,c[m])),ov(r,t*Hm,m>2?Hm:0,Hm,Hm),u.setRenderTarget(r),u.render(e,a)}u.toneMapping=h,u.outputEncoding=l,u.setClearColor(f,d)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=cv()):null==this._equirectShader&&(this._equirectShader=sv());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Di(Ym[0],r),o=r.uniforms;o["envMap"].value=e,e.isCubeTexture||o["texelSize"].value.set(1/e.image.width,1/e.image.height),o["inputEncoding"].value=qm[e.encoding],o["outputEncoding"].value=qm[t.texture.encoding],ov(t,0,0,3*Hm,2*Hm),n.setRenderTarget(t),n.render(i,Xm)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<Vm;r++){const t=Math.sqrt(Zm[r]*Zm[r]-Zm[r-1]*Zm[r-1]),n=ev[(r-1)%ev.length];this._blur(e,r-1,r,t,n)}t.autoClear=n},_blur:function(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)},_halfBlur:function(e,t,n,r,i,o,a){const s=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,l=new Di(Ym[r],c),h=c.uniforms,f=$m[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*Wm-1),p=i/d,m=isFinite(i)?1+Math.floor(u*p):Wm;m>Wm&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Wm}`);const v=[];let g=0;for(let x=0;x<Wm;++x){const e=x/p,t=Math.exp(-e*e/2);v.push(t),0==x?g+=t:x<m&&(g+=2*t)}for(let x=0;x<v.length;x++)v[x]=v[x]/g;h["envMap"].value=e.texture,h["samples"].value=m,h["weights"].value=v,h["latitudinal"].value="latitudinal"===o,a&&(h["poleAxis"].value=a),h["dTheta"].value=d,h["mipInt"].value=Bm-n,h["inputEncoding"].value=qm[e.texture.encoding],h["outputEncoding"].value=qm[e.texture.encoding];const y=$m[r],b=3*Math.max(0,Hm-2*y),_=(0===r?0:2*Hm)+2*y*(r>Bm-zm?r-Bm+zm:0);ov(t,b,_,3*y,2*y),s.setRenderTarget(t),s.render(l,Xm)}};function hv(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom",this.closed=!0}function fv(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom"}function dv(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom"}sd.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(sd.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Id.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new Gi;for(let n=0,r=e.length;n<r;n++){const r=e[n];t.vertices.push(new En(r.x,r.y,r.z||0))}return t}}),Object.assign(Nd.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),hv.prototype=Object.create(md.prototype),fv.prototype=Object.create(md.prototype),dv.prototype=Object.create(md.prototype),Object.assign(dv.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),xm.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},mm.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Kf.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Kd.extractUrlBase(e)}}),Kf.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(rp.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(im.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(dr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(vr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),so.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},sm.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(dn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),dn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),dn.ceilPowerOfTwo(e)}}),Object.assign(mn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(In.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new En).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),Pr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Sn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ar.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Ur.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Ur,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ur.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ur.getNormal(e,t,n,r)}}),Object.assign(Dd.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Kh(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new hf(this,e)}}),Object.assign(pn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(En.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_n.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Gi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(Kn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Kn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Di.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Di.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Wt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(bl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Sl.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),_l.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(sd.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Qi.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Fd.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Qr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ln},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ln)}}}),Object.assign(Qr.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ln:un),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(yi.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Qr(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(yi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Qd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Kp.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Ku.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ln},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ku.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ln:un),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Qh.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Zp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties($r.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Gr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===_}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ef.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ji.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Yu.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Yu.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?$t:Yt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Uu.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(xn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Mp.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this,n=new mp;return n.load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Op.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},no.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};gn.crossOrigin=void 0,gn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new ad;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},gn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new od;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},gn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},gn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:c}}));var pv=function(){var e=/^[og]\s*(.+)?/,t=/^mtllib /,n=/^usemtl /,r=/^usemap /,i=new En,o=new En,a=new En,s=new En,c=new En;function u(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasNormalIndices:!1,hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){var n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){var n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){var r=this.vertices,u=this.object.geometry.normals;i.fromArray(r,e),o.fromArray(r,t),a.fromArray(r,n),c.subVectors(a,o),s.subVectors(i,o),c.cross(s),c.normalize(),u.push(c.x,c.y,c.z),u.push(c.x,c.y,c.z),u.push(c.x,c.y,c.z)},addColor:function(e,t,n){var r=this.colors,i=this.object.geometry.colors;void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){var e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){var t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,o,a,s,c){var u=this.vertices.length,l=this.parseVertexIndex(e,u),h=this.parseVertexIndex(t,u),f=this.parseVertexIndex(n,u);if(this.addVertex(l,h,f),this.addColor(l,h,f),void 0!==a&&""!==a){var d=this.normals.length;l=this.parseNormalIndex(a,d),h=this.parseNormalIndex(s,d),f=this.parseNormalIndex(c,d),this.addNormal(l,h,f),this.object.geometry.hasNormalIndices=!0}else this.addFaceNormal(l,h,f);if(void 0!==r&&""!==r){var p=this.uvs.length;l=this.parseUVIndex(r,p),h=this.parseUVIndex(i,p),f=this.parseUVIndex(o,p),this.addUV(l,h,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,n=0,r=e.length;n<r;n++)this.addVertexPoint(this.parseVertexIndex(e[n],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));var a=0;for(o=t.length;a<o;a++)this.addUVLine(this.parseUVIndex(t[a],r))}};return e.startObject("",!1),e}function l(e){Kf.call(this,e),this.materials=null}return l.prototype=Object.assign(Object.create(Kf.prototype),{constructor:l,load:function(e,t,n,r){var i=this,o=new ed(i.manager);o.setPath(this.path),o.load(e,(function(n){try{t(i.parse(n))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},setMaterials:function(e){return this.materials=e,this},parse:function(i){var o=new u;-1!==i.indexOf("\r\n")&&(i=i.replace(/\r\n/g,"\n")),-1!==i.indexOf("\\\n")&&(i=i.replace(/\\\n/g,""));for(var a=i.split("\n"),s="",c="",l=0,h=[],f="function"===typeof"".trimLeft,d=0,p=a.length;d<p;d++)if(s=a[d],s=f?s.trimLeft():s.trim(),l=s.length,0!==l&&(c=s.charAt(0),"#"!==c))if("v"===c){var m=s.split(/\s+/);switch(m[0]){case"v":o.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),m.length>=7?o.colors.push(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6])):o.colors.push(void 0,void 0,void 0);break;case"vn":o.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":o.uvs.push(parseFloat(m[1]),parseFloat(m[2]));break}}else if("f"===c){for(var v=s.substr(1).trim(),g=v.split(/\s+/),y=[],b=0,_=g.length;b<_;b++){var x=g[b];if(x.length>0){var w=x.split("/");y.push(w)}}var S=y[0];for(b=1,_=y.length-1;b<_;b++){var A=y[b],T=y[b+1];o.addFace(S[0],A[0],T[0],S[1],A[1],T[1],S[2],A[2],T[2])}}else if("l"===c){var E=s.substring(1).trim().split(" "),M=[],P=[];if(-1===s.indexOf("/"))M=E;else for(var C=0,R=E.length;C<R;C++){var k=E[C].split("/");""!==k[0]&&M.push(k[0]),""!==k[1]&&P.push(k[1])}o.addLineGeometry(M,P)}else if("p"===c){v=s.substr(1).trim();var L=v.split(" ");o.addPointGeometry(L)}else if(null!==(h=e.exec(s))){var O=(" "+h[0].substr(1).trim()).substr(1);o.startObject(O)}else if(n.test(s))o.object.startMaterial(s.substring(7).trim(),o.materialLibraries);else if(t.test(s))o.materialLibraries.push(s.substring(7).trim());else if(r.test(s))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===c){if(h=s.split(" "),h.length>1){var I=h[1].trim().toLowerCase();o.object.smooth="0"!==I&&"off"!==I}else o.object.smooth=!0;var N=o.object.currentMaterial();N&&(N.smooth=o.object.smooth)}else{if("\0"===s)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+s+'"')}o.finalize();var D=new Vu;D.materialLibraries=[].concat(o.materialLibraries);for(d=0,p=o.objects.length;d<p;d++){var F=o.objects[d],j=F.geometry,U=F.materials,z="Line"===j.type,B="Points"===j.type,H=!1;if(0!==j.vertices.length){var G=new yi;G.setAttribute("position",new si(j.vertices,3)),!0===j.hasNormalIndices&&G.setAttribute("normal",new si(j.normals,3)),j.colors.length>0&&(H=!0,G.setAttribute("color",new si(j.colors,3))),!0===j.hasUVIndices&&G.setAttribute("uv",new si(j.uvs,2));for(var V,W=[],q=0,X=U.length;q<X;q++){var Y=U[q],$=Y.name+"_"+Y.smooth+"_"+H;N=o.materials[$];if(null!==this.materials)if(N=this.materials.create(Y.name),!z||!N||N instanceof Rl){if(B&&N&&!(N instanceof Bl)){var Z=new Bl({size:10,sizeAttenuation:!1});$r.prototype.copy.call(Z,N),Z.color.copy(N.color),Z.map=N.map,N=Z}}else{var J=new Rl;$r.prototype.copy.call(J,N),J.color.copy(N.color),N=J}void 0===N&&(N=z?new Rl:B?new Bl({size:1,sizeAttenuation:!1}):new Ef,N.name=Y.name,N.flatShading=!Y.smooth,N.vertexColors=H,o.materials[$]=N),W.push(N)}if(W.length>1){for(q=0,X=U.length;q<X;q++){Y=U[q];G.addGroup(Y.groupStart,Y.groupCount,q)}V=z?new Ul(G,W):B?new ql(G,W):new Di(G,W)}else V=z?new Ul(G,W[0]):B?new ql(G,W[0]):new Di(G,W[0]);V.name=F.name,D.add(V)}}return D}}),l}(),mv=function(e){Kf.call(this,e)};mv.prototype=Object.assign(Object.create(Kf.prototype),{constructor:mv,load:function(e,t,n,r){var i=this,o=""===this.path?Kd.extractUrlBase(e):this.path,a=new ed(this.manager);a.setPath(this.path),a.load(e,(function(n){try{t(i.parse(n,o))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(e,t){for(var n=e.split("\n"),r={},i=/\s+/,o={},a=0;a<n.length;a++){var s=n[a];if(s=s.trim(),0!==s.length&&"#"!==s.charAt(0)){var c=s.indexOf(" "),u=c>=0?s.substring(0,c):s;u=u.toLowerCase();var l=c>=0?s.substring(c+1):"";if(l=l.trim(),"newmtl"===u)r={name:l},o[l]=r;else if("ka"===u||"kd"===u||"ks"===u||"ke"===u){var h=l.split(i,3);r[u]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else r[u]=l}}var f=new mv.MaterialCreator(this.resourcePath||t,this.materialOptions);return f.setCrossOrigin(this.crossOrigin),f.setManager(this.manager),f.setMaterials(o),f}}),mv.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:g,this.wrap=this.options&&this.options.wrap?this.options.wrap:de},mv.MaterialCreator.prototype={constructor:mv.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(e){return this.crossOrigin=e,this},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var n in e){var r=e[n],i={};for(var o in t[n]=i,r){var a=!0,s=r[o],c=o.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1);break;default:break}a&&(i[c]=s)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){var t=this,n=this.materialsInfo[e],r={name:e,side:this.side};function i(e,t){return"string"!==typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function o(e,n){if(!r[e]){var o=t.getTextureParams(n,r),a=t.loadTexture(i(t.baseUrl,o.url));a.repeat.copy(o.scale),a.offset.copy(o.offset),a.wrapS=t.wrap,a.wrapT=t.wrap,r[e]=a}}for(var a in n){var s,c=n[a];if(""!==c)switch(a.toLowerCase()){case"kd":r.color=(new Gr).fromArray(c);break;case"ks":r.specular=(new Gr).fromArray(c);break;case"ke":r.emissive=(new Gr).fromArray(c);break;case"map_kd":o("map",c);break;case"map_ks":o("specularMap",c);break;case"map_ke":o("emissiveMap",c);break;case"norm":o("normalMap",c);break;case"map_bump":case"bump":o("bumpMap",c);break;case"map_d":o("alphaMap",c),r.transparent=!0;break;case"ns":r.shininess=parseFloat(c);break;case"d":s=parseFloat(c),s<1&&(r.opacity=s,r.transparent=!0);break;case"tr":s=parseFloat(c),this.options&&this.options.invertTrProperty&&(s=1-s),s>0&&(r.opacity=1-s,r.transparent=!0);break;default:break}}return this.materials[e]=new Ef(r),this.materials[e]},getTextureParams:function(e,t){var n,r={scale:new pn(1,1),offset:new pn(0,0)},i=e.split(/\s+/);return n=i.indexOf("-bm"),n>=0&&(t.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),n=i.indexOf("-s"),n>=0&&(r.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),n=i.indexOf("-o"),n>=0&&(r.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),r.url=i.join(" ").trim(),r},loadTexture:function(e,t,n,r,i){var o,a=void 0!==this.manager?this.manager:Jf,s=a.getHandler(e);return null===s&&(s=new ad(a)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(e,n,r,i),void 0!==t&&(o.mapping=t),o}};var vv=function(e){nd.call(this,e)};function gv(e,t,n){const r=this;let i=!1,o=0,a=0,s=void 0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){const t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=c.length;t<n;t+=2){const n=c[t],r=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}vv.prototype=Object.assign(Object.create(nd.prototype),{constructor:vv,parse:function(e,t){var n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},r=542327876,i=131072,o=512,a=1024,s=2048,c=4096,u=8192,l=16384,h=32768,f=4;function d(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function p(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}function m(e,t,n,r){for(var i=n*r*4,o=new Uint8Array(e,t,i),a=new Uint8Array(i),s=0,c=0,u=0;u<r;u++)for(var l=0;l<n;l++){var h=o[c];c++;var f=o[c];c++;var d=o[c];c++;var p=o[c];c++,a[s]=d,s++,a[s]=f,s++,a[s]=h,s++,a[s]=p,s++}return a}var v,g=d("DXT1"),y=d("DXT3"),b=d("DXT5"),_=d("ETC1"),x=31,w=0,S=1,A=2,T=3,E=4,M=7,P=20,C=21,R=22,k=23,L=24,O=25,I=26,N=28,D=new Int32Array(e,0,x);if(D[w]!==r)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),n;if(!D[P]&f)return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),n;var F=D[C],j=!1;switch(F){case g:v=8,n.format=Ye;break;case y:v=16,n.format=Ze;break;case b:v=16,n.format=Je;break;case _:v=8,n.format=nt;break;default:if(!(32===D[R]&&16711680&D[k]&&65280&D[L]&&255&D[O]&&4278190080&D[I]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",p(F)),n;j=!0,v=64,n.format=De}n.mipmapCount=1,D[A]&i&&!1!==t&&(n.mipmapCount=Math.max(1,D[M]));var U=D[N];if(n.isCubemap=!!(U&o),n.isCubemap&&(!(U&a)||!(U&s)||!(U&c)||!(U&u)||!(U&l)||!(U&h)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),n;n.width=D[E],n.height=D[T];for(var z=D[S]+4,B=n.isCubemap?6:1,H=0;H<B;H++)for(var G=n.width,V=n.height,W=0;W<n.mipmapCount;W++){if(j)var q=m(e,z,G,V),X=q.length;else X=Math.max(4,G)/4*Math.max(4,V)/4*v,q=new Uint8Array(e,z,X);var Y={data:q,width:G,height:V};n.mipmaps.push(Y),z+=X,G=Math.max(G>>1,1),V=Math.max(V>>1,1)}return n}});new gv;n("a133"),n("3e54"),n("e18c"),n("b6bc"),n("d838"),n("ab6e"),n("927c"),n("3c51"),n("db0a"),n("1cc1"),n("ab0f"),n("fc6e"),n("f30b"),n("cfd1"),n("d104"),n("f74a"),n("3598"),n("b497"),n("2909"),n("a7ef"),n("b523"),n("e671"),n("4140"),n("83db"),n("829d"),n("939f"),n("1bb1"),n("c3ba");var yv=new dr;function bv(e){return yv.setFromObject(e),yv.getSize(new En)}function _v(e){return yv.setFromObject(e),yv.getCenter(new En)}function xv(e){var t,n,r=e.getAttribute("position").array,i=void 0!==e.getAttribute("uv");i&&(t=e.getAttribute("uv").array);var o=void 0!==e.getAttribute("normal");o&&(n=e.getAttribute("normal").array);for(var a,s,c,u,l=[],h=[],f=[],d=[],p=new En,m=new En,v=new En,g=new En,y=new En,b=new En,_=new pn,x=new pn,w=new pn,S=0;S<r.length;S+=9)p.x=r[S],p.y=r[S+1],p.z=r[S+2],m.x=r[S+3],m.y=r[S+4],m.z=r[S+5],v.x=r[S+6],v.y=r[S+7],v.z=r[S+8],a=[p,m,v],o&&(g.x=n[S],g.y=n[S+1],g.z=n[S+2],y.x=n[S+3],y.y=n[S+4],y.z=n[S+5],b.x=n[S+6],b.y=n[S+7],b.z=n[S+8],s=[g,y,b]),i&&(_.x=t[S],_.y=t[S+1],x.x=t[S+2],x.y=t[S+3],w.x=t[S+4],w.y=t[S+5],c=[_,x,w]),u=[],a.forEach((function(e,t){var n=R(e,h);-1===n&&(n=h.length,h.push(e.clone()),o&&f.push(s[t].clone()),i&&d.push(c[t].clone())),u.push(n)})),l.push(u[0],u[1],u[2]);var A,T,E=new Float32Array(3*h.length);o&&(A=new Float32Array(3*h.length)),i&&(T=new Float32Array(2*h.length));for(var M=0,P=0,C=0;C<h.length;C++)P=3*C,E[P]=h[C].x,E[P+1]=h[C].y,E[P+2]=h[C].z,o&&(A[P]=f[C].x,A[P+1]=f[C].y,A[P+2]=f[C].z),i&&(M=2*C,T[M]=d[C].x,T[M+1]=d[C].y);return e.addAttribute("position",new Qr(E,3)),o&&e.addAttribute("normal",new Qr(A,3)),i&&e.addAttribute("uv",new Qr(T,2)),e.setIndex(new Qr(new Uint32Array(l),1)),e;function R(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}}var wv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%",margin:"0",border:"0",padding:"0"}},[e.suportWebGL?n("canvas",{ref:"canvas",staticStyle:{width:"100%",height:"100%"}}):n("div",[e._t("default",[e._v(" Your browser does not seem to support "),n("a",{staticStyle:{color:"#000"},attrs:{href:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation"}},[e._v("WebGL")]),e._v("."),n("br"),e._v("' ")])],2)])},Sv=[];n("513c"),n("f09c");function Av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tv(e){if(Array.isArray(e))return Av(e)}n("f3dd"),n("0a51"),n("9b11"),n("98e0"),n("96db"),n("af86");function Ev(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n("77ad"),n("1c2e8");function Mv(e,t){if(e){if("string"===typeof e)return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Av(e,t):void 0}}function Pv(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cv(e){return Tv(e)||Ev(e)||Mv(e)||Pv()}var Rv=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new En,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:u.ROTATE,MIDDLE:u.DOLLY,RIGHT:u.PAN},this.touches={ONE:l.ROTATE,TWO:l.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=a.NONE},this.update=function(){var t=new En,i=(new Sn).setFromUnitVectors(e.up,new En(0,1,0)),o=i.clone().inverse(),u=new En,l=new Sn,v=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),h.setFromVector3(t),n.autoRotate&&s===a.NONE&&M(T()),n.enableDamping?(h.theta+=f.theta*n.dampingFactor,h.phi+=f.phi*n.dampingFactor):(h.theta+=f.theta,h.phi+=f.phi);var g=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(g)&&isFinite(y)&&(g<-Math.PI?g+=v:g>Math.PI&&(g-=v),y<-Math.PI?y+=v:y>Math.PI&&(y-=v),h.theta=g<y?Math.max(g,Math.min(y,h.theta)):h.theta>(g+y)/2?Math.max(g,h.theta):Math.min(y,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=d,h.radius=Math.max(n.minDistance,Math.min(n.maxDistance,h.radius)),!0===n.enableDamping?n.target.addScaledVector(p,n.dampingFactor):n.target.add(p),t.setFromSpherical(h),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),p.set(0,0,0)),d=1,!!(m||u.distanceToSquared(n.object.position)>c||8*(1-l.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),u.copy(n.object.position),l.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",ce,!1),n.domElement.removeEventListener("mousedown",ee,!1),n.domElement.removeEventListener("wheel",re,!1),n.domElement.removeEventListener("touchstart",oe,!1),n.domElement.removeEventListener("touchend",se,!1),n.domElement.removeEventListener("touchmove",ae,!1),n.domElement.ownerDocument.removeEventListener("mousemove",te,!1),n.domElement.ownerDocument.removeEventListener("mouseup",ne,!1),n.domElement.removeEventListener("keydown",ie,!1)};var n=this,r={type:"change"},i={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=a.NONE,c=1e-6,h=new tm,f=new tm,d=1,p=new En,m=!1,v=new pn,g=new pn,y=new pn,b=new pn,_=new pn,x=new pn,w=new pn,S=new pn,A=new pn;function T(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function M(e){f.theta-=e}function P(e){f.phi-=e}var C=function(){var e=new En;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),p.add(e)}}(),R=function(){var e=new En;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),p.add(e)}}(),k=function(){var e=new En;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),C(2*t*a/i.clientHeight,n.object.matrix),R(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(C(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),R(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function L(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){v.set(e.clientX,e.clientY)}function N(e){w.set(e.clientX,e.clientY)}function D(e){b.set(e.clientX,e.clientY)}function F(e){g.set(e.clientX,e.clientY),y.subVectors(g,v).multiplyScalar(n.rotateSpeed);var t=n.domElement;M(2*Math.PI*y.x/t.clientHeight),P(2*Math.PI*y.y/t.clientHeight),v.copy(g),n.update()}function j(e){S.set(e.clientX,e.clientY),A.subVectors(S,w),A.y>0?L(E()):A.y<0&&O(E()),w.copy(S),n.update()}function U(e){_.set(e.clientX,e.clientY),x.subVectors(_,b).multiplyScalar(n.panSpeed),k(x.x,x.y),b.copy(_),n.update()}function z(){}function B(e){e.deltaY<0?O(E()):e.deltaY>0&&L(E()),n.update()}function H(e){var t=!1;switch(e.keyCode){case n.keys.UP:k(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function G(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,n)}}function V(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,n)}}function W(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r)}function q(e){n.enableZoom&&W(e),n.enablePan&&V(e)}function X(e){n.enableZoom&&W(e),n.enableRotate&&G(e)}function Y(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,r)}y.subVectors(g,v).multiplyScalar(n.rotateSpeed);var i=n.domElement;M(2*Math.PI*y.x/i.clientHeight),P(2*Math.PI*y.y/i.clientHeight),v.copy(g)}function $(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,r)}x.subVectors(_,b).multiplyScalar(n.panSpeed),k(x.x,x.y),b.copy(_)}function Z(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);S.set(0,i),A.set(0,Math.pow(S.y/w.y,n.zoomSpeed)),L(A.y),w.copy(S)}function J(e){n.enableZoom&&Z(e),n.enablePan&&$(e)}function K(e){n.enableZoom&&Z(e),n.enableRotate&&Y(e)}function Q(){}function ee(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.DOLLY:if(!1===n.enableZoom)return;N(e),s=a.DOLLY;break;case u.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),s=a.PAN}else{if(!1===n.enableRotate)return;I(e),s=a.ROTATE}break;case u.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;I(e),s=a.ROTATE}else{if(!1===n.enablePan)return;D(e),s=a.PAN}break;default:s=a.NONE}s!==a.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",te,!1),n.domElement.ownerDocument.addEventListener("mouseup",ne,!1),n.dispatchEvent(i))}}function te(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case a.ROTATE:if(!1===n.enableRotate)return;F(e);break;case a.DOLLY:if(!1===n.enableZoom)return;j(e);break;case a.PAN:if(!1===n.enablePan)return;U(e);break}}function ne(e){!1!==n.enabled&&(z(e),n.domElement.ownerDocument.removeEventListener("mousemove",te,!1),n.domElement.ownerDocument.removeEventListener("mouseup",ne,!1),n.dispatchEvent(o),s=a.NONE)}function re(e){!1===n.enabled||!1===n.enableZoom||s!==a.NONE&&s!==a.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),B(e),n.dispatchEvent(o))}function ie(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&H(e)}function oe(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case l.ROTATE:if(!1===n.enableRotate)return;G(e),s=a.TOUCH_ROTATE;break;case l.PAN:if(!1===n.enablePan)return;V(e),s=a.TOUCH_PAN;break;default:s=a.NONE}break;case 2:switch(n.touches.TWO){case l.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;q(e),s=a.TOUCH_DOLLY_PAN;break;case l.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;X(e),s=a.TOUCH_DOLLY_ROTATE;break;default:s=a.NONE}break;default:s=a.NONE}s!==a.NONE&&n.dispatchEvent(i)}}function ae(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;Y(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;$(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;J(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;K(e),n.update();break;default:s=a.NONE}}function se(e){!1!==n.enabled&&(Q(e),n.dispatchEvent(o),s=a.NONE)}function ce(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",ce,!1),n.domElement.addEventListener("mousedown",ee,!1),n.domElement.addEventListener("wheel",re,!1),n.domElement.addEventListener("touchstart",oe,!1),n.domElement.addEventListener("touchend",se,!1),n.domElement.addEventListener("touchmove",ae,!1),n.domElement.addEventListener("keydown",ie,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};Rv.prototype=Object.create(hn.prototype),Rv.prototype.constructor=Rv;var kv=function(e,t){Rv.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=u.PAN,this.mouseButtons.RIGHT=u.ROTATE,this.touches.ONE=l.PAN,this.touches.TWO=l.DOLLY_ROTATE};kv.prototype=Object.create(hn.prototype),kv.prototype.constructor=kv;var Lv=function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),Ov={antialias:!0,alpha:!0},Iv={props:{src:{type:String},width:{type:Number},height:{type:Number},position:{type:Object,default:function(){return{x:0,y:0,z:0}}},rotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},scale:{type:Object,default:function(){return{x:1,y:1,z:1}}},lights:{type:Array,default:function(){return[]}},cameraPosition:{type:Object,default:function(){return{x:0,y:0,z:0}}},cameraRotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},cameraUp:{type:Object},cameraLookAt:{type:Object},backgroundColor:{default:16777215},backgroundAlpha:{type:Number,default:1},controlsOptions:{type:Object},crossOrigin:{default:"anonymous"},outputEncoding:{type:Number,default:Yt},glOptions:{type:Object}},data:function(){return{suportWebGL:Lv,size:{width:this.width,height:this.height},object:null,raycaster:new Kp,mouse:new pn,camera:new Qi(45,1,.01,1e5),scene:new Qn,wrapper:new Kn,renderer:null,controls:null,allLights:[],clock:"undefined"===typeof performance?Date:performance,reqId:null}},computed:{hasListener:function(){var e=this._events,t={};return["on-mousemove","on-mouseup","on-mousedown","on-click"].forEach((function(n){t[n]=!!e[n]&&e[n].length>0})),t}},mounted:function(){void 0!==this.width&&void 0!==this.height||(this.size={width:this.$el.offsetWidth,height:this.$el.offsetHeight});var e=Object.assign({},Ov,this.glOptions,{canvas:this.$refs.canvas});this.renderer=new Yu(e),this.renderer.shadowMap.enabled=!0,this.renderer.outputEncoding=this.outputEncoding,this.controls=new Rv(this.camera,this.$el),this.controls.type="orbit",this.scene.add(this.wrapper),this.load(),this.update(),this.$el.addEventListener("mousedown",this.onMouseDown,!1),this.$el.addEventListener("mousemove",this.onMouseMove,!1),this.$el.addEventListener("mouseup",this.onMouseUp,!1),this.$el.addEventListener("click",this.onClick,!1),window.addEventListener("resize",this.onResize,!1),this.animate()},beforeDestroy:function(){cancelAnimationFrame(this.reqId),this.scene.dispose(),this.renderer.dispose(),this.controls&&this.controls.dispose(),this.$el.removeEventListener("mousedown",this.onMouseDown,!1),this.$el.removeEventListener("mousemove",this.onMouseMove,!1),this.$el.removeEventListener("mouseup",this.onMouseUp,!1),this.$el.removeEventListener("click",this.onClick,!1),window.removeEventListener("resize",this.onResize,!1)},watch:{src:function(){this.load()},rotation:{deep:!0,handler:function(e){this.object&&this.object.rotation.set(e.x,e.y,e.z)}},position:{deep:!0,handler:function(e){this.object&&this.object.position.set(e.x,e.y,e.z)}},scale:{deep:!0,handler:function(e){this.object&&this.object.scale.set(e.x,e.y,e.z)}},lights:{deep:!0,handler:function(){this.updateLights()}},size:{deep:!0,handler:function(){this.updateCamera(),this.updateRenderer()}},controlsOptions:{deep:!0,handler:function(){this.updateControls()}},backgroundAlpha:function(){this.updateRenderer()},backgroundColor:function(){this.updateRenderer()}},methods:{onResize:function(){var e=this;void 0!==this.width&&void 0!==this.height||this.$nextTick((function(){e.size={width:e.$el.offsetWidth,height:e.$el.offsetHeight}}))},onMouseDown:function(e){if(this.hasListener["on-mousedown"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousedown",t)}},onMouseMove:function(e){if(this.hasListener["on-mousemove"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mousemove",t)}},onMouseUp:function(e){if(this.hasListener["on-mouseup"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-mouseup",t)}},onClick:function(e){if(this.hasListener["on-click"]){var t=this.pick(e.clientX,e.clientY);this.$emit("on-click",t)}},pick:function(e,t){if(!this.object)return null;var n=this.$el.getBoundingClientRect();e-=n.left,t-=n.top,this.mouse.x=e/this.size.width*2-1,this.mouse.y=-t/this.size.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObject(this.object,!0);return(r&&r.length)>0?r[0]:null},update:function(){this.updateRenderer(),this.updateCamera(),this.updateLights(),this.updateControls()},updateModel:function(){var e=this.object;if(e){var t=this.position,n=this.rotation,r=this.scale;e.position.set(t.x,t.y,t.z),e.rotation.set(n.x,n.y,n.z),e.scale.set(r.x,r.y,r.z)}},updateRenderer:function(){var e=this.renderer;e.setSize(this.size.width,this.size.height),e.setPixelRatio(window.devicePixelRatio||1),e.setClearColor(new Gr(this.backgroundColor).getHex()),e.setClearAlpha(this.backgroundAlpha)},updateCamera:function(){var e=this.camera,t=this.object;if(e.aspect=this.size.width/this.size.height,e.updateProjectionMatrix(),this.cameraLookAt||this.cameraUp)e.position.set(this.cameraPosition.x,this.cameraPosition.y,this.cameraPosition.z),e.rotation.set(this.cameraRotation.x,this.cameraRotation.y,this.cameraRotation.z),e.up.set(this.cameraUp.x,this.cameraUp.y,this.cameraUp.z),e.lookAt(new En(this.cameraLookAt.x,this.cameraLookAt.y,this.cameraLookAt.z));else{if(!t)return;var n=bv(t).length();e.position.set(this.cameraPosition.x,this.cameraPosition.y,this.cameraPosition.z),e.rotation.set(this.cameraRotation.x,this.cameraRotation.y,this.cameraRotation.z),0===this.cameraPosition.x&&0===this.cameraPosition.y&&0===this.cameraPosition.z&&(e.position.z=n),e.lookAt(new En)}},updateLights:function(){var e,t=this;(e=this.scene).remove.apply(e,Cv(this.allLights)),this.allLights=[],this.lights.forEach((function(e){if(e.type){var n=e.type.toLowerCase(),r=null;if("ambient"===n||"ambientlight"===n){var i=0===e.color?e.color:e.color||4210752,o=0===e.intensity?e.intensity:e.intensity||1;r=new Xd(i,o)}else if("point"===n||"pointlight"===n){var a=0===e.color?e.color:e.color||16777215,s=0===e.intensity?e.intensity:e.intensity||1,c=e.distance||0,u=0===e.decay?e.decay:e.decay||1;r=new Gd(a,s,c,u),e.position&&r.position.copy(e.position)}else if("directional"===n||"directionallight"===n){var l=0===e.color?e.color:e.color||16777215,h=0===e.intensity?e.intensity:e.intensity||1;r=new qd(l,h),e.position&&r.position.copy(e.position),e.target&&r.target.copy(e.target)}else if("hemisphere"===n||"hemispherelight"===n){var f=0===e.skyColor?e.skyColor:e.skyColor||16777215,d=0===e.groundColor?e.groundColor:e.groundColor||16777215,p=0===e.intensity?e.intensity:e.intensity||1;r=new jd(f,d,p),e.position&&r.position.copy(e.position)}t.allLights.push(r),t.scene.add(r)}}))},updateControls:function(){this.controlsOptions&&Object.assign(this.controls,this.controlsOptions)},load:function(){var e=this;this.src&&(this.object&&this.wrapper.remove(this.object),this.loader.load(this.src,(function(){var t=e.getObject.apply(e,arguments);e.process&&e.process(t),e.addObject(t),e.$emit("on-load")}),(function(t){e.$emit("on-progress",t)}),(function(t){e.$emit("on-error",t)})))},getObject:function(e){return e},addObject:function(e){var t=_v(e);this.wrapper.position.copy(t.negate()),this.object=e,this.wrapper.add(e),this.updateCamera(),this.updateModel()},animate:function(){this.reqId=requestAnimationFrame(this.animate),this.render()},render:function(){this.renderer.render(this.scene,this.camera)}}},Nv=Iv;function Dv(e,t,n,r,i,o,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}var Fv=Dv(Nv,wv,Sv,!1,null,null,null),jv=Fv.exports,Uv=new gv;Uv.addHandler(/\.dds$/i,new vv);var zv,Bv,Hv={name:"model-obj",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},smoothing:{type:Boolean,default:!1},mtlPath:{type:String},mtl:{type:String}},data:function(){var e=new pv(Uv),t=new mv(Uv);return t.setCrossOrigin(this.crossOrigin),{loader:e,mtlLoader:t}},watch:{mtl:function(){this.load()}},methods:{process:function(e){this.smoothing&&e.traverse((function(e){e.geometry&&(e.geometry=xv(e.geometry),e.geometry.computeVertexNormals())}))},load:function(){var e=this;if(this.src){this.object&&this.wrapper.remove(this.object);var t=function(t){e.process&&e.process(t),e.addObject(t),e.$emit("on-load")},n=function(t){e.$emit("on-progress",t)},r=function(t){e.$emit("on-error",t)};if(this.mtl){var i=this.mtlPath,o=this.mtl;if(!this.mtlPath){var a=/^(.*\/)([^/]*)$/.exec(this.mtl);a&&(i=a[1],o=a[2])}i&&this.mtlLoader.setPath(i),this.mtlLoader.load(o,(function(i){i.preload(),e.loader.setMaterials(i).load(e.src,t,n,r)}),(function(){}),r)}else this.loader.load(this.src,t,n,r)}}}},Gv=Hv,Vv=Dv(Gv,zv,Bv,!1,null,null,null),Wv=Vv.exports,qv={},Xv=void 0,Yv=qv;function $v(e,t){var n,r=e.split("."),i=Yv;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||t===Xv?i=i[n]?i[n]:i[n]={}:i[n]=t}var Zv="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function Jv(e){var t,n,r,i,o,a,s,c,u,l,h=e.length,f=0,d=Number.POSITIVE_INFINITY;for(c=0;c<h;++c)e[c]>f&&(f=e[c]),e[c]<d&&(d=e[c]);for(t=1<<f,n=new(Zv?Uint32Array:Array)(t),r=1,i=0,o=2;r<=f;){for(c=0;c<h;++c)if(e[c]===r){for(a=0,s=i,u=0;u<r;++u)a=a<<1|1&s,s>>=1;for(l=r<<16|c,u=a;u<t;u+=o)n[u]=l;++i}++r,i<<=1,o<<=1}return[n,f,d]}function Kv(e,t){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=Zv?new Uint8Array(e):e,this.m=!1,this.i=eg,this.r=!1,!t&&(t={})||(t.index&&(this.a=t.index),t.bufferSize&&(this.h=t.bufferSize),t.bufferType&&(this.i=t.bufferType),t.resize&&(this.r=t.resize)),this.i){case Qv:this.b=32768,this.c=new(Zv?Uint8Array:Array)(32768+this.h+258);break;case eg:this.b=0,this.c=new(Zv?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var Qv=0,eg=1,tg={t:Qv,s:eg};Kv.prototype.k=function(){for(;!this.m;){var e=_g(this,3);switch(1&e&&(this.m=!0),e>>>=1,e){case 0:var t=this.input,n=this.a,r=this.c,i=this.b,o=t.length,a=Xv,s=Xv,c=r.length,u=Xv;if(this.d=this.f=0,n+1>=o)throw Error("invalid uncompressed block header: LEN");if(a=t[n++]|t[n++]<<8,n+1>=o)throw Error("invalid uncompressed block header: NLEN");if(s=t[n++]|t[n++]<<8,a===~s)throw Error("invalid uncompressed block header: length verify");if(n+a>t.length)throw Error("input buffer is broken");switch(this.i){case Qv:for(;i+a>r.length;){if(u=c-i,a-=u,Zv)r.set(t.subarray(n,n+u),i),i+=u,n+=u;else for(;u--;)r[i++]=t[n++];this.b=i,r=this.e(),i=this.b}break;case eg:for(;i+a>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(Zv)r.set(t.subarray(n,n+a),i),i+=a,n+=a;else for(;a--;)r[i++]=t[n++];this.a=n,this.b=i,this.c=r;break;case 1:this.j(gg,bg);break;case 2:var l=_g(this,5)+257,h=_g(this,5)+1,f=_g(this,4)+4,d=new(Zv?Uint8Array:Array)(og.length),p=Xv,m=Xv,v=Xv,g=Xv,y=Xv,b=Xv,_=Xv,x=Xv,w=Xv;for(x=0;x<f;++x)d[og[x]]=_g(this,3);if(!Zv)for(x=f,f=d.length;x<f;++x)d[og[x]]=0;for(p=Jv(d),g=new(Zv?Uint8Array:Array)(l+h),x=0,w=l+h;x<w;)switch(y=xg(this,p),y){case 16:for(_=3+_g(this,2);_--;)g[x++]=b;break;case 17:for(_=3+_g(this,3);_--;)g[x++]=0;b=0;break;case 18:for(_=11+_g(this,7);_--;)g[x++]=0;b=0;break;default:b=g[x++]=y}m=Jv(Zv?g.subarray(0,l):g.slice(0,l)),v=Jv(Zv?g.subarray(l):g.slice(l)),this.j(m,v);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var ng,rg,ig=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],og=Zv?new Uint16Array(ig):ig,ag=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],sg=Zv?new Uint16Array(ag):ag,cg=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],ug=Zv?new Uint8Array(cg):cg,lg=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],hg=Zv?new Uint16Array(lg):lg,fg=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],dg=Zv?new Uint8Array(fg):fg,pg=new(Zv?Uint8Array:Array)(288);for(ng=0,rg=pg.length;ng<rg;++ng)pg[ng]=143>=ng?8:255>=ng?9:279>=ng?7:8;var mg,vg,gg=Jv(pg),yg=new(Zv?Uint8Array:Array)(30);for(mg=0,vg=yg.length;mg<vg;++mg)yg[mg]=5;var bg=Jv(yg);function _g(e,t){for(var n,r=e.f,i=e.d,o=e.input,a=e.a,s=o.length;i<t;){if(a>=s)throw Error("input buffer is broken");r|=o[a++]<<i,i+=8}return n=r&(1<<t)-1,e.f=r>>>t,e.d=i-t,e.a=a,n}function xg(e,t){for(var n,r,i=e.f,o=e.d,a=e.input,s=e.a,c=a.length,u=t[0],l=t[1];o<l&&!(s>=c);)i|=a[s++]<<o,o+=8;if(n=u[i&(1<<l)-1],r=n>>>16,r>o)throw Error("invalid code length: "+r);return e.f=i>>r,e.d=o-r,e.a=s,65535&n}function wg(e,t){var n,r;switch(this.input=e,this.a=0,!t&&(t={})||(t.index&&(this.a=t.index),t.verify&&(this.A=t.verify)),n=e[this.a++],r=e[this.a++],15&n){case Sg:this.method=Sg;break;default:throw Error("unsupported compression method")}if(0!==((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new Kv(e,{index:this.a,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}Kv.prototype.j=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,o,a,s,c=n.length-258;256!==(i=xg(this,e));)if(256>i)r>=c&&(this.b=r,n=this.e(),r=this.b),n[r++]=i;else for(o=i-257,s=sg[o],0<ug[o]&&(s+=_g(this,ug[o])),i=xg(this,t),a=hg[i],0<dg[i]&&(a+=_g(this,dg[i])),r>=c&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},Kv.prototype.w=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,o,a,s,c=n.length;256!==(i=xg(this,e));)if(256>i)r>=c&&(n=this.e(),c=n.length),n[r++]=i;else for(o=i-257,s=sg[o],0<ug[o]&&(s+=_g(this,ug[o])),i=xg(this,t),a=hg[i],0<dg[i]&&(a+=_g(this,dg[i])),r+s>c&&(n=this.e(),c=n.length);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},Kv.prototype.e=function(){var e,t,n=new(Zv?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.c;if(Zv)n.set(i.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=i[e+32768];if(this.g.push(n),this.l+=n.length,Zv)i.set(i.subarray(r,r+32768));else for(e=0;32768>e;++e)i[e]=i[r+e];return this.b=32768,i},Kv.prototype.z=function(e){var t,n,r,i,o=this.input.length/this.a+1|0,a=this.input,s=this.c;return e&&("number"===typeof e.p&&(o=e.p),"number"===typeof e.u&&(o+=e.u)),2>o?(n=(a.length-this.a)/this.o[2],i=n/2*258|0,r=i<s.length?s.length+i:s.length<<1):r=s.length*o,Zv?(t=new Uint8Array(r),t.set(s)):t=s,this.c=t},Kv.prototype.n=function(){var e,t,n,r,i,o=0,a=this.c,s=this.g,c=new(Zv?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return Zv?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(t=0,n=s.length;t<n;++t)for(e=s[t],r=0,i=e.length;r<i;++r)c[o++]=e[r];for(t=32768,n=this.b;t<n;++t)c[o++]=a[t];return this.g=[],this.buffer=c},Kv.prototype.v=function(){var e,t=this.b;return Zv?this.r?(e=new Uint8Array(t),e.set(this.c.subarray(0,t))):e=this.c.subarray(0,t):(this.c.length>t&&(this.c.length=t),e=this.c),this.buffer=e},wg.prototype.k=function(){var e,t,n=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){t=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=e;if("string"===typeof r){var i,o,a=r.split("");for(i=0,o=a.length;i<o;i++)a[i]=(255&a[i].charCodeAt(0))>>>0;r=a}for(var s,c=1,u=0,l=r.length,h=0;0<l;){s=1024<l?1024:l,l-=s;do{c+=r[h++],u+=c}while(--s);c%=65521,u%=65521}if(t!==(u<<16|c)>>>0)throw Error("invalid adler-32 checksum")}return e};var Sg=8;$v("Zlib.Inflate",wg),$v("Zlib.Inflate.prototype.decompress",wg.prototype.k);var Ag,Tg,Eg,Mg,Pg={ADAPTIVE:tg.s,BLOCK:tg.t};if(Object.keys)Ag=Object.keys(Pg);else for(Tg in Ag=[],Eg=0,Pg)Ag[Eg++]=Tg;for(Eg=0,Mg=Ag.length;Eg<Mg;++Eg)Tg=Ag[Eg],$v("Zlib.Inflate.BufferType."+Tg,Pg[Tg]);var Cg=qv.Zlib,Rg={findSpan:function(e,t,n){var r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;var i=e,o=r,a=Math.floor((i+o)/2);while(t<n[a]||t>=n[a+1])t<n[a]?o=a:i=a,a=Math.floor((i+o)/2);return a},calcBasisFunctions:function(e,t,n,r){var i=[],o=[],a=[];i[0]=1;for(var s=1;s<=n;++s){o[s]=t-r[e+1-s],a[s]=r[e+s]-t;for(var c=0,u=0;u<s;++u){var l=a[u+1],h=o[s-u],f=i[u]/(l+h);i[u]=c+l*f,c=h*f}i[s]=c}return i},calcBSplinePoint:function(e,t,n,r){for(var i=this.findSpan(e,r,t),o=this.calcBasisFunctions(i,r,e,t),a=new _n(0,0,0,0),s=0;s<=e;++s){var c=n[i-e+s],u=o[s],l=c.w*u;a.x+=c.x*l,a.y+=c.y*l,a.z+=c.z*l,a.w+=c.w*u}return a},calcBasisFunctionDerivatives:function(e,t,n,r,i){for(var o=[],a=0;a<=n;++a)o[a]=0;var s=[];for(a=0;a<=r;++a)s[a]=o.slice(0);var c=[];for(a=0;a<=n;++a)c[a]=o.slice(0);c[0][0]=1;for(var u=o.slice(0),l=o.slice(0),h=1;h<=n;++h){u[h]=t-i[e+1-h],l[h]=i[e+h]-t;for(var f=0,d=0;d<h;++d){var p=l[d+1],m=u[h-d];c[h][d]=p+m;var v=c[d][h-1]/c[h][d];c[d][h]=f+p*v,f=m*v}c[h][h]=f}for(h=0;h<=n;++h)s[0][h]=c[h][n];for(d=0;d<=n;++d){var g=0,y=1,b=[];for(a=0;a<=n;++a)b[a]=o.slice(0);b[0][0]=1;for(var _=1;_<=r;++_){var x=0,w=d-_,S=n-_;d>=_&&(b[y][0]=b[g][0]/c[S+1][w],x=b[y][0]*c[w][S]);var A=w>=-1?1:-w,T=d-1<=S?_-1:n-d;for(h=A;h<=T;++h)b[y][h]=(b[g][h]-b[g][h-1])/c[S+1][w+h],x+=b[y][h]*c[w+h][S];d<=S&&(b[y][_]=-b[g][_-1]/c[S+1][d],x+=b[y][_]*c[d][S]),s[_][d]=x;h=g;g=y,y=h}}for(d=n,_=1;_<=r;++_){for(h=0;h<=n;++h)s[_][h]*=d;d*=n-_}return s},calcBSplineDerivatives:function(e,t,n,r,i){for(var o=i<e?i:e,a=[],s=this.findSpan(e,r,t),c=this.calcBasisFunctionDerivatives(s,r,e,o,t),u=[],l=0;l<n.length;++l){var h=n[l].clone(),f=h.w;h.x*=f,h.y*=f,h.z*=f,u[l]=h}for(var d=0;d<=o;++d){h=u[s-e].clone().multiplyScalar(c[d][0]);for(var p=1;p<=e;++p)h.add(u[s-e+p].clone().multiplyScalar(c[d][p]));a[d]=h}for(d=o+1;d<=i+1;++d)a[d]=new _n(0,0,0);return a},calcKoverI:function(e,t){for(var n=1,r=2;r<=e;++r)n*=r;var i=1;for(r=2;r<=t;++r)i*=r;for(r=2;r<=e-t;++r)i*=r;return n/i},calcRationalCurveDerivatives:function(e){for(var t=e.length,n=[],r=[],i=0;i<t;++i){var o=e[i];n[i]=new En(o.x,o.y,o.z),r[i]=o.w}for(var a=[],s=0;s<t;++s){var c=n[s].clone();for(i=1;i<=s;++i)c.sub(a[s-i].clone().multiplyScalar(this.calcKoverI(s,i)*r[i]));a[s]=c.divideScalar(r[0])}return a},calcNURBSDerivatives:function(e,t,n,r,i){var o=this.calcBSplineDerivatives(e,t,n,r,i);return this.calcRationalCurveDerivatives(o)},calcSurfacePoint:function(e,t,n,r,i,o,a,s){for(var c=this.findSpan(e,o,n),u=this.findSpan(t,a,r),l=this.calcBasisFunctions(c,o,e,n),h=this.calcBasisFunctions(u,a,t,r),f=[],d=0;d<=t;++d){f[d]=new _n(0,0,0,0);for(var p=0;p<=e;++p){var m=i[c-e+p][u-t+d].clone(),v=m.w;m.x*=v,m.y*=v,m.z*=v,f[d].add(m.multiplyScalar(l[p]))}}var g=new _n(0,0,0,0);for(d=0;d<=t;++d)g.add(f[d].multiplyScalar(h[d]));g.divideScalar(g.w),s.set(g.x,g.y,g.z)}},kg=function(e,t,n,r,i){sd.call(this),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(var o=0;o<n.length;++o){var a=n[o];this.controlPoints[o]=new _n(a.x,a.y,a.z,a.w)}};kg.prototype=Object.create(sd.prototype),kg.prototype.constructor=kg,kg.prototype.getPoint=function(e,t){var n=t||new En,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=Rg.calcBSplinePoint(this.degree,this.knots,this.controlPoints,r);return 1!=i.w&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)},kg.prototype.getTangent=function(e,t){var n=t||new En,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=Rg.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n};var Lg,Og,Ig,Ng,Dg=function(){var e,t,n;function r(e){Kf.call(this,e)}function i(e,t){this.textureLoader=e,this.manager=t}function o(){}function a(){}function s(){}function c(){}function u(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function l(){}function h(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===w(e,0,t.length)}function f(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var i=0;i<t.length;++i){var o=r(1);if(o===t[i])return!1}return!0}function d(e){var t=/FBXVersion: (\d+)/,n=e.match(t);if(n){var r=parseInt(n[1]);return r}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function p(e){return e/46186158e3}r.prototype=Object.assign(Object.create(Kf.prototype),{constructor:r,load:function(e,t,n,r){var i=this,o=""===i.path?Kd.extractUrlBase(e):i.path,a=new ed(this.manager);a.setPath(i.path),a.setResponseType("arraybuffer"),a.load(e,(function(n){try{t(i.parse(n,o))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(t,n){if(h(t))e=(new c).parse(t);else{var r=w(t);if(!f(r))throw new Error("THREE.FBXLoader: Unknown format.");if(d(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(r));e=(new s).parse(r)}var o=new ad(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin);return new i(o,this.manager).parse(e)}}),i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),i=this.parseMaterials(r),a=this.parseDeformers(),s=(new o).parse(a);return this.parseScene(a,s,i),n},parseConnections:function(){var t=new Map;if("Connections"in e){var n=e.Connections.connections;n.forEach((function(e){var n=e[0],r=e[1],i=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var o={ID:r,relationship:i};t.get(n).parents.push(o),t.has(r)||t.set(r,{parents:[],children:[]});var a={ID:n,relationship:i};t.get(r).children.push(a)}))}return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var i in r){var o=r[i],a=parseInt(i);if(t[a]=o.RelativeFilename||o.Filename,"Content"in o){var s=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,c="string"===typeof o.Content&&""!==o.Content;if(s||c){var u=this.parseImage(r[i]);n[o.RelativeFilename||o.Filename]=u}}}}for(var a in t){var l=t[a];void 0!==n[l]?t[a]=n[l]:t[a]=t[a].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var o=new Uint8Array(n);return window.URL.createObjectURL(new Blob([o],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var i in r){var o=this.parseTexture(r[i],t);n.set(parseInt(i),o)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,i=e.WrapModeV,o=void 0!==r?r.value:0,a=void 0!==i?i.value:0;if(n.wrapS=0===o?de:pe,n.wrapT=0===a?de:pe,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,i,o=this.textureLoader.path,a=t.get(e.id).children;void 0!==a&&a.length>0&&void 0!==n[a[0].ID]&&(r=n[a[0].ID],0!==r.indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var c=this.manager.getHandler(".tga");null===c?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),i=new bn):i=c.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),i=new bn):i=this.textureLoader.load(r);return this.textureLoader.setPath(o),i},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var i in r){var o=this.parseMaterial(r[i],t);null!==o&&n.set(parseInt(i),o)}}return n},parseMaterial:function(e,n){var r=e.id,i=e.attrName,o=e.ShadingModel;if("object"===typeof o&&(o=o.value),!t.has(r))return null;var a,s=this.parseParameters(e,n,r);switch(o.toLowerCase()){case"phong":a=new Ef;break;case"lambert":a=new Cf;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new Ef;break}return a.setValues(s),a.name=i,a},parseParameters:function(e,n,r){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new Gr).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(i.color=(new Gr).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new Gr).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(i.emissive=(new Gr).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new Gr).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new Gr).fromArray(e.SpecularColor.value));var o=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=o.getTexture(n,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=o.getTexture(n,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=o.getTexture(n,e.ID),i.map.encoding=$t;break;case"DisplacementColor":i.displacementMap=o.getTexture(n,e.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(n,e.ID),i.emissiveMap.encoding=$t;break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=o.getTexture(n,e.ID);break;case"ReflectionColor":i.envMap=o.getTexture(n,e.ID),i.envMap.mapping=ue,i.envMap.encoding=$t;break;case"SpecularColor":i.specularMap=o.getTexture(n,e.ID),i.specularMap.encoding=$t;break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=o.getTexture(n,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t);break}})),i},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var o in i){var a=i[o],s=t.get(parseInt(o));if("Skin"===a.attrType){var c=this.parseSkeleton(s,i);c.ID=o,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),c.geometryID=s.parents[0].ID,n[o]=c}else if("BlendShape"===a.attrType){var u={id:o};u.rawTargets=this.parseMorphTargets(s,i),u.id=o,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[o]=u}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var i={ID:e.ID,indices:[],weights:[],transformLink:(new In).fromArray(r.TransformLink.a)};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],i=0;i<e.children.length;i++){var o=e.children[i],a=n[o.ID],s={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;s.geoID=t.get(parseInt(o.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(s)}return r},parseScene:function(r,i,o){n=new Vu;var s=this.parseModels(r.skeletons,i,o),c=e.Objects.Model,u=this;s.forEach((function(e){var r=c[e.ID];u.setLookAtProperties(e,r);var i=t.get(e.ID).parents;i.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrixWorld=e.parent.matrix);var t=b(e.userData.transformData);e.applyMatrix4(t)}}));var l=(new a).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=l,n=n.children[0]),n.animations=l},parseModels:function(n,r,i){var o=new Map,a=e.Objects.Model;for(var s in a){var c=parseInt(s),u=a[s],l=t.get(c),h=this.buildSkeleton(l,n,c,u.attrName);if(!h){switch(u.attrType){case"Camera":h=this.createCamera(l);break;case"Light":h=this.createLight(l);break;case"Mesh":h=this.createMesh(l,r,i);break;case"NurbsCurve":h=this.createCurve(l,r);break;case"LimbNode":case"Root":h=new Al;break;case"Null":default:h=new Vu;break}h.name=u.attrName?qp.sanitizeNodeName(u.attrName):"",h.ID=c}this.getTransformData(h,u),o.set(c,h)}return o},buildSkeleton:function(e,t,n,r){var i=null;return e.parents.forEach((function(e){for(var o in t){var a=t[o];a.rawBones.forEach((function(t,o){if(t.ID===e.ID){var s=i;i=new Al,i.matrixWorld.copy(t.transformLink),i.name=r?qp.sanitizeNodeName(r):"",i.ID=n,a.bones[o]=i,null!==s&&i.add(s)}}))}})),i},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new Kn;else{var i=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(i=1);var o=1;void 0!==r.NearPlane&&(o=r.NearPlane.value/1e3);var a=1e3;void 0!==r.FarPlane&&(a=r.FarPlane.value/1e3);var s=window.innerWidth,c=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,c=r.AspectHeight.value);var u=s/c,l=45;void 0!==r.FieldOfView&&(l=r.FieldOfView.value);var h=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new Qi(l,u,o,a),null!==h&&n.setFocalLength(h);break;case 1:n=new Vd(-s/2,s/2,c/2,-c/2,o,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new Kn;break}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new Kn;else{var i;i=void 0===r.LightType?0:r.LightType.value;var o=16777215;void 0!==r.Color&&(o=(new Gr).fromArray(r.Color.value));var a=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(a=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);var c=1;switch(i){case 0:n=new Gd(o,a,s,c);break;case 1:n=new qd(o,a);break;case 2:var u=Math.PI/3;void 0!==r.InnerAngle&&(u=dn.degToRad(r.InnerAngle.value));var l=0;void 0!==r.OuterAngle&&(l=dn.degToRad(r.OuterAngle.value),l=Math.max(l,1)),n=new Bd(o,a,s,u,l,c);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new Gd(o,a);break}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,i=null,o=null,a=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&a.push(n.get(e.ID))})),a.length>1?o=a:a.length>0?o=a[0]:(o=new Ef({color:13421772}),a.push(o)),"color"in i.attributes&&a.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(a.forEach((function(e){e.skinning=!0})),r=new _l(i,o),r.normalizeSkinWeights()):r=new Di(i,o),r},createCurve:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new Rl({color:3342591,linewidth:1});return new Dl(n,r)},getTransformData:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?_(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n},setLookAtProperties:function(r,i){if("LookAtProperty"in i){var o=t.get(r.ID).children;o.forEach((function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var o=i.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(o),n.add(r.target)):r.lookAt((new En).fromArray(o))}}}))}},bindSkeleton:function(e,n,r){var i=this.parsePoseNodes();for(var o in e){var a=e[o],s=t.get(parseInt(a.ID)).parents;s.forEach((function(e){if(n.has(e.ID)){var o=e.ID,s=t.get(o);s.parents.forEach((function(e){if(r.has(e.ID)){var t=r.get(e.ID);t.bind(new Sl(a.bones),i[e.ID])}}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var i=n[r].PoseNode;Array.isArray(i)?i.forEach((function(e){t[e.Node]=(new In).fromArray(e.Matrix.a)})):t[i.Node]=(new In).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],i=t[1],o=t[2];if(0!==r||0!==i||0!==o){var a=new Gr(r,i,o);n.add(new Xd(a,1))}}},setupMorphMaterials:function(){var e=this;n.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))},setupMorphMaterial:function(e,t,r){var i=e.uuid,o=t.uuid,a=!1;if(n.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===o&&e.uuid!==i&&(a=!0)})):e.material.uuid===o&&e.uuid!==i&&(a=!0))})),!0===a){var s=t.clone();s.morphTargets=!0,void 0===r?e.material=s:e.material[r]=s}else t.morphTargets=!0}},o.prototype={constructor:o,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var o in i){var a=t.get(parseInt(o)),s=this.parseGeometry(a,i[o],n);r.set(parseInt(o),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var i=r.skeletons,o=[],a=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==a.length){var s=t.children.reduce((function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e}),null);t.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&o.push(r.morphTargets[e.ID])}));var c=a[0],u={};"RotationOrder"in c&&(u.eulerOrder=_(c.RotationOrder.value)),"InheritType"in c&&(u.inheritType=parseInt(c.InheritType.value)),"GeometricTranslation"in c&&(u.translation=c.GeometricTranslation.value),"GeometricRotation"in c&&(u.rotation=c.GeometricRotation.value),"GeometricScaling"in c&&(u.scale=c.GeometricScaling.value);var l=b(u);return this.genGeometry(n,s,o,l)}},genGeometry:function(e,t,n,r){var i=new yi;e.attrName&&(i.name=e.attrName);var o=this.parseGeoNode(e,t),a=this.genBuffers(o),s=new si(a.vertex,3);if(s.applyMatrix4(r),i.setAttribute("position",s),a.colors.length>0&&i.setAttribute("color",new si(a.colors,3)),t&&(i.setAttribute("skinIndex",new ii(a.weightsIndices,4)),i.setAttribute("skinWeight",new si(a.vertexWeights,4)),i.FBX_Deformer=t),a.normal.length>0){var c=(new mn).getNormalMatrix(r),u=new si(a.normal,3);u.applyNormalMatrix(c),i.setAttribute("normal",u)}if(a.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),i.setAttribute(n,new si(a.uvs[t],2))})),o.material&&"AllSame"!==o.material.mappingType){var l=a.materialIndex[0],h=0;if(a.materialIndex.forEach((function(e,t){e!==l&&(i.addGroup(h,t-h,l),l=e,h=t)})),i.groups.length>0){var f=i.groups[i.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&i.addGroup(d,a.materialIndex.length-d,l)}0===i.groups.length&&i.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];var r=0;while(e.LayerElementUV[r])n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,o=[],a=[],s=[],c=[],u=[],l=[],h=this;return e.vertexIndices.forEach((function(f,d){var p=!1;f<0&&(f^=-1,p=!0);var m=[],g=[];if(o.push(3*f,3*f+1,3*f+2),e.color){var y=v(d,n,f,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[f]&&e.weightTable[f].forEach((function(e){g.push(e.weight),m.push(e.id)})),g.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var b=[0,0,0,0],_=[0,0,0,0];g.forEach((function(e,t){var n=e,r=m[t];_.forEach((function(e,t,i){if(n>e){i[t]=n,n=e;var o=b[t];b[t]=r,r=o}}))})),m=b,g=_}while(g.length<4)g.push(0),m.push(0);for(var x=0;x<4;++x)u.push(g[x]),l.push(m[x])}if(e.normal){y=v(d,n,f,e.normal);a.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var w=v(d,n,f,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=v(d,n,f,e);void 0===c[t]&&(c[t]=[]),c[t].push(r[0]),c[t].push(r[1])})),r++,p&&(h.genFace(t,e,o,w,a,s,c,u,l,r),n++,r=0,o=[],a=[],s=[],c=[],u=[],l=[])})),t},genFace:function(e,t,n,r,i,o,a,s,c,u){for(var l=2;l<u;l++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(l-1)]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(l-1)+2]]),e.vertex.push(t.vertexPositions[n[3*l]]),e.vertex.push(t.vertexPositions[n[3*l+1]]),e.vertex.push(t.vertexPositions[n[3*l+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(l-1)]),e.vertexWeights.push(s[4*(l-1)+1]),e.vertexWeights.push(s[4*(l-1)+2]),e.vertexWeights.push(s[4*(l-1)+3]),e.vertexWeights.push(s[4*l]),e.vertexWeights.push(s[4*l+1]),e.vertexWeights.push(s[4*l+2]),e.vertexWeights.push(s[4*l+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[4*(l-1)]),e.weightsIndices.push(c[4*(l-1)+1]),e.weightsIndices.push(c[4*(l-1)+2]),e.weightsIndices.push(c[4*(l-1)+3]),e.weightsIndices.push(c[4*l]),e.weightsIndices.push(c[4*l+1]),e.weightsIndices.push(c[4*l+2]),e.weightsIndices.push(c[4*l+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[3*(l-1)]),e.colors.push(o[3*(l-1)+1]),e.colors.push(o[3*(l-1)+2]),e.colors.push(o[3*l]),e.colors.push(o[3*l+1]),e.colors.push(o[3*l+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(l-1)]),e.normal.push(i[3*(l-1)+1]),e.normal.push(i[3*(l-1)+2]),e.normal.push(i[3*l]),e.normal.push(i[3*l+1]),e.normal.push(i[3*l+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(a[n][0]),e.uvs[n].push(a[n][1]),e.uvs[n].push(a[n][2*(l-1)]),e.uvs[n].push(a[n][2*(l-1)+1]),e.uvs[n].push(a[n][2*l]),e.uvs[n].push(a[n][2*l+1])}))},addMorphTargets:function(t,n,r,i){if(0!==r.length){t.morphTargetsRelative=!0,t.morphAttributes.position=[];var o=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var a=e.Objects.Geometry[r.geoID];void 0!==a&&o.genMorphGeometry(t,n,a,i,r.name)}))}))}},genMorphGeometry:function(e,t,n,r,i){for(var o=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],a=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],c=3*e.attributes.position.count,u=new Float32Array(c),l=0;l<s.length;l++){var h=3*s[l];u[h]=a[3*l],u[h+1]=a[3*l+1],u[h+2]=a[3*l+2]}var f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),p=new si(d.vertex,3);p.name=i||n.attrName,p.applyMatrix4(r),e.morphAttributes.position.push(p)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,i=[],o=0;o<r.length;++o)i.push(o);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===kg)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new yi;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new yi;for(var n,r,i=t-1,o=e.KnotVector.a,a=[],s=e.Points.a,c=0,u=s.length;c<u;c+=4)a.push((new _n).fromArray(s,c));if("Closed"===e.Form)a.push(a[0]);else if("Periodic"===e.Form){n=i,r=o.length-1-n;for(c=0;c<i;++c)a.push(a[c])}var l=new kg(i,o,a,n,r),h=l.getPoints(7*a.length),f=new Float32Array(3*h.length);h.forEach((function(e,t){e.toArray(f,3*t)}));var d=new yi;return d.setAttribute("position",new Qr(f,3)),d}},a.prototype={constructor:a,parse:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],i=this.addClip(r);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t),r=this.parseAnimStacks(n);return r}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var i=t[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var o={id:i.id,attr:i.attrName,curves:{}};n.set(o.id,o)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var i in r){var o={id:r[i].id,times:r[i].KeyTime.a.map(p),values:r[i].KeyValueFloat.a},a=t.get(o.id);if(void 0!==a){var s=a.parents[0].ID,c=a.parents[0].relationship;c.match(/X/)?n.get(s).curves["x"]=o:c.match(/Y/)?n.get(s).curves["y"]=o:c.match(/Z/)?n.get(s).curves["z"]=o:c.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves["morph"]=o)}}},parseAnimationLayers:function(r){var i=e.Objects.AnimationLayer,o=new Map;for(var a in i){var s=[],c=t.get(parseInt(a));if(void 0!==c){var u=c.children;u.forEach((function(i,o){if(r.has(i.ID)){var a=r.get(i.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===s[o]){var c=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID;if(void 0!==c){var u=e.Objects.Model[c.toString()];if(void 0===u)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",i);var l={modelName:u.attrName?qp.sanitizeNodeName(u.attrName):"",ID:u.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(e){e.ID===u.id&&(l.transform=e.matrix,e.userData.transformData&&(l.eulerOrder=e.userData.transformData.eulerOrder))})),l.transform||(l.transform=new In),"PreRotation"in u&&(l.preRotation=u.PreRotation.value),"PostRotation"in u&&(l.postRotation=u.PostRotation.value),s[o]=l}}s[o]&&(s[o][a.attr]=a)}else if(void 0!==a.curves.morph){if(void 0===s[o]){var h=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,f=t.get(h).parents[0].ID,d=t.get(f).parents[0].ID;c=t.get(d).parents[0].ID,u=e.Objects.Model[c],l={modelName:u.attrName?qp.sanitizeNodeName(u.attrName):"",morphName:e.Objects.Deformer[h].attrName};s[o]=l}s[o][a.attr]=a}}})),o.set(parseInt(a),s)}}return o},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,i={};for(var o in r){var a=t.get(parseInt(o)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(a[0].ID);i[o]={name:r[o].attrName,layer:s}}return i},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new qf(e.name,-1,t)},generateTracks:function(e){var t=[],n=new En,r=new Sn,i=new En;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new Fn).setFromQuaternion(r,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var o=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==o&&t.push(o)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var a=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==a&&t.push(a)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var c=this.generateMorphTrack(e);void 0!==c&&t.push(c)}return t},generateVectorTrack:function(e,t,n,r){var i=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(i,t,n);return new Wf(e+"."+r,i,o)},generateRotationTrack:function(e,t,n,r,i,o){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(dn.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(dn.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(dn.degToRad));var a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,n);void 0!==r&&(r=r.map(dn.degToRad),r.push(o),r=(new Fn).fromArray(r),r=(new Sn).setFromEuler(r)),void 0!==i&&(i=i.map(dn.degToRad),i.push(o),i=(new Fn).fromArray(i),i=(new Sn).setFromEuler(i).inverse());for(var c=new Sn,u=new Fn,l=[],h=0;h<s.length;h+=3)u.set(s[h],s[h+1],s[h+2],o),c.setFromEuler(u),void 0!==r&&c.premultiply(r),void 0!==i&&c.multiply(i),c.toArray(l,h/3*4);return new Gf(e+".quaternion",a,l)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Bf(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t})),t},getKeyframeTrackValues:function(e,t,n){var r=n,i=[],o=-1,a=-1,s=-1;return e.forEach((function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(a=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==o){var n=t.x.values[o];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==a){var c=t.y.values[a];i.push(c),r[1]=c}else i.push(r[1]);if(-1!==s){var u=t.z.values[s];i.push(u),r[2]=u}else i.push(r[2])})),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){var o=i/180,a=r/o,s=n+a,c=e.times[t-1],u=e.times[t]-c,l=u/o,h=c+l,f=[],d=[];while(h<e.times[t])f.push(h),h+=l,d.push(s),s+=a;e.times=T(e.times,t,f),e.values=T(e.values,t,d)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,this.allNodes=new l,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var i=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(!i&&!o){var a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),c=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):s?t.parseNodeProperty(e,s,n[++r]):c?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},o=this.parseNodeAttr(r),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in a?("PoseNode"===n?a.PoseNode.push(i):void 0!==a[n].id&&(a[n]={},a[n][a[n].id]=a[n]),""!==o.id&&(a[n][o.id]=i)):"number"===typeof o.id?(a[n]={},a[n][o.id]=i):"Properties70"!==n&&(a[n]="PoseNode"===n?[i]:i),"number"===typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var o=this.getCurrentNode(),a=o.name;if("Properties70"!==a){if("C"===r){var s=i.split(",").slice(1),c=parseInt(s[0]),u=parseInt(s[1]),l=i.split(",").slice(3);l=l.map((function(e){return e.trim().replace(/^"/,"")})),r="connections",i=[c,u],S(i,l),void 0===o[r]&&(o[r]=[])}"Node"===r&&(o.id=i),r in o&&Array.isArray(o[r])?o[r].push(i):"a"!==r?o[r]=i:o.a=i,this.setCurrentProp(o,r),"a"===r&&","!==i.slice(-1)&&(o.a=x(i))}else this.parseNodeSpecialProperty(e,r,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=x(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],o=r[1],a=r[2],s=r[3],c=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=x(c);break}this.getPrevNode()[i]={type:o,type2:a,flag:s,value:c},this.setCurrentProp(this.getPrevNode(),i)}},c.prototype={constructor:c,parse:function(e){var t=new u(e);t.skip(23);var n=t.getUint32();console.log("THREE.FBXLoader: FBX binary version: "+n);var r=new l;while(!this.endOfContent(t)){var i=this.parseNode(t,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var o=e.getUint8(),a=e.getString(o);if(0===r)return null;for(var s=[],c=0;c<i;c++)s.push(this.parseProperty(e));var u=s.length>0?s[0]:"",l=s.length>1?s[1]:"",h=s.length>2?s[2]:"";n.singleProperty=1===i&&e.getOffset()===r;while(r>e.getOffset()){var f=this.parseNode(e,t);null!==f&&this.parseSubNode(a,n,f)}return n.propertyList=s,"number"===typeof u&&(n.id=u),""!==l&&(n.attrName=l),""!==h&&(n.attrType=h),""!==a&&(n.name=a),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var i=[];n.propertyList.forEach((function(e,t){0!==t&&i.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===n.name){var o=Object.keys(n);o.forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var a,s=n.propertyList[0],c=n.propertyList[1],u=n.propertyList[2],l=n.propertyList[3];0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),0===c.indexOf("Lcl ")&&(c=c.replace("Lcl ","Lcl_")),a="Color"===c||"ColorRGB"===c||"Vector"===c||"Vector3D"===c||0===c.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[s]={type:c,type2:u,flag:l,value:a}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),i=e.getUint32(),o=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof Cg&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new Cg.Inflate(new Uint8Array(e.getArrayBuffer(o))),s=new u(a.decompress().buffer);switch(t){case"b":case"c":return s.getBooleanArray(r);case"d":return s.getFloat64Array(r);case"f":return s.getFloat32Array(r);case"i":return s.getInt32Array(r);case"l":return s.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},u.prototype={constructor:u,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,e=4294967295&~e,4294967295===e&&(t=t+1&4294967295),e=e+1&4294967295,-(4294967296*t+e)):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Kd.decodeText(new Uint8Array(t))}},l.prototype={constructor:l,add:function(e,t){this[e]=t}};var m=[];function v(e,t,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var o=i*r.dataSize,a=o+r.dataSize;return A(m,r.buffer,o,a)}var g=new Fn,y=new En;function b(e){var t=new In,n=new In,r=new In,i=new In,o=new In,a=new In,s=new In,c=new In,u=new In,l=new In,h=new In,f=e.inheritType?e.inheritType:0;if(e.translation&&t.setPosition(y.fromArray(e.translation)),e.preRotation){var d=e.preRotation.map(dn.degToRad);d.push(e.eulerOrder),n.makeRotationFromEuler(g.fromArray(d))}if(e.rotation){d=e.rotation.map(dn.degToRad);d.push(e.eulerOrder),r.makeRotationFromEuler(g.fromArray(d))}if(e.postRotation){d=e.postRotation.map(dn.degToRad);d.push(e.eulerOrder),i.makeRotationFromEuler(g.fromArray(d))}e.scale&&o.scale(y.fromArray(e.scale)),e.scalingOffset&&s.setPosition(y.fromArray(e.scalingOffset)),e.scalingPivot&&a.setPosition(y.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition(y.fromArray(e.rotationOffset)),e.rotationPivot&&u.setPosition(y.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(l=e.parentMatrixWorld);var p=n.multiply(r).multiply(i),m=new In;l.extractRotation(m);var v=new In;v.copyPosition(l);var b=new In;b.getInverse(m).multiply(l);var _=new In;if(0===f)_.copy(m).multiply(p).multiply(b).multiply(o);else if(1===f)_.copy(m).multiply(b).multiply(p).multiply(o);else{var x=(new In).getInverse(o),w=(new In).multiply(b).multiply(x);_.copy(m).multiply(p).multiply(w).multiply(o)}var S=(new In).getInverse(u),A=(new In).getInverse(a),T=new In;T.copy(t).multiply(c).multiply(u).multiply(n).multiply(r).multiply(i).multiply(S).multiply(s).multiply(a).multiply(o).multiply(A);var E=(new In).copyPosition(T),M=(new In).copy(l).multiply(E);return h.copyPosition(M),T=(new In).multiply(h).multiply(_),T}function _(e){e=e||0;var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===e?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function x(e){var t=e.split(",").map((function(e){return parseFloat(e)}));return t}function w(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),Kd.decodeText(new Uint8Array(e,t,n))}function S(e,t){for(var n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}function A(e,t,n,r){for(var i=n,o=0;i<r;i++,o++)e[o]=t[i];return e}function T(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}return r}(),Fg={name:"model-fbx",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:16777215,groundColor:16777215,intensity:.8},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new Dg}},methods:{getObject:function(e){return this.animations=e.animations,e}}},jg=Fg,Ug=Dv(jg,Lg,Og,!1,null,null,null),zg=Ug.exports,Bg={name:"model-three",mixins:[jv],data:function(){var e=new rp;return e.setCrossOrigin(this.crossOrigin),{loader:e}}},Hg=Bg,Gg=Dv(Hg,Ig,Ng,!1,null,null,null),Vg=Gg.exports,Wg=function(e){Kf.call(this,e)};Wg.prototype=Object.assign(Object.create(Kf.prototype),{constructor:Wg,load:function(e,t,n,r){var i=this,o=new ed(i.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.load(e,(function(n){try{t(i.parse(n))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){function t(e){var t,r,i,o;if(o=new DataView(e),r=50,i=o.getUint32(80,!0),t=84+i*r,t===o.byteLength)return!0;for(var a=[115,111,108,105,100],s=0;s<5;s++)if(n(a,o,s))return!1;return!0}function n(e,t,n){for(var r=0,i=e.length;r<i;r++)if(e[r]!==t.getUint8(n+r,!1))return!1;return!0}function r(e){for(var t,n,r,i,o,a,s,c,u=new DataView(e),l=u.getUint32(80,!0),h=!1,f=0;f<70;f++)1129270351==u.getUint32(f,!1)&&82==u.getUint8(f+4)&&61==u.getUint8(f+5)&&(h=!0,i=new Float32Array(3*l*3),o=u.getUint8(f+6)/255,a=u.getUint8(f+7)/255,s=u.getUint8(f+8)/255,c=u.getUint8(f+9)/255);for(var d=84,p=50,m=new yi,v=new Float32Array(3*l*3),g=new Float32Array(3*l*3),y=0;y<l;y++){var b=d+y*p,_=u.getFloat32(b,!0),x=u.getFloat32(b+4,!0),w=u.getFloat32(b+8,!0);if(h){var S=u.getUint16(b+48,!0);0===(32768&S)?(t=(31&S)/31,n=(S>>5&31)/31,r=(S>>10&31)/31):(t=o,n=a,r=s)}for(var A=1;A<=3;A++){var T=b+12*A,E=3*y*3+3*(A-1);v[E]=u.getFloat32(T,!0),v[E+1]=u.getFloat32(T+4,!0),v[E+2]=u.getFloat32(T+8,!0),g[E]=_,g[E+1]=x,g[E+2]=w,h&&(i[E]=t,i[E+1]=n,i[E+2]=r)}}return m.setAttribute("position",new Qr(v,3)),m.setAttribute("normal",new Qr(g,3)),h&&(m.setAttribute("color",new Qr(i,3)),m.hasColors=!0,m.alpha=c),m}function i(e){var t,n=new yi,r=/solid([\s\S]*?)endsolid/g,i=/facet([\s\S]*?)endfacet/g,o=0,a=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,s=new RegExp("vertex"+a+a+a,"g"),c=new RegExp("normal"+a+a+a,"g"),u=[],l=[],h=new En,f=0,d=0,p=0;while(null!==(t=r.exec(e))){d=p;var m=t[0];while(null!==(t=i.exec(m))){var v=0,g=0,y=t[0];while(null!==(t=c.exec(y)))h.x=parseFloat(t[1]),h.y=parseFloat(t[2]),h.z=parseFloat(t[3]),g++;while(null!==(t=s.exec(y)))u.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),l.push(h.x,h.y,h.z),v++,p++;1!==g&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+o),3!==v&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+o),o++}var b=d,_=p-d;n.addGroup(b,_,f),f++}return n.setAttribute("position",new si(u,3)),n.setAttribute("normal",new si(l,3)),n}function o(e){return"string"!==typeof e?Kd.decodeText(new Uint8Array(e)):e}function a(e){if("string"===typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}var s=a(e);return t(s)?r(s):i(o(e))}});var qg,Xg,Yg={name:"model-stl",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new Wg}},methods:{getObject:function(e){return new Di(e,new Ef)}}},$g=Yg,Zg=Dv($g,qg,Xg,!1,null,null,null),Jg=Zg.exports,Kg=function(e){Kf.call(this,e),this.propertyNameMapping={}};Kg.prototype=Object.assign(Object.create(Kf.prototype),{constructor:Kg,load:function(e,t,n,r){var i=this,o=new ed(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(e,(function(n){try{t(i.parse(n))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},setPropertyNameMapping:function(e){this.propertyNameMapping=e},parse:function(e){function t(e){var t=/ply([\s\S]*)end_header\r?\n/,n="",r=0,i=t.exec(e);null!==i&&(n=i[1],r=i[0].length);var o,a,s,c={comments:[],elements:[],headerLength:r},u=n.split("\n");function l(e,t){var n={type:e[0]};return"list"===n.type?(n.name=e[3],n.countType=e[1],n.itemType=e[2]):n.name=e[1],n.name in t&&(n.name=t[n.name]),n}for(var f=0;f<u.length;f++){var d=u[f];if(d=d.trim(),""!==d)switch(s=d.split(/\s+/),a=s.shift(),d=s.join(" "),a){case"format":c.format=s[0],c.version=s[1];break;case"comment":c.comments.push(d);break;case"element":void 0!==o&&c.elements.push(o),o={},o.name=s[0],o.count=parseInt(s[1]),o.properties=[];break;case"property":o.properties.push(l(s,h.propertyNameMapping));break;default:console.log("unhandled",a,s)}}return void 0!==o&&c.elements.push(o),c}function n(e,t){switch(t){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(e);case"float":case"double":case"float32":case"float64":return parseFloat(e)}}function r(e,t){for(var r=t.split(/\s+/),i={},o=0;o<e.length;o++)if("list"===e[o].type){for(var a=[],s=n(r.shift(),e[o].countType),c=0;c<s;c++)a.push(n(r.shift(),e[o].itemType));i[e[o].name]=a}else i[e[o].name]=n(r.shift(),e[o].type);return i}function i(e,t){var n,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},s=/end_header\s([\s\S]*)$/,c="";null!==(n=s.exec(e))&&(c=n[1]);for(var u=c.split("\n"),l=0,h=0,f=0;f<u.length;f++){var d=u[f];if(d=d.trim(),""!==d){h>=t.elements[l].count&&(l++,h=0);var p=r(t.elements[l].properties,d);a(i,t.elements[l].name,p),h++}}return o(i)}function o(e){var t=new yi;return e.indices.length>0&&t.setIndex(e.indices),t.setAttribute("position",new si(e.vertices,3)),e.normals.length>0&&t.setAttribute("normal",new si(e.normals,3)),e.uvs.length>0&&t.setAttribute("uv",new si(e.uvs,2)),e.colors.length>0&&t.setAttribute("color",new si(e.colors,3)),e.faceVertexUvs.length>0&&(t=t.toNonIndexed(),t.setAttribute("uv",new si(e.faceVertexUvs,2))),t.computeBoundingSphere(),t}function a(e,t,n){if("vertex"===t)e.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&e.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n&&e.uvs.push(n.s,n.t),"red"in n&&"green"in n&&"blue"in n&&e.colors.push(n.red/255,n.green/255,n.blue/255);else if("face"===t){var r=n.vertex_indices||n.vertex_index,i=n.texcoord;3===r.length?(e.indices.push(r[0],r[1],r[2]),i&&6===i.length&&(e.faceVertexUvs.push(i[0],i[1]),e.faceVertexUvs.push(i[2],i[3]),e.faceVertexUvs.push(i[4],i[5]))):4===r.length&&(e.indices.push(r[0],r[1],r[3]),e.indices.push(r[1],r[2],r[3]))}}function s(e,t,n,r){switch(n){case"int8":case"char":return[e.getInt8(t),1];case"uint8":case"uchar":return[e.getUint8(t),1];case"int16":case"short":return[e.getInt16(t,r),2];case"uint16":case"ushort":return[e.getUint16(t,r),2];case"int32":case"int":return[e.getInt32(t,r),4];case"uint32":case"uint":return[e.getUint32(t,r),4];case"float32":case"float":return[e.getFloat32(t,r),4];case"float64":case"double":return[e.getFloat64(t,r),8]}}function c(e,t,n,r){for(var i,o={},a=0,c=0;c<n.length;c++)if("list"===n[c].type){var u=[];i=s(e,t+a,n[c].countType,r);var l=i[0];a+=i[1];for(var h=0;h<l;h++)i=s(e,t+a,n[c].itemType,r),u.push(i[0]),a+=i[1];o[n[c].name]=u}else i=s(e,t+a,n[c].type,r),o[n[c].name]=i[0],a+=i[1];return[o,a]}function u(e,t){for(var n,r={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},i="binary_little_endian"===t.format,s=new DataView(e,t.headerLength),u=0,l=0;l<t.elements.length;l++)for(var h=0;h<t.elements[l].count;h++){n=c(s,u,t.elements[l].properties,i),u+=n[1];var f=n[0];a(r,t.elements[l].name,f)}return o(r)}var l,h=this;if(e instanceof ArrayBuffer){var f=Kd.decodeText(new Uint8Array(e)),d=t(f);l="ascii"===d.format?i(f,d):u(e,d)}else l=i(e,t(e));return l}});var Qg,ey,ty={name:"model-ply",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}}},data:function(){return{loader:new Kg}},methods:{getObject:function(e){return e.computeVertexNormals(),new Di(e,new Af)}}},ny=ty,ry=Dv(ny,Qg,ey,!1,null,null,null),iy=ry.exports,oy=function(e){Kf.call(this,e)};oy.prototype=Object.assign(Object.create(Kf.prototype),{constructor:oy,load:function(e,t,n,r){var i=this,o=new bn,a=new ed(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){o.image=i.parse(e),o.needsUpdate=!0,void 0!==t&&t(o)}),n,r),o},parse:function(e){function t(e){switch(e.image_type){case h:case p:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case f:case d:case m:case v:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case l:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}function n(e,t,n,r,i){var o,a,s,c;if(a=n.pixel_size>>3,s=n.width*n.height*a,t&&(c=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){var u,l,h;o=new Uint8Array(s);var f=0,d=new Uint8Array(a);while(f<s)if(u=i[r++],l=1+(127&u),128&u){for(h=0;h<a;++h)d[h]=i[r++];for(h=0;h<l;++h)o.set(d,f+h*a);f+=a*l}else{for(l*=a,h=0;h<l;++h)o[f+h]=i[r++];f+=l}}else o=i.subarray(r,r+=t?n.width*n.height:s);return{pixel_data:o,palettes:c}}function r(e,t,n,r,i,o,a,s,c){var u,l,h,f=c,d=0,p=T.width;for(h=t;h!==r;h+=n)for(l=i;l!==a;l+=o,d++)u=s[d],e[4*(l+p*h)+3]=255,e[4*(l+p*h)+2]=f[3*u+0],e[4*(l+p*h)+1]=f[3*u+1],e[4*(l+p*h)+0]=f[3*u+2];return e}function i(e,t,n,r,i,o,a,s){var c,u,l,h=0,f=T.width;for(l=t;l!==r;l+=n)for(u=i;u!==a;u+=o,h+=2)c=s[h+0]+(s[h+1]<<8),e[4*(u+f*l)+0]=(31744&c)>>7,e[4*(u+f*l)+1]=(992&c)>>2,e[4*(u+f*l)+2]=(31&c)>>3,e[4*(u+f*l)+3]=32768&c?0:255;return e}function o(e,t,n,r,i,o,a,s){var c,u,l=0,h=T.width;for(u=t;u!==r;u+=n)for(c=i;c!==a;c+=o,l+=3)e[4*(c+h*u)+3]=255,e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+1]=s[l+1],e[4*(c+h*u)+0]=s[l+2];return e}function a(e,t,n,r,i,o,a,s){var c,u,l=0,h=T.width;for(u=t;u!==r;u+=n)for(c=i;c!==a;c+=o,l+=4)e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+1]=s[l+1],e[4*(c+h*u)+0]=s[l+2],e[4*(c+h*u)+3]=s[l+3];return e}function s(e,t,n,r,i,o,a,s){var c,u,l,h=0,f=T.width;for(l=t;l!==r;l+=n)for(u=i;u!==a;u+=o,h++)c=s[h],e[4*(u+f*l)+0]=c,e[4*(u+f*l)+1]=c,e[4*(u+f*l)+2]=c,e[4*(u+f*l)+3]=255;return e}function c(e,t,n,r,i,o,a,s){var c,u,l=0,h=T.width;for(u=t;u!==r;u+=n)for(c=i;c!==a;c+=o,l+=2)e[4*(c+h*u)+0]=s[l+0],e[4*(c+h*u)+1]=s[l+0],e[4*(c+h*u)+2]=s[l+0],e[4*(c+h*u)+3]=s[l+1];return e}function u(e,t,n,u,l){var h,f,d,p,m,v;switch((T.flags&g)>>y){default:case x:h=0,d=1,m=t,f=0,p=1,v=n;break;case b:h=0,d=1,m=t,f=n-1,p=-1,v=-1;break;case w:h=t-1,d=-1,m=-1,f=0,p=1,v=n;break;case _:h=t-1,d=-1,m=-1,f=n-1,p=-1,v=-1;break}if(P)switch(T.pixel_size){case 8:s(e,f,p,v,h,d,m,u);break;case 16:c(e,f,p,v,h,d,m,u);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(T.pixel_size){case 8:r(e,f,p,v,h,d,m,u,l);break;case 16:i(e,f,p,v,h,d,m,u);break;case 24:o(e,f,p,v,h,d,m,u);break;case 32:a(e,f,p,v,h,d,m,u);break;default:console.error("THREE.TGALoader: Format not supported.");break}return e}var l=0,h=1,f=2,d=3,p=9,m=10,v=11,g=48,y=4,b=0,_=1,x=2,w=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var S=new Uint8Array(e),A=0,T={id_length:S[A++],colormap_type:S[A++],image_type:S[A++],colormap_index:S[A++]|S[A++]<<8,colormap_length:S[A++]|S[A++]<<8,colormap_size:S[A++],origin:[S[A++]|S[A++]<<8,S[A++]|S[A++]<<8],width:S[A++]|S[A++]<<8,height:S[A++]|S[A++]<<8,pixel_size:S[A++],flags:S[A++]};t(T),T.id_length+A>e.length&&console.error("THREE.TGALoader: No data."),A+=T.id_length;var E=!1,M=!1,P=!1;switch(T.image_type){case p:E=!0,M=!0;break;case h:M=!0;break;case m:E=!0;break;case f:break;case v:E=!0,P=!0;break;case d:P=!0;break}var C="undefined"!==typeof OffscreenCanvas,R=C?new OffscreenCanvas(T.width,T.height):document.createElement("canvas");R.width=T.width,R.height=T.height;var k=R.getContext("2d"),L=k.createImageData(T.width,T.height),O=n(E,M,T,A,S);return u(L.data,T.width,T.height,O.pixel_data,O.palettes),k.putImageData(L,0,0),C?R.transferToImageBitmap():R}});var ay=function(e){Kf.call(this,e)};ay.prototype=Object.assign(Object.create(Kf.prototype),{constructor:ay,load:function(e,t,n,r){var i=this,o=""===i.path?Kd.extractUrlBase(e):i.path,a=new ed(i.manager);a.setPath(i.path),a.load(e,(function(n){try{t(i.parse(n,o))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},parse:function(e,t){function n(e,t){for(var n=[],r=e.childNodes,i=0,o=r.length;i<o;i++){var a=r[i];a.nodeName===t&&n.push(a)}return n}function r(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=t[r];return n}function i(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseFloat(t[r]);return n}function o(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseInt(t[r]);return n}function a(e){return e.substring(1)}function s(){return"three_default_"+Pt++}function c(e){return 0===Object.keys(e).length}function u(e){return{unit:l(n(e,"unit")[0]),upAxis:h(n(e,"up_axis")[0])}}function l(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function h(e){return void 0!==e?e.textContent:"Y_UP"}function f(e,t,r,i){var o=n(e,t)[0];if(void 0!==o)for(var a=n(o,r),s=0;s<a.length;s++)i(a[s])}function d(e,t){for(var n in e){var r=e[n];r.build=t(e[n])}}function p(e,t){return void 0!==e.build||(e.build=t(e)),e.build}function m(e){for(var t={sources:{},samplers:{},channels:{}},n=!1,r=0,i=e.childNodes.length;r<i;r++){var o,a=e.childNodes[r];if(1===a.nodeType)switch(a.nodeName){case"source":o=a.getAttribute("id"),t.sources[o]=Ae(a);break;case"sampler":o=a.getAttribute("id"),t.samplers[o]=v(a);break;case"channel":o=a.getAttribute("target"),t.channels[o]=g(a);break;case"animation":m(a),n=!0;break;default:console.log(a)}}!1===n&&(Ct.animations[e.getAttribute("id")||dn.generateUUID()]=t)}function v(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=a(i.getAttribute("source")),s=i.getAttribute("semantic");t.inputs[s]=o;break}}return t}function g(e){var t={},n=e.getAttribute("target"),r=n.split("/"),i=r.shift(),o=r.shift(),s=-1!==o.indexOf("("),c=-1!==o.indexOf(".");if(c)r=o.split("."),o=r.shift(),t.member=r.shift();else if(s){var u=o.split("(");o=u.shift();for(var l=0;l<u.length;l++)u[l]=parseInt(u[l].replace(/\)/,""));t.indices=u}return t.id=i,t.sid=o,t.arraySyntax=s,t.memberSyntax=c,t.sampler=a(e.getAttribute("source")),t}function y(e){var t=[],n=e.channels,r=e.samplers,i=e.sources;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],s=r[a.sampler],c=s.inputs.INPUT,u=s.inputs.OUTPUT,l=i[c],h=i[u],f=x(a,l,h);E(f,t)}return t}function _(e){return p(Ct.animations[e],y)}function x(e,t,n){var r,i,o,a,s,c,u=Ct.nodes[e.id],l=ut(u.id),h=u.transforms[e.sid],f=u.matrix.clone().transpose(),d={};switch(h){case"matrix":for(o=0,a=t.array.length;o<a;o++)if(r=t.array[o],i=o*n.stride,void 0===d[r]&&(d[r]={}),!0===e.arraySyntax){var p=n.array[i],m=e.indices[0]+4*e.indices[1];d[r][m]=p}else for(s=0,c=n.stride;s<c;s++)d[r][s]=n.array[i+s];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h);break}var v=w(d,f),g={name:l.uuid,keyframes:v};return g}function w(e,t){var n=[];for(var r in e)n.push({time:parseFloat(r),value:e[r]});n.sort(o);for(var i=0;i<16;i++)M(n,i,t.elements[i]);return n;function o(e,t){return e.time-t.time}}var S=new En,A=new En,T=new Sn;function E(e,t){for(var n=e.keyframes,r=e.name,i=[],o=[],a=[],s=[],c=0,u=n.length;c<u;c++){var l=n[c],h=l.time,f=l.value;Ke.fromArray(f).transpose(),Ke.decompose(S,T,A),i.push(h),o.push(S.x,S.y,S.z),a.push(T.x,T.y,T.z,T.w),s.push(A.x,A.y,A.z)}return o.length>0&&t.push(new Wf(r+".position",i,o)),a.length>0&&t.push(new Gf(r+".quaternion",i,a)),s.length>0&&t.push(new Wf(r+".scale",i,s)),t}function M(e,t,n){var r,i,o,a=!0;for(i=0,o=e.length;i<o;i++)r=e[i],void 0===r.value[t]?r.value[t]=null:a=!1;if(!0===a)for(i=0,o=e.length;i<o;i++)r=e[i],r.value[t]=n;else P(e,t)}function P(e,t){for(var n,r,i=0,o=e.length;i<o;i++){var a=e[i];if(null===a.value[t]){if(n=C(e,i,t),r=R(e,i,t),null===n){a.value[t]=r.value[t];continue}if(null===r){a.value[t]=n.value[t];continue}k(a,n,r,t)}}}function C(e,t,n){while(t>=0){var r=e[t];if(null!==r.value[n])return r;t--}return null}function R(e,t,n){while(t<e.length){var r=e[t];if(null!==r.value[n])return r;t++}return null}function k(e,t,n,r){n.time-t.time!==0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function L(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"instance_animation":t.animations.push(a(i.getAttribute("url")));break}}Ct.clips[e.getAttribute("id")]=t}function O(e){for(var t=[],n=e.name,r=e.end-e.start||-1,i=e.animations,o=0,a=i.length;o<a;o++)for(var s=_(i[o]),c=0,u=s.length;c<u;c++)t.push(s[c]);return new qf(n,r,t)}function I(e){return p(Ct.clips[e],O)}function N(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"skin":t.id=a(i.getAttribute("source")),t.skin=D(i);break;case"morph":t.id=a(i.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}Ct.controllers[e.getAttribute("id")]=t}function D(e){for(var t={sources:{}},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=i(o.textContent);break;case"source":var a=o.getAttribute("id");t.sources[a]=Ae(o);break;case"joints":t.joints=F(o);break;case"vertex_weights":t.vertexWeights=j(o);break}}return t}function F(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=i.getAttribute("semantic"),s=a(i.getAttribute("source"));t.inputs[o]=s;break}}return t}function j(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var s=i.getAttribute("semantic"),c=a(i.getAttribute("source")),u=parseInt(i.getAttribute("offset"));t.inputs[s]={id:c,offset:u};break;case"vcount":t.vcount=o(i.textContent);break;case"v":t.v=o(i.textContent);break}}return t}function U(e){var t={id:e.id},n=Ct.geometries[t.id];return void 0!==e.skin&&(t.skin=z(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function z(e){var t,n,r,i=4,o={joints:[],indices:{array:[],stride:i},weights:{array:[],stride:i}},a=e.sources,s=e.vertexWeights,c=s.vcount,u=s.v,l=s.inputs.JOINT.offset,h=s.inputs.WEIGHT.offset,f=e.sources[e.joints.inputs.JOINT],d=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=a[s.inputs.WEIGHT.id].array,m=0;for(t=0,r=c.length;t<r;t++){var v=c[t],g=[];for(n=0;n<v;n++){var y=u[m+l],b=u[m+h],_=p[b];g.push({index:y,weight:_}),m+=2}for(g.sort(A),n=0;n<i;n++){var x=g[n];void 0!==x?(o.indices.array.push(x.index),o.weights.array.push(x.weight)):(o.indices.array.push(0),o.weights.array.push(0))}}for(e.bindShapeMatrix?o.bindMatrix=(new In).fromArray(e.bindShapeMatrix).transpose():o.bindMatrix=(new In).identity(),t=0,r=f.array.length;t<r;t++){var w=f.array[t],S=(new In).fromArray(d.array,t*d.stride).transpose();o.joints.push({name:w,boneInverse:S})}return o;function A(e,t){return t.weight-e.weight}}function B(e){return p(Ct.controllers[e],U)}function H(e){var t={init_from:n(e,"init_from")[0].textContent};Ct.images[e.getAttribute("id")]=t}function G(e){return void 0!==e.build?e.build:e.init_from}function V(e){var t=Ct.images[e];return void 0!==t?p(t,G):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function W(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"profile_COMMON":t.profile=q(i);break}}Ct.effects[e.getAttribute("id")]=t}function q(e){for(var t={surfaces:{},samplers:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"newparam":X(i,t);break;case"technique":t.technique=Z(i);break;case"extra":t.extra=ne(i);break}}return t}function X(e,t){for(var n=e.getAttribute("sid"),r=0,i=e.childNodes.length;r<i;r++){var o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"surface":t.surfaces[n]=Y(o);break;case"sampler2D":t.samplers[n]=$(o);break}}}function Y(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"init_from":t.init_from=i.textContent;break}}return t}function $(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"source":t.source=i.textContent;break}}return t}function Z(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=i.nodeName,t.parameters=J(i);break}}return t}function J(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[i.nodeName]=K(i);break;case"transparent":t[i.nodeName]={opaque:i.getAttribute("opaque"),data:K(i)};break}}return t}function K(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"color":t[o.nodeName]=i(o.textContent);break;case"float":t[o.nodeName]=parseFloat(o.textContent);break;case"texture":t[o.nodeName]={id:o.getAttribute("texture"),extra:Q(o)};break}}return t}function Q(e){for(var t={technique:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"extra":ee(i,t);break}}return t}function ee(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique":te(i,t);break}}}function te(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[i.nodeName]=parseFloat(i.textContent);break;case"wrapU":case"wrapV":"TRUE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=1:"FALSE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=0:t.technique[i.nodeName]=parseInt(i.textContent);break}}}function ne(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique":t.technique=re(i);break}}return t}function re(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"double_sided":t[i.nodeName]=parseInt(i.textContent);break}}return t}function ie(e){return e}function oe(e){return p(Ct.effects[e],ie)}function ae(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"instance_effect":t.url=a(i.getAttribute("url"));break}}Ct.materials[e.getAttribute("id")]=t}function se(e){var t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(n=n.toLowerCase(),n){case"tga":t=St;break;default:t=Tt}return t}function ce(e){var t,n=oe(e.url),r=n.profile.technique,i=n.profile.extra;switch(r.type){case"phong":case"blinn":t=new Ef;break;case"lambert":t=new Cf;break;default:t=new Zr;break}function o(e){var t=n.profile.samplers[e.id],r=null;if(void 0!==t){var i=n.profile.surfaces[t.source];r=V(i.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),r=V(e.id);if(null!==r){var o=se(r);if(void 0!==o){var a=o.load(r),s=e.extra;if(void 0!==s&&void 0!==s.technique&&!1===c(s.technique)){var u=s.technique;a.wrapS=u.wrapU?de:pe,a.wrapT=u.wrapV?de:pe,a.offset.set(u.offsetU||0,u.offsetV||0),a.repeat.set(u.repeatU||1,u.repeatV||1)}else a.wrapS=de,a.wrapT=de;return a}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",r),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}t.name=e.name||"";var a=r.parameters;for(var s in a){var u=a[s];switch(s){case"diffuse":u.color&&t.color.fromArray(u.color),u.texture&&(t.map=o(u.texture));break;case"specular":u.color&&t.specular&&t.specular.fromArray(u.color),u.texture&&(t.specularMap=o(u.texture));break;case"bump":u.texture&&(t.normalMap=o(u.texture));break;case"ambient":u.texture&&(t.lightMap=o(u.texture));break;case"shininess":u.float&&t.shininess&&(t.shininess=u.float);break;case"emission":u.color&&t.emissive&&t.emissive.fromArray(u.color),u.texture&&(t.emissiveMap=o(u.texture));break}}var l=a["transparent"],h=a["transparency"];if(void 0===h&&l&&(h={float:1}),void 0===l&&h&&(l={opaque:"A_ONE",data:{color:[1,1,1,1]}}),l&&h)if(l.data.texture)t.transparent=!0;else{var f=l.data.color;switch(l.opaque){case"A_ONE":t.opacity=f[3]*h.float;break;case"RGB_ZERO":t.opacity=1-f[0]*h.float;break;case"A_ZERO":t.opacity=1-f[3]*h.float;break;case"RGB_ONE":t.opacity=f[0]*h.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',l.opaque)}t.opacity<1&&(t.transparent=!0)}return void 0!==i&&void 0!==i.technique&&1===i.technique.double_sided&&(t.side=b),t}function ue(e){return p(Ct.materials[e],ce)}function le(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"optics":t.optics=he(i);break}}Ct.cameras[e.getAttribute("id")]=t}function he(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return fe(n)}}return{}}function fe(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=me(r);break}}return t}function me(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent);break}}return t}function ve(e){var t;switch(e.optics.technique){case"perspective":t=new Qi(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,r=e.optics.parameters.xmag,i=e.optics.parameters.aspect_ratio;r=void 0===r?n*i:r,n=void 0===n?r/i:n,r*=.5,n*=.5,t=new Vd(-r,r,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new Qi;break}return t.name=e.name||"",t}function ge(e){var t=Ct.cameras[e];return void 0!==t?p(t,ve):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ye(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique_common":t=be(i);break}}Ct.lights[e.getAttribute("id")]=t}function be(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=i.nodeName,t.parameters=_e(i)}}return t}function _e(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"color":var a=i(o.textContent);t.color=(new Gr).fromArray(a);break;case"falloff_angle":t.falloffAngle=parseFloat(o.textContent);break;case"quadratic_attenuation":var s=parseFloat(o.textContent);t.distance=s?Math.sqrt(1/s):0;break}}return t}function xe(e){var t;switch(e.technique){case"directional":t=new qd;break;case"point":t=new Gd;break;case"spot":t=new Bd;break;case"ambient":t=new Xd;break}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function we(e){var t=Ct.lights[e];return void 0!==t?p(t,xe):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function Se(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(var i=0;i<r.childNodes.length;i++){var o=r.childNodes[i];if(1===o.nodeType){var a=o.getAttribute("id");switch(o.nodeName){case"source":t.sources[a]=Ae(o);break;case"vertices":t.vertices=Te(o);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",o.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(Ee(o));break;default:console.log(o)}}}Ct.geometries[e.getAttribute("id")]=t}}function Ae(e){for(var t={array:[],stride:3},o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];if(1===a.nodeType)switch(a.nodeName){case"float_array":t.array=i(a.textContent);break;case"Name_array":t.array=r(a.textContent);break;case"technique_common":var s=n(a,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")));break}}return t}function Te(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=a(r.getAttribute("source")))}return t}function Ee(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var s=a(i.getAttribute("source")),c=i.getAttribute("semantic"),u=parseInt(i.getAttribute("offset")),l=parseInt(i.getAttribute("set")),h=l>0?c+l:c;t.inputs[h]={id:s,offset:u},t.stride=Math.max(t.stride,u+1),"TEXCOORD"===c&&(t.hasUV=!0);break;case"vcount":t.vcount=o(i.textContent);break;case"p":t.p=o(i.textContent);break}}return t}function Me(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}function Pe(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];!0===i.hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function Ce(e){var t={},n=e.sources,r=e.vertices,i=e.primitives;if(0===i.length)return{};var o=Me(i);for(var a in o){var s=o[a];Pe(s),t[a]=Re(s,n,r)}return t}function Re(e,t,n){for(var r={},i={array:[],stride:0},o={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},c={array:[],stride:0},u={array:[],stride:4},l={array:[],stride:4},h=new yi,f=[],d=0,p=0;p<e.length;p++){var m=e[p],v=m.inputs,g=0;switch(m.type){case"lines":case"linestrips":g=2*m.count;break;case"triangles":g=3*m.count;break;case"polylist":for(var y=0;y<m.count;y++){var b=m.vcount[y];switch(b){case 3:g+=3;break;case 4:g+=6;break;default:g+=3*(b-2);break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",m.type)}for(var _ in h.addGroup(d,g,p),d+=g,m.material&&f.push(m.material),v){var x=v[_];switch(_){case"VERTEX":for(var w in n){var S=n[w];switch(w){case"POSITION":var A=i.array.length;if(ke(m,t[S],x.offset,i.array),i.stride=t[S].stride,t.skinWeights&&t.skinIndices&&(ke(m,t.skinIndices,x.offset,u.array),ke(m,t.skinWeights,x.offset,l.array)),!1===m.hasUV&&!0===e.uvsNeedsFix){g=(i.array.length-A)/i.stride;for(var T=0;T<g;T++)a.array.push(0,0)}break;case"NORMAL":ke(m,t[S],x.offset,o.array),o.stride=t[S].stride;break;case"COLOR":ke(m,t[S],x.offset,c.array),c.stride=t[S].stride;break;case"TEXCOORD":ke(m,t[S],x.offset,a.array),a.stride=t[S].stride;break;case"TEXCOORD1":ke(m,t[S],x.offset,s.array),a.stride=t[S].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',w)}}break;case"NORMAL":ke(m,t[x.id],x.offset,o.array),o.stride=t[x.id].stride;break;case"COLOR":ke(m,t[x.id],x.offset,c.array),c.stride=t[x.id].stride;break;case"TEXCOORD":ke(m,t[x.id],x.offset,a.array),a.stride=t[x.id].stride;break;case"TEXCOORD1":ke(m,t[x.id],x.offset,s.array),s.stride=t[x.id].stride;break}}}return i.array.length>0&&h.setAttribute("position",new si(i.array,i.stride)),o.array.length>0&&h.setAttribute("normal",new si(o.array,o.stride)),c.array.length>0&&h.setAttribute("color",new si(c.array,c.stride)),a.array.length>0&&h.setAttribute("uv",new si(a.array,a.stride)),s.array.length>0&&h.setAttribute("uv2",new si(s.array,s.stride)),u.array.length>0&&h.setAttribute("skinIndex",new si(u.array,u.stride)),l.array.length>0&&h.setAttribute("skinWeight",new si(l.array,l.stride)),r.data=h,r.type=e[0].type,r.materialKeys=f,r}function ke(e,t,n,r){var i=e.p,o=e.stride,a=e.vcount;function s(e){for(var t=i[e+n]*u,o=t+u;t<o;t++)r.push(c[t])}var c=t.array,u=t.stride;if(void 0!==e.vcount)for(var l=0,h=0,f=a.length;h<f;h++){var d=a[h];if(4===d){var p=l+0*o,m=l+1*o,v=l+2*o,g=l+3*o;s(p),s(m),s(g),s(m),s(v),s(g)}else if(3===d){p=l+0*o,m=l+1*o,v=l+2*o;s(p),s(m),s(v)}else if(d>4)for(var y=1,b=d-2;y<=b;y++){p=l+0*o,m=l+o*y,v=l+o*(y+1);s(p),s(m),s(v)}l+=o*d}else for(h=0,f=i.length;h<f;h+=o)s(h)}function Le(e){return p(Ct.geometries[e],Ce)}function Oe(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":De(r,t);break}}Ct.kinematicsModels[e.getAttribute("id")]=t}function Ie(e){return void 0!==e.build?e.build:e}function Ne(e){return p(Ct.kinematicsModels[e],Ie)}function De(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=Fe(r);break;case"link":t.links.push(Ue(r));break}}}function Fe(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=je(r);break}}return t}function je(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new En,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var o=i(r.textContent);t.axis.fromArray(o);break;case"limits":var a=r.getElementsByTagName("max")[0],s=r.getElementsByTagName("min")[0];t.limits.max=parseFloat(a.textContent),t.limits.min=parseFloat(s.textContent);break}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function Ue(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(ze(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(Be(r));break}}return t}function ze(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(Ue(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(Be(r));break}}return t}function Be(e){var t={type:e.nodeName},n=i(e.textContent);switch(t.type){case"matrix":t.obj=new In,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new En,t.obj.fromArray(n);break;case"rotate":t.obj=new En,t.obj.fromArray(n),t.angle=dn.degToRad(n[3]);break}return t}function He(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"rigid_body":t.rigidBodies[r.getAttribute("name")]={},Ge(r,t.rigidBodies[r.getAttribute("name")]);break}}Ct.physicsModels[e.getAttribute("id")]=t}function Ge(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":Ve(r,t);break}}}function Ve(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=i(r.textContent);break;case"mass":t.mass=i(r.textContent)[0];break}}}function We(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_joint_axis":t.bindJointAxis.push(qe(r));break}}Ct.kinematicsScenes[a(e.getAttribute("url"))]=t}function qe(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var i=r.getElementsByTagName("param")[0];t.axis=i.textContent;var o=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=o.substr(0,o.length-1);break}}return t}function Xe(e){return void 0!==e.build?e.build:e}function Ye(e){return p(Ct.kinematicsScenes[e],Xe)}function $e(){var e=Object.keys(Ct.kinematicsModels)[0],t=Object.keys(Ct.kinematicsScenes)[0],n=Object.keys(Ct.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var r=Ne(e),i=Ye(t),o=dt(n),a=i.bindJointAxis,s={},c=0,u=a.length;c<u;c++){var l=a[c],h=yt.querySelector('[sid="'+l.target+'"]');if(h){var f=h.parentElement;p(l.jointIndex,f)}}var d=new In;Mt={joints:r&&r.joints,getJointValue:function(e){var t=s[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=s[e];if(n){var r=n.joint;if(t>r.limits.max||t<r.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+r.limits.min+", max: "+r.limits.max+").");else if(r.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var i=n.object,o=r.axis,a=n.transforms;Ke.identity();for(var c=0;c<a.length;c++){var u=a[c];if(u.sid&&-1!==u.sid.indexOf(e))switch(r.type){case"revolute":Ke.multiply(d.makeRotationAxis(o,dn.degToRad(t)));break;case"prismatic":Ke.multiply(d.makeTranslation(o.x*t,o.y*t,o.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+r.type);break}else switch(u.type){case"matrix":Ke.multiply(u.obj);break;case"translate":Ke.multiply(d.makeTranslation(u.obj.x,u.obj.y,u.obj.z));break;case"scale":Ke.scale(u.obj);break;case"rotate":Ke.multiply(d.makeRotationAxis(u.obj,u.angle));break}}i.matrix.copy(Ke),i.matrix.decompose(i.position,i.quaternion,i.scale),s[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function p(e,t){var n=t.getAttribute("name"),i=r.joints[e];o.traverse((function(r){r.name===n&&(s[e]={object:r,transforms:Ze(t),joint:i,position:i.zeroPosition})}))}}function Ze(e){for(var t=[],n=yt.querySelector('[id="'+e.id+'"]'),r=0;r<n.childNodes.length;r++){var o=n.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"matrix":var a=i(o.textContent),s=(new In).fromArray(a).transpose();t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:s});break;case"translate":case"scale":a=i(o.textContent);var c=(new En).fromArray(a);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c});break;case"rotate":a=i(o.textContent),c=(new En).fromArray(a);var u=dn.degToRad(a[3]);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c,angle:u});break}}return t}function Je(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var r=t[n];!1===r.hasAttribute("id")&&r.setAttribute("id",s())}}var Ke=new In,Qe=new En;function et(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new In,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"node":t.nodes.push(r.getAttribute("id")),et(r);break;case"instance_camera":t.instanceCameras.push(a(r.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(tt(r));break;case"instance_light":t.instanceLights.push(a(r.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(tt(r));break;case"instance_node":t.instanceNodes.push(a(r.getAttribute("url")));break;case"matrix":var o=i(r.textContent);t.matrix.multiply(Ke.fromArray(o).transpose()),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"translate":o=i(r.textContent);Qe.fromArray(o),t.matrix.multiply(Ke.makeTranslation(Qe.x,Qe.y,Qe.z)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"rotate":o=i(r.textContent);var s=dn.degToRad(o[3]);t.matrix.multiply(Ke.makeRotationAxis(Qe.fromArray(o),s)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"scale":o=i(r.textContent);t.matrix.scale(Qe.fromArray(o)),t.transforms[r.getAttribute("sid")]=r.nodeName;break;case"extra":break;default:console.log(r)}}return ct(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Ct.nodes[t.id]=t,t}function tt(e){for(var t={id:a(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"bind_material":for(var i=r.getElementsByTagName("instance_material"),o=0;o<i.length;o++){var s=i[o],c=s.getAttribute("symbol"),u=s.getAttribute("target");t.materials[c]=a(u)}break;case"skeleton":t.skeletons.push(a(r.textContent));break;default:break}}return t}function nt(e,t){var n,r,i=[],o=[];for(n=0;n<e.length;n++){var a=e[n];if(ct(a))h=ut(a),rt(h,t,i);else if(ft(a))for(var s=Ct.visualScenes[a],c=s.children,u=0;u<c.length;u++){var l=c[u];if("JOINT"===l.type){var h=ut(l.id);rt(h,t,i)}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",a)}for(n=0;n<t.length;n++)for(u=0;u<i.length;u++)if(r=i[u],r.bone.name===t[n].name){o[n]=r,r.processed=!0;break}for(n=0;n<i.length;n++)r=i[n],!1===r.processed&&(o.push(r),r.processed=!0);var f=[],d=[];for(n=0;n<o.length;n++)r=o[n],f.push(r.bone),d.push(r.boneInverse);return new Sl(f,d)}function rt(e,t,n){e.traverse((function(e){if(!0===e.isBone){for(var r,i=0;i<t.length;i++){var o=t[i];if(o.name===e.name){r=o.boneInverse;break}}void 0===r&&(r=new In),n.push({bone:e,boneInverse:r,processed:!1})}}))}function it(e){for(var t=[],n=e.matrix,r=e.nodes,i=e.type,o=e.instanceCameras,a=e.instanceControllers,s=e.instanceLights,c=e.instanceGeometries,u=e.instanceNodes,l=0,h=r.length;l<h;l++)t.push(ut(r[l]));for(l=0,h=o.length;l<h;l++){var f=ge(o[l]);null!==f&&t.push(f.clone())}for(l=0,h=a.length;l<h;l++)for(var d=a[l],p=B(d.id),m=Le(p.id),v=st(m,d.materials),g=d.skeletons,y=p.skin.joints,b=nt(g,y),_=0,x=v.length;_<x;_++){var w=v[_];w.isSkinnedMesh&&(w.bind(b,p.skin.bindMatrix),w.normalizeSkinWeights()),t.push(w)}for(l=0,h=s.length;l<h;l++){var S=we(s[l]);null!==S&&t.push(S.clone())}for(l=0,h=c.length;l<h;l++)for(d=c[l],m=Le(d.id),v=st(m,d.materials),_=0,x=v.length;_<x;_++)t.push(v[_]);for(l=0,h=u.length;l<h;l++)t.push(ut(u[l]).clone());if(0===r.length&&1===t.length)w=t[0];else{w="JOINT"===i?new Al:new Vu;for(l=0;l<t.length;l++)w.add(t[l])}return w.name="JOINT"===i?e.sid:e.name,w.matrix.copy(n),w.matrix.decompose(w.position,w.quaternion,w.scale),w}var ot=new Zr({color:16711935});function at(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=t[e[r]];void 0===o?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(ot)):n.push(ue(o))}return n}function st(e,t){var n=[];for(var r in e){var i=e[r],o=at(i.materialKeys,t);0===o.length&&("lines"===r||"linestrips"===r?o.push(new Rl):o.push(new Ef));var a=void 0!==i.data.attributes.skinIndex;if(a)for(var s=0,c=o.length;s<c;s++)o[s].skinning=!0;var u,l=1===o.length?o[0]:o;switch(r){case"lines":u=new Ul(i.data,l);break;case"linestrips":u=new Dl(i.data,l);break;case"triangles":case"polylist":u=a?new _l(i.data,l):new Di(i.data,l);break}n.push(u)}return n}function ct(e){return void 0!==Ct.nodes[e]}function ut(e){return p(Ct.nodes[e],it)}function lt(e){var t={name:e.getAttribute("name"),children:[]};Je(e);for(var r=n(e,"node"),i=0;i<r.length;i++)t.children.push(et(r[i]));Ct.visualScenes[e.getAttribute("id")]=t}function ht(e){var t=new Vu;t.name=e.name;for(var n=e.children,r=0;r<n.length;r++){var i=n[r];t.add(ut(i.id))}return t}function ft(e){return void 0!==Ct.visualScenes[e]}function dt(e){return p(Ct.visualScenes[e],ht)}function pt(e){var t=n(e,"instance_visual_scene")[0];return dt(a(t.getAttribute("url")))}function mt(){var e=Ct.clips;if(!0===c(e)){if(!1===c(Ct.animations)){var t=[];for(var n in Ct.animations)for(var r=_(n),i=0,o=r.length;i<o;i++)t.push(r[i]);Et.push(new qf("default",-1,t))}}else for(var n in e)Et.push(I(n))}function vt(e){var t="",n=[e];while(n.length){var r=n.shift();r.nodeType===Node.TEXT_NODE?t+=r.textContent:(t+="\n",n.push.apply(n,r.childNodes))}return t.trim()}if(0===e.length)return{scene:new Qn};var gt=(new DOMParser).parseFromString(e,"application/xml"),yt=n(gt,"COLLADA")[0],bt=gt.getElementsByTagName("parsererror")[0];if(void 0!==bt){var _t,xt=n(bt,"div")[0];return _t=xt?xt.textContent:vt(bt),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",_t),null}var wt=yt.getAttribute("version");console.log("THREE.ColladaLoader: File version",wt);var St,At=u(n(yt,"asset")[0]),Tt=new ad(this.manager);Tt.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),oy&&(St=new oy(this.manager),St.setPath(this.resourcePath||t));var Et=[],Mt={},Pt=0,Ct={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};f(yt,"library_animations","animation",m),f(yt,"library_animation_clips","animation_clip",L),f(yt,"library_controllers","controller",N),f(yt,"library_images","image",H),f(yt,"library_effects","effect",W),f(yt,"library_materials","material",ae),f(yt,"library_cameras","camera",le),f(yt,"library_lights","light",ye),f(yt,"library_geometries","geometry",Se),f(yt,"library_nodes","node",et),f(yt,"library_visual_scenes","visual_scene",lt),f(yt,"library_kinematics_models","kinematics_model",Oe),f(yt,"library_physics_models","physics_model",He),f(yt,"scene","instance_kinematics_scene",We),d(Ct.animations,y),d(Ct.clips,O),d(Ct.controllers,U),d(Ct.images,G),d(Ct.effects,ie),d(Ct.materials,ce),d(Ct.cameras,ve),d(Ct.lights,xe),d(Ct.geometries,Ce),d(Ct.visualScenes,ht),mt(),$e();var Rt=pt(n(yt,"scene")[0]);return"Z_UP"===At.upAxis&&Rt.quaternion.setFromEuler(new Fn(-Math.PI/2,0,0)),Rt.scale.multiplyScalar(At.unit),{animations:Et,kinematics:Mt,library:Ct,scene:Rt}}});var sy,cy,uy,ly,hy={name:"model-collada",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"HemisphereLight",position:{x:0,y:1,z:0},skyColor:11184895,groundColor:8413280,intensity:.2},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},smoothing:{type:Boolean,default:!1}},data:function(){var e=new ay;return e.setCrossOrigin(this.crossOrigin),{loader:e}},methods:{getObject:function(e){return e.scene}}},fy=hy,dy=Dv(fy,sy,cy,!1,null,null,null),py=dy.exports,my=function(){function e(e){Kf.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.pluginCallbacks=[],this.register((function(e){return new a(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(Kf.prototype),{constructor:e,load:function(e,t,n,r){var i,o=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Kd.extractUrlBase(e),o.manager.itemStart(e);var a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},s=new ed(o.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),"use-credentials"===o.crossOrigin&&s.setWithCredentials(!0),s.load(e,(function(n){try{o.parse(n,i,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(r){a(r)}}),n,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,a,c){var u,d={},v={};if("string"===typeof e)u=e;else{var g=Kd.decodeText(new Uint8Array(e,0,4));if(g===s){try{d[n.KHR_BINARY_GLTF]=new l(e)}catch(A){return void(c&&c(A))}u=d[n.KHR_BINARY_GLTF].content}else u=Kd.decodeText(new Uint8Array(e))}var y=JSON.parse(u);if(void 0===y.asset||y.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var b=new F(y,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});b.fileLoader.setRequestHeader(this.requestHeader);for(var _=0;_<this.pluginCallbacks.length;_++){var x=this.pluginCallbacks[_](b);v[x.name]=x,d[x.name]=!0}if(y.extensionsUsed)for(_=0;_<y.extensionsUsed.length;++_){var w=y.extensionsUsed[_],S=y.extensionsRequired||[];switch(w){case n.KHR_LIGHTS_PUNCTUAL:d[w]=new i(y);break;case n.KHR_MATERIALS_UNLIT:d[w]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:d[w]=new p;break;case n.KHR_DRACO_MESH_COMPRESSION:d[w]=new h(y,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:d[w]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:d[w]=new f;break;case n.KHR_MESH_QUANTIZATION:d[w]=new m;break;default:S.indexOf(w)>=0&&void 0===v[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}b.setExtensions(d),b.setPlugins(v),b.parse(a,c)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(){this.name=n.KHR_MATERIALS_UNLIT}function a(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new Gr(16777215);void 0!==n.color&&r.fromArray(n.color);var i=void 0!==n.range?n.range:0;switch(n.type){case"directional":t=new qd(r),t.target.position.set(0,0,-1),t.add(t.target);break;case"point":t=new Gd(r),t.distance=i;break;case"spot":t=new Bd(r),t.distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(){return Zr},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new Gr(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)},a.prototype.getMaterialType=function(){return Tf},a.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pn(a,a)}return Promise.all(i)};var s="glTF",c=12,u={JSON:1313821514,BIN:5130562};function l(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,c);if(this.header={magic:Kd.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");var r=new DataView(e,c),i=0;while(i<r.byteLength){var o=r.getUint32(i,!0);i+=4;var a=r.getUint32(i,!0);if(i+=4,a===u.JSON){var l=new Uint8Array(e,c+i,o);this.content=Kd.decodeText(l)}else if(a===u.BIN){var h=c+i;this.body=e.slice(h,h+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function h(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function f(){this.name=n.KHR_TEXTURE_TRANSFORM}function d(e){Af.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),a={specular:{value:(new Gr).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(var s in a)e.uniforms[s]=a[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",i),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function p(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return d},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new Gr(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new Gr(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new Gr(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var a=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",a)),i.push(n.assignTexture(e,"specularMap",a))}return Promise.all(i)},createMaterial:function(e){var t=new d(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=on,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function m(){this.name=n.KHR_MESH_QUANTIZATION}function v(e,t,n,r){If.call(this,e,t,n,r)}h.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},c={};for(var u in o){var l=A[u]||u.toLowerCase();a[l]=o[u]}for(u in e.attributes){l=A[u]||u.toLowerCase();if(void 0!==o[u]){var h=n.accessors[e.attributes[u]],f=_[h.componentType];c[l]=f,s[l]=!0===h.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),a,c)}))}))},f.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},d.prototype=Object.create(Af.prototype),d.prototype.constructor=d,d.prototype.copy=function(e){return Af.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},v.prototype=Object.create(If.prototype),v.prototype.constructor=v,v.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,o=0;o!==r;o++)t[o]=n[i+o];return t},v.prototype.beforeStart_=v.prototype.copySampleValue_,v.prototype.afterEnd_=v.prototype.copySampleValue_,v.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,c=3*a,u=r-t,l=(n-t)/u,h=l*l,f=h*l,d=e*c,p=d-c,m=-2*f+3*h,v=f-h,g=1-m,y=v-h+l,b=0;b!==a;b++){var _=o[p+b+a],x=o[p+b+s]*u,w=o[d+b+a],S=o[d+b]*u;i[b]=g*_+y*x+m*w+v*S}return i};var y={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},x={9728:ve,9729:be,9984:ge,9985:_e,9986:ye,9987:xe},w={33071:pe,33648:me,10497:de},S={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},A={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},T={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},E={CUBICSPLINE:void 0,LINEAR:jt,STEP:Ft},M={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"},P={"image/png":De,"image/jpeg":Ne};function C(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function R(e){return void 0===e["DefaultMaterial"]&&(e["DefaultMaterial"]=new Af({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:g})),e["DefaultMaterial"]}function k(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function L(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function O(e,t,n){for(var r=!1,i=!1,o=0,a=t.length;o<a;o++){var s=t[o];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(e);var c=[],u=[];for(o=0,a=t.length;o<a;o++){s=t[o];if(r){var l=void 0!==s.POSITION?n.getDependency("accessor",s.POSITION):e.attributes.position;c.push(l)}if(i){l=void 0!==s.NORMAL?n.getDependency("accessor",s.NORMAL):e.attributes.normal;u.push(l)}}return Promise.all([Promise.all(c),Promise.all(u)]).then((function(t){var n=t[0],o=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}function I(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function N(e){var t,r=e.extensions&&e.extensions[n.KHR_DRACO_MESH_COMPRESSION];return t=r?"draco:"+r.bufferView+":"+r.indices+":"+D(r.attributes):e.indices+":"+D(e.attributes)+":"+e.mode,t}function D(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function F(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new sp(this.options.manager):this.textureLoader=new ad(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new ed(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function j(e,t,n){var r=t.attributes,i=new dr;if(void 0!==r.POSITION){var o=n.json.accessors[r.POSITION],a=o.min,s=o.max;if(void 0!==a&&void 0!==s){i.set(new En(a[0],a[1],a[2]),new En(s[0],s[1],s[2]));var c=t.targets;if(void 0!==c){for(var u=new En,l=new En,h=0,f=c.length;h<f;h++){var d=c[h];if(void 0!==d.POSITION){o=n.json.accessors[d.POSITION],a=o.min,s=o.max;void 0!==a&&void 0!==s?(l.setX(Math.max(Math.abs(a[0]),Math.abs(s[0]))),l.setY(Math.max(Math.abs(a[1]),Math.abs(s[1]))),l.setZ(Math.max(Math.abs(a[2]),Math.abs(s[2]))),u.max(l)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}e.boundingBox=i;var p=new vr;i.getCenter(p.center),p.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}function U(e,t,n){var r=t.attributes,i=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var a in r){var s=A[a]||a.toLowerCase();s in e.attributes||i.push(o(r[a],s))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(c)}return L(e,t),j(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?O(e,t.targets,n):e}))}function z(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var a=n.count-2,s=[];if(t===Xt)for(o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(o=0;o<a;o++)o%2===0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}return F.prototype.setExtensions=function(e){this.extensions=e},F.prototype.setPlugins=function(e){this.plugins=e},F.prototype.parse=function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};k(i,o,r),L(o,r),e(o)})).catch(t)},F.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},i={},o=0,a=t.length;o<a;o++)for(var s=t[o].joints,c=0,u=s.length;c<u;c++)e[s[c]].isBone=!0;for(var l=0,h=e.length;l<h;l++){var f=e[l];void 0!==f.mesh&&(void 0===r[f.mesh]&&(r[f.mesh]=i[f.mesh]=0),r[f.mesh]++,void 0!==f.skin&&(n[f.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=i},F.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},F.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return Promise.all(n)},F.prototype.getDependency=function(e,t){var r=e+":"+t,i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this.loadTexture(t);break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i},F.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},F.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,n){r.load(C(t.uri,i.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},F.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},F.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,o,a=e[0],s=S[r.type],c=_[r.componentType],u=c.BYTES_PER_ELEMENT,l=u*s,h=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;if(f&&f!==l){var p=Math.floor(h/f),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,v=t.cache.get(m);v||(i=new c(a,p*f,r.count*f/u),v=new Ku(i,f/u),t.cache.add(m,v)),o=new el(v,s,h%f/u,d)}else i=null===a?new c(r.count*s):new c(a,h,r.count*s),o=new Qr(i,s,d);if(void 0!==r.sparse){var g=S.SCALAR,y=_[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(e[1],b,r.sparse.count*g),A=new c(e[2],x,r.sparse.count*s);null!==a&&(o=new Qr(o.array.slice(),o.itemSize,o.normalized));for(var T=0,E=w.length;T<E;T++){var M=w[T];if(o.setX(M,A[T*s]),s>=2&&o.setY(M,A[T*s+1]),s>=3&&o.setZ(M,A[T*s+2]),s>=4&&o.setW(M,A[T*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o}))},F.prototype.loadTexture=function(e){var t,r=this,i=this.json,o=this.options,a=this.textureLoader,s=self.URL||self.webkitURL,c=i.textures[e],u=c.extensions||{};t=u[n.MSFT_TEXTURE_DDS]?i.images[u[n.MSFT_TEXTURE_DDS].source]:i.images[c.source];var l=t.uri,h=!1;return void 0!==t.bufferView&&(l=r.getDependency("bufferView",t.bufferView).then((function(e){h=!0;var n=new Blob([e],{type:t.mimeType});return l=s.createObjectURL(n),l}))),Promise.resolve(l).then((function(e){var t=o.manager.getHandler(e);return t||(t=u[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:a),new Promise((function(n,r){var i=n;!0===t.isImageBitmapLoader&&(i=function(e){n(new Zl(e))}),t.load(C(e,o.path),i,void 0,r)}))})).then((function(n){!0===h&&s.revokeObjectURL(l),n.flipY=!1,c.name&&(n.name=c.name),t.mimeType in P&&(n.format=P[t.mimeType]);var o=i.samplers||{},a=o[c.sampler]||{};return n.magFilter=x[a.magFilter]||be,n.minFilter=x[a.minFilter]||xe,n.wrapS=w[a.wrapS]||de,n.wrapT=w[a.wrapT]||de,r.associations.set(n,{type:"textures",index:e}),n}))},F.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then((function(o){if(!o.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":o.format=Ne;break}if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=i.associations.get(o);o=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),i.associations.set(o,s)}}e[t]=o}))},F.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal,a=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,c=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,l=this.cache.get(u);l||(l=new Bl,$r.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(u,l)),n=l}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var h=this.cache.get(u);h||(h=new Rl,$r.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(u,h)),n=h}if(r||i||o||a||s){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),a&&(u+="skinning:"),r&&(u+="vertex-tangents:"),i&&(u+="vertex-colors:"),o&&(u+="flat-shading:"),s&&(u+="morph-targets:"),c&&(u+="morph-normals:");var f=this.cache.get(u);f||(f=n.clone(),a&&(f.skinning=!0),r&&(f.vertexTangents=!0),i&&(f.vertexColors=!0),o&&(f.flatShading=!0),s&&(f.morphTargets=!0),c&&(f.morphNormals=!0),this.cache.add(u,f),this.associations.set(f,this.associations.get(n))),n=f}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},F.prototype.getMaterialType=function(){return Af},F.prototype.loadMaterial=function(e){var t,r=this,i=this.json,o=this.extensions,a=i.materials[e],s={},c=a.extensions||{},u=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),u.push(l.extendParams(s,a,r))}else if(c[n.KHR_MATERIALS_UNLIT]){var h=o[n.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),u.push(h.extendParams(s,a,r))}else{var f=a.pbrMetallicRoughness||{};if(s.color=new Gr(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){var p=f.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==f.baseColorTexture&&u.push(r.assignTexture(s,"map",f.baseColorTexture)),s.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,s.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(u.push(r.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),u.push(r.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)})))}!0===a.doubleSided&&(s.side=b);var m=a.alphaMode||M.OPAQUE;return m===M.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,m===M.MASK&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==Zr&&(u.push(r.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new pn(1,1),void 0!==a.normalTexture.scale&&s.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),void 0!==a.occlusionTexture&&t!==Zr&&(u.push(r.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==Zr&&(s.emissive=(new Gr).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==Zr&&u.push(r.assignTexture(s,"emissiveMap",a.emissiveTexture)),Promise.all(u).then((function(){var i;return i=t===d?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),a.name&&(i.name=a.name),i.map&&(i.map.encoding=$t),i.emissiveMap&&(i.emissiveMap.encoding=$t),L(i,a),r.associations.set(i,{type:"materials",index:e}),a.extensions&&k(o,i,a),i}))},F.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function o(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return U(n,e,t)}))}for(var a=[],s=0,c=e.length;s<c;s++){var u,l=e[s],h=N(l),f=i[h];if(f)a.push(f.promise);else u=l.extensions&&l.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(l):U(new yi,l,t),i[h]={primitive:l,promise:u},a.push(u)}return Promise.all(a)},F.prototype.loadMesh=function(e){for(var t=this,n=this.json,r=n.meshes[e],i=r.primitives,o=[],a=0,s=i.length;a<s;a++){var c=void 0===i[a].material?R(this.cache):this.getDependency("material",i[a].material);o.push(c)}return o.push(t.loadGeometries(i)),Promise.all(o).then((function(n){for(var o=n.slice(0,n.length-1),a=n[n.length-1],s=[],c=0,u=a.length;c<u;c++){var l,h=a[c],f=i[c],d=o[c];if(f.mode===y.TRIANGLES||f.mode===y.TRIANGLE_STRIP||f.mode===y.TRIANGLE_FAN||void 0===f.mode)l=!0===r.isSkinnedMesh?new _l(h,d):new Di(h,d),!0!==l.isSkinnedMesh||l.geometry.attributes.skinWeight.normalized||l.normalizeSkinWeights(),f.mode===y.TRIANGLE_STRIP?l.geometry=z(l.geometry,qt):f.mode===y.TRIANGLE_FAN&&(l.geometry=z(l.geometry,Xt));else if(f.mode===y.LINES)l=new Ul(h,d);else if(f.mode===y.LINE_STRIP)l=new Dl(h,d);else if(f.mode===y.LINE_LOOP)l=new zl(h,d);else{if(f.mode!==y.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);l=new ql(h,d)}Object.keys(l.geometry.morphAttributes).length>0&&I(l,r),l.name=r.name||"mesh_"+e,a.length>1&&(l.name+="_"+c),L(l,r),t.assignFinalMaterial(l),s.push(l)}if(1===s.length)return s[0];var p=new Vu;for(c=0,u=s.length;c<u;c++)p.add(s[c]);return p}))},F.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Qi(dn.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Vd(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),L(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},F.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},F.prototype.loadAnimation=function(e){for(var t=this.json,n=t.animations[e],r=[],i=[],o=[],a=[],s=[],c=0,u=n.channels.length;c<u;c++){var l=n.channels[c],h=n.samplers[l.sampler],f=l.target,d=void 0!==f.node?f.node:f.id,p=void 0!==n.parameters?n.parameters[h.input]:h.input,m=void 0!==n.parameters?n.parameters[h.output]:h.output;r.push(this.getDependency("node",d)),i.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",m)),a.push(h),s.push(f)}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then((function(t){for(var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=[],u=0,l=r.length;u<l;u++){var h=r[u],f=i[u],d=o[u],p=a[u],m=s[u];if(void 0!==h){var g;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,T[m.path]){case T.weights:g=Bf;break;case T.rotation:g=Gf;break;case T.position:case T.scale:default:g=Wf;break}var y=h.name?h.name:h.uuid,b=void 0!==p.interpolation?E[p.interpolation]:jt,_=[];T[m.path]===T.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&_.push(e.name?e.name:e.uuid)})):_.push(y);var x=d.array;if(d.normalized){var w;if(x.constructor===Int8Array)w=1/127;else if(x.constructor===Uint8Array)w=1/255;else if(x.constructor==Int16Array)w=1/32767;else{if(x.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var S=new Float32Array(x.length),A=0,M=x.length;A<M;A++)S[A]=x[A]*w;x=S}for(A=0,M=_.length;A<M;A++){var P=new g(_[A]+"."+T[m.path],f.array,x,b);"CUBICSPLINE"===p.interpolation&&(P.createInterpolant=function(e){return new v(this.times,this.values,this.getValueSize()/3,e)},P.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(P)}}}var C=n.name?n.name:"animation_"+e;return new qf(C,void 0,c)}))},F.prototype.loadNode=function(e){var t=this.json,r=this.extensions,i=this,o=t.meshReferences,a=t.meshUses,s=t.nodes[e];return function(){var e=[];return void 0!==s.mesh&&e.push(i.getDependency("mesh",s.mesh).then((function(e){var t;if(o[s.mesh]>1){var n=a[s.mesh]++;t=e.clone(),t.name+="_instance_"+n}else t=e;return void 0!==s.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=s.weights.length;t<n;t++)e.morphTargetInfluences[t]=s.weights[t]})),t}))),void 0!==s.camera&&e.push(i.getDependency("camera",s.camera)),s.extensions&&s.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&e.push(i.getDependency("light",s.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(e)}().then((function(t){var n;if(n=!0===s.isBone?new Al:t.length>1?new Vu:1===t.length?t[0]:new Kn,n!==t[0])for(var o=0,a=t.length;o<a;o++)n.add(t[o]);if(s.name&&(n.userData.name=s.name,n.name=qp.sanitizeNodeName(s.name)),L(n,s),s.extensions&&k(r,n,s),void 0!==s.matrix){var c=new In;c.fromArray(s.matrix),n.applyMatrix4(c)}else void 0!==s.translation&&n.position.fromArray(s.translation),void 0!==s.rotation&&n.quaternion.fromArray(s.rotation),void 0!==s.scale&&n.scale.fromArray(s.scale);return i.associations.set(n,{type:"nodes",index:e}),n}))},F.prototype.loadScene=function(){function e(t,n,r,i){var o=r.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then((function(e){t=e;for(var n=[],r=0,o=t.joints.length;r<o;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],o=0,a=n.length;o<a;o++){var s=n[o];if(s){r.push(s);var c=new In;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*o),i.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new Sl(r,i),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,c=0,u=s.length;c<u;c++){var l=s[c];a.push(e(l,t,r,i))}return Promise.all(a)}))}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],o=this,a=new Vu;i.name&&(a.name=i.name),L(a,i),i.extensions&&k(r,a,i);for(var s=i.nodes||[],c=[],u=0,l=s.length;u<l;u++)c.push(e(s[u],a,n,o));return Promise.all(c).then((function(){return a}))}}(),e}(),vy={name:"model-gltf",mixins:[jv],props:{lights:{type:Array,default:function(){return[{type:"AmbientLight",color:11184810},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]}},gammaOutput:{type:Boolean,default:!0}},data:function(){var e=new my;return e.setCrossOrigin(this.crossOrigin),{loader:e}},methods:{load:function(){var e=this;this.src&&(this.object&&this.wrapper.remove(this.object),this.loader.load(this.src,(function(t){e.addObject(t.scene),e.$emit("on-load")}),(function(t){e.$emit("on-progress",t)}),(function(t){e.$emit("on-error",t)})))}}},gy=vy,yy=Dv(gy,uy,ly,!1,null,null,null),by=yy.exports,_y=s.a.extend(Vg,{name:"model-json"}),xy=s.a.extend(py,{name:"model-dae"}),wy=[Wv,zg,Vg,_y,Jg,iy,py,xy,by],Sy=function(e){wy.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&Sy(window.Vue);var Ay={install:Sy,ModelObj:Wv,ModelFbx:zg,ModelThree:Vg,ModelJson:_y,ModelStl:Jg,ModelPly:iy,ModelCollada:py,ModelDae:xy,ModelGltf:by};t["default"]=Ay},"98a9":function(e,t,n){var r=n("90fb"),i=n("9806"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},"98e0":function(e,t,n){var r=n("1c8b"),i=n("e62b"),o=n("f471"),a=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:a},{from:i})},"99ab":function(e,t,n){var r=n("1944");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"99ad":function(e,t,n){"use strict";var r=n("857c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"99ee":function(e,t,n){"use strict";var r=n("1c8b"),i=n("69fa"),o=n("908e"),a=n("50fb"),s=n("27b5"),c=n("0fc1"),u=n("1944"),l=n("90fb"),h=n("9b9d"),f=n("9806"),d=n("2abc"),p=d.IteratorPrototype,m=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,n,l,d,x,w){i(n,t,l);var S,A,T,E=function(e){if(e===d&&k)return k;if(!m&&e in C)return C[e];switch(e){case g:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",P=!1,C=e.prototype,R=C[v]||C["@@iterator"]||d&&C[d],k=!m&&R||E(d),L="Array"==t&&C.entries||R;if(L&&(S=o(L.call(new e)),p!==Object.prototype&&S.next&&(h||o(S)===p||(a?a(S,p):"function"!=typeof S[v]&&c(S,v,_)),s(S,M,!0,!0),h&&(f[M]=_))),d==y&&R&&R.name!==y&&(P=!0,k=function(){return R.call(this)}),h&&!w||C[v]===k||c(C,v,k),f[t]=k,d)if(A={values:E(y),keys:x?k:E(g),entries:E(b)},w)for(T in A)(m||P||!(T in C))&&u(C,T,A[T]);else r({target:t,proto:!0,forced:m||P},A);return A}},"9b11":function(e,t,n){var r=n("6d51");r("iterator")},"9b9d":function(e,t){e.exports=!1},"9edd":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"9f67":function(e,t,n){var r=n("a719");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},a133:function(e,t,n){"use strict";var r=n("da10"),i=n("258f"),o=n("9806"),a=n("b702"),s=n("99ee"),c="Array Iterator",u=a.set,l=a.getterFor(c);e.exports=s(Array,"Array",(function(e,t){u(this,{type:c,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},a4c7:function(e,t,n){var r=n("d890"),i=n("efe2"),o=n("f471"),a=n("5a9e").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!o((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},a719:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},a7ef:function(e,t,n){"use strict";var r=n("5a9e"),i=n("58d8").right,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("reduceRight",(function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},aa6b:function(e,t,n){var r=n("1e2c"),i=n("ef71"),o=n("38b9"),a=n("da10"),s=n("9f67"),c=n("faa8"),u=n("2039"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),u)try{return l(e,t)}catch(n){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},ab0f:function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").findIndex,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},ab6e:function(e,t,n){"use strict";var r=n("5a9e"),i=n("19fc"),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("copyWithin",(function(e,t){return i.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)}))},ae25:function(e,t,n){var r=n("d890"),i=n("a719"),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},af86:function(e,t,n){var r=n("d890"),i=n("064b"),o=n("a133"),a=n("0fc1"),s=n("90fb"),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(m){d[c]=l}if(d[u]||a(d,u,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(m){d[p]=o[p]}}}},b338:function(e,t,n){var r=n("ead4"),i=n("18f6"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},b497:function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").map,o=n("ef4c"),a=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod;c("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},b523:function(e,t,n){"use strict";var r=n("5a9e"),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){var e,t=this,n=i(t).length,r=a(n/2),o=0;while(o<r)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},b60f:function(e,t,n){var r=n("2a91"),i=n("9806"),o=n("90fb"),a=o("iterator");e.exports=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},b6bc:function(e,t,n){var r=n("26a2");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},b702:function(e,t,n){var r,i,o,a=n("604f"),s=n("d890"),c=n("a719"),u=n("0fc1"),l=n("faa8"),h=n("7db2"),f=n("d5a8"),d=s.WeakMap,p=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var v=new d,g=v.get,y=v.has,b=v.set;r=function(e,t){return b.call(v,e,t),t},i=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var _=h("state");f[_]=!0,r=function(e,t){return u(e,_,t),t},i=function(e){return l(e,_)?e[_]:{}},o=function(e){return l(e,_)}}e.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},c051:function(e,t,n){var r=n("da10"),i=n("b338").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},c10f:function(e,t,n){var r=n("2732"),i=n("fc8c"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},c3ba:function(e,t,n){"use strict";var r=n("5a9e").exportTypedArrayMethod,i=n("efe2"),o=n("d890"),a=o.Uint8Array,s=a&&a.prototype||{},c=[].toString,u=[].join;i((function(){c.call({})}))&&(c=function(){return u.call(this)});var l=s.toString!=c;r("toString",c,l)},c4e4:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},c54b:function(e,t,n){var r=n("efe2");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},c69d:function(e,t,n){var r=n("faa8"),i=n("8d44"),o=n("aa6b"),a=n("d910");e.exports=function(e,t){for(var n=i(t),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||s(e,l,c(t,l))}}},cbab:function(e,t,n){var r=n("ead4"),i=n("18f6");e.exports=Object.keys||function(e){return r(e,i)}},cfd1:function(e,t,n){"use strict";var r=n("5a9e"),i=n("45af").indexOf,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},d104:function(e,t,n){"use strict";var r=n("d890"),i=n("5a9e"),o=n("a133"),a=n("90fb"),s=a("iterator"),c=r.Uint8Array,u=o.values,l=o.keys,h=o.entries,f=i.aTypedArray,d=i.exportTypedArrayMethod,p=c&&c.prototype[s],m=!!p&&("values"==p.name||void 0==p.name),v=function(){return u.call(f(this))};d("entries",(function(){return h.call(f(this))})),d("keys",(function(){return l.call(f(this))})),d("values",v,!m),d(s,v,!m)},d1fd:function(e,t,n){var r=n("a719");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},d5a8:function(e,t){e.exports={}},d77f:function(e,t){e.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},d7e1:function(e,t,n){"use strict";var r=n("efe2");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},d838:function(e,t,n){var r=n("26a2");r("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},d88d:function(e,t,n){var r=n("3da3"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},d890:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("9edd"))},d8fc:function(e,t,n){"use strict";var r=n("1e2c"),i=n("efe2"),o=n("cbab"),a=n("0a60"),s=n("ef71"),c=n("3553"),u=n("692f"),l=Object.assign,h=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||o(l({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,l=1,h=a.f,f=s.f;while(i>l){var d,p=u(arguments[l++]),m=h?o(p).concat(h(p)):o(p),v=m.length,g=0;while(v>g)d=m[g++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:l},d910:function(e,t,n){var r=n("1e2c"),i=n("2039"),o=n("857c"),a=n("9f67"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},da10:function(e,t,n){var r=n("692f"),i=n("2732");e.exports=function(e){return r(i(e))}},db0a:function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").filter,o=n("ef4c"),a=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod;c("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,c=t.length,u=new(s(n))(c);while(c>r)u[r]=t[r++];return u}))},dbe8:function(e,t,n){var r=n("1e2c"),i=n("d910"),o=n("857c"),a=n("cbab");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),s=r.length,c=0;while(s>c)i.f(e,n=r[c++],t[n]);return e}},e026:function(e,t){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,c=function(e,t,c){var u,l,h,f=new Array(c),d=8*c-t-1,p=(1<<d)-1,m=p>>1,v=23===t?i(2,-24)-i(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for(e=r(e),e!=e||e===n?(l=e!=e?1:0,u=p):(u=o(a(e)/s),e*(h=i(2,-u))<1&&(u--,h*=2),e+=u+m>=1?v/h:v*i(2,1-m),e*h>=2&&(u++,h/=2),u+m>=p?(l=0,u=p):u+m>=1?(l=(e*h-1)*i(2,t),u+=m):(l=e*i(2,m-1)*i(2,t),u=0));t>=8;f[y++]=255&l,l/=256,t-=8);for(u=u<<t|l,d+=t;d>0;f[y++]=255&u,u/=256,d-=8);return f[--y]|=128*g,f},u=function(e,t){var r,o=e.length,a=8*o-t-1,s=(1<<a)-1,c=s>>1,u=a-7,l=o-1,h=e[l--],f=127&h;for(h>>=7;u>0;f=256*f+e[l],l--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[l],l--,u-=8);if(0===f)f=1-c;else{if(f===s)return r?NaN:h?-n:n;r+=i(2,t),f-=c}return(h?-1:1)*r*i(2,f-t)};e.exports={pack:c,unpack:u}},e18c:function(e,t,n){var r=n("47ae"),i=n("1944"),o=n("52f9");r||i(Object.prototype,"toString",o,{unsafe:!0})},e1d6:function(e,t,n){var r=n("3da3"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},e349:function(e,t,n){var r=n("0c3c");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},e35a:function(e,t,n){"use strict";var r=n("1c8b"),i=n("5139");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},e4db:function(e,t,n){var r=n("d890"),i=n("0fc1");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},e62b:function(e,t,n){"use strict";var r=n("e349"),i=n("3553"),o=n("69c5"),a=n("98a9"),s=n("d88d"),c=n("1bbd"),u=n("b60f");e.exports=function(e){var t,n,l,h,f,d,p=i(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,b=u(p),_=0;if(y&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==b||m==Array&&a(b))for(t=s(p.length),n=new m(t);t>_;_++)d=y?g(p[_],_):p[_],c(n,_,d);else for(h=b.call(p),f=h.next,n=new m;!(l=f.call(h)).done;_++)d=y?o(h,g,[l.value,_],!0):l.value,c(n,_,d);return n.length=_,n}},e671:function(e,t,n){"use strict";var r=n("5a9e"),i=n("d88d"),o=n("7aeb"),a=n("3553"),s=n("efe2"),c=r.aTypedArray,u=r.exportTypedArrayMethod,l=s((function(){new Int8Array(1).set({})}));u("set",(function(e){c(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(e),s=i(r.length),u=0;if(s+t>n)throw RangeError("Wrong length");while(u<s)this[t+u]=r[u++]}),l)},e8d6:function(e,t,n){var r=n("efe2"),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},ead4:function(e,t,n){var r=n("faa8"),i=n("da10"),o=n("45af").indexOf,a=n("d5a8");e.exports=function(e,t){var n,s=i(e),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);while(t.length>c)r(s,n=t[c++])&&(~o(u,n)||u.push(n));return u}},eec6:function(e,t,n){var r=n("efe2");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},ef4c:function(e,t,n){var r=n("857c"),i=n("0c3c"),o=n("90fb"),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},ef71:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},efe2:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},f09c:function(e,t,n){var r=n("1c8b"),i=n("d8fc");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},f30b:function(e,t,n){"use strict";var r=n("5a9e"),i=n("45af").includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},f3dd:function(e,t,n){"use strict";var r=n("1c8b"),i=n("d890"),o=n("6d7a"),a=n("9b9d"),s=n("1e2c"),c=n("c54b"),u=n("74cb"),l=n("efe2"),h=n("faa8"),f=n("74e7"),d=n("a719"),p=n("857c"),m=n("3553"),v=n("da10"),g=n("9f67"),y=n("38b9"),b=n("6d60"),_=n("cbab"),x=n("b338"),w=n("c051"),S=n("0a60"),A=n("aa6b"),T=n("d910"),E=n("ef71"),M=n("0fc1"),P=n("1944"),C=n("6d28"),R=n("7db2"),k=n("d5a8"),L=n("7e8b"),O=n("90fb"),I=n("4350"),N=n("6d51"),D=n("27b5"),F=n("b702"),j=n("5dfd").forEach,U=R("hidden"),z="Symbol",B="prototype",H=O("toPrimitive"),G=F.set,V=F.getterFor(z),W=Object[B],q=i.Symbol,X=o("JSON","stringify"),Y=A.f,$=T.f,Z=w.f,J=E.f,K=C("symbols"),Q=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),ne=C("wks"),re=i.QObject,ie=!re||!re[B]||!re[B].findChild,oe=s&&l((function(){return 7!=b($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(W,t);r&&delete W[t],$(e,t,n),r&&e!==W&&$(W,t,r)}:$,ae=function(e,t){var n=K[e]=b(q[B]);return G(n,{type:z,tag:e,description:t}),s||(n.description=t),n},se=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ce=function(e,t,n){e===W&&ce(Q,t,n),p(e);var r=g(t,!0);return p(n),h(K,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(e,U)||$(e,U,y(1,{})),e[U][r]=!0),oe(e,r,n)):$(e,r,n)},ue=function(e,t){p(e);var n=v(t),r=_(n).concat(pe(n));return j(r,(function(t){s&&!he.call(n,t)||ce(e,t,n[t])})),e},le=function(e,t){return void 0===t?b(e):ue(b(e),t)},he=function(e){var t=g(e,!0),n=J.call(this,t);return!(this===W&&h(K,t)&&!h(Q,t))&&(!(n||!h(this,t)||!h(K,t)||h(this,U)&&this[U][t])||n)},fe=function(e,t){var n=v(e),r=g(t,!0);if(n!==W||!h(K,r)||h(Q,r)){var i=Y(n,r);return!i||!h(K,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},de=function(e){var t=Z(v(e)),n=[];return j(t,(function(e){h(K,e)||h(k,e)||n.push(e)})),n},pe=function(e){var t=e===W,n=Z(t?Q:v(e)),r=[];return j(n,(function(e){!h(K,e)||t&&!h(W,e)||r.push(K[e])})),r};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===W&&n.call(Q,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),oe(this,t,y(1,e))};return s&&ie&&oe(W,t,{configurable:!0,set:n}),ae(t,e)},P(q[B],"toString",(function(){return V(this).tag})),P(q,"withoutSetter",(function(e){return ae(L(e),e)})),E.f=he,T.f=ce,A.f=fe,x.f=w.f=de,S.f=pe,I.f=function(e){return ae(O(e),e)},s&&($(q[B],"description",{configurable:!0,get:function(){return V(this).description}}),a||P(W,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),j(_(ne),(function(e){N(e)})),r({target:z,stat:!0,forced:!c},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:le,defineProperty:ce,defineProperties:ue,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),X){var me=!c||l((function(){var e=q();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(d(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),i[1]=t,X.apply(null,i)}})}q[B][H]||M(q[B],H,q[B].valueOf),D(q,z),k[U]=!0},f471:function(e,t,n){var r=n("90fb"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},f594:function(e,t,n){var r,i,o=n("d890"),a=n("4fda"),s=o.process,c=s&&s.versions,u=c&&c.v8;u?(r=u.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},f62c:function(e,t,n){var r=n("3da3"),i=n("2732"),o=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},f74a:function(e,t,n){"use strict";var r=n("5a9e"),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=[].join;o("join",(function(e){return a.apply(i(this),arguments)}))},fa41:function(e,t,n){"use strict";var r=n("3553"),i=n("e1d6"),o=n("d88d");e.exports=function(e){var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);while(u>s)t[s++]=e;return t}},faa8:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},fc6e:function(e,t,n){"use strict";var r=n("5a9e"),i=n("5dfd").forEach,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},fc8c:function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},fe59:function(e,t,n){"use strict";var r=n("1c8b"),i=n("3c10");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},ff9c:function(e,t,n){var r=n("1e2c"),i=n("efe2"),o=n("faa8"),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:c,h=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,h)}))}}})}))},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e538:function(e,t,n){var r=n("b622");t.f=r},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var r,i,o,a,s=n("23e7"),c=n("c430"),u=n("da84"),l=n("d066"),h=n("fea9"),f=n("6eeb"),d=n("e2cc"),p=n("d44e"),m=n("2626"),v=n("861d"),g=n("1c0b"),y=n("19aa"),b=n("c6b6"),_=n("8925"),x=n("2266"),w=n("1c7e"),S=n("4840"),A=n("2cf4").set,T=n("b575"),E=n("cdf9"),M=n("44de"),P=n("f069"),C=n("e667"),R=n("69f3"),k=n("94ca"),L=n("b622"),O=n("2d00"),I=L("species"),N="Promise",D=R.get,F=R.set,j=R.getterFor(N),U=h,z=u.TypeError,B=u.document,H=u.process,G=l("fetch"),V=P.f,W=V,q="process"==b(H),X=!!(B&&B.createEvent&&u.dispatchEvent),Y="unhandledrejection",$="rejectionhandled",Z=0,J=1,K=2,Q=1,ee=2,te=k(N,(function(){var e=_(U)!==String(U);if(!e){if(66===O)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype["finally"])return!0;if(O>=51&&/native code/.test(U))return!1;var t=U.resolve(1),n=function(e){e((function(){}),(function(){}))},r=t.constructor={};return r[I]=n,!(t.then((function(){}))instanceof n)})),ne=te||!w((function(e){U.all(e)["catch"]((function(){}))})),re=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ie=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;T((function(){var i=t.value,o=t.state==J,a=0;while(r.length>a){var s,c,u,l=r[a++],h=o?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(o||(t.rejection===ee&&ce(e,t),t.rejection=Q),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===l.promise?d(z("Promise-chain cycle")):(c=re(s))?c.call(s,f,d):f(s)):d(i)}catch(m){p&&!u&&p.exit(),d(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ae(e,t)}))}},oe=function(e,t,n){var r,i;X?(r=B.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):e===Y&&M("Unhandled promise rejection",n)},ae=function(e,t){A.call(u,(function(){var n,r=t.value,i=se(t);if(i&&(n=C((function(){q?H.emit("unhandledRejection",r,e):oe(Y,e,r)})),t.rejection=q||se(t)?ee:Q,n.error))throw n.value}))},se=function(e){return e.rejection!==Q&&!e.parent},ce=function(e,t){A.call(u,(function(){q?H.emit("rejectionHandled",e):oe($,e,t.value)}))},ue=function(e,t,n,r){return function(i){e(t,n,i,r)}},le=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=K,ie(e,t,!0))},he=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw z("Promise can't be resolved itself");var i=re(n);i?T((function(){var r={done:!1};try{i.call(n,ue(he,e,r,t),ue(le,e,r,t))}catch(o){le(e,r,o,t)}})):(t.value=n,t.state=J,ie(e,t,!1))}catch(o){le(e,{done:!1},o,t)}}};te&&(U=function(e){y(this,U,N),g(e),r.call(this);var t=D(this);try{e(ue(he,this,t),ue(le,this,t))}catch(n){le(this,t,n)}},r=function(e){F(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},r.prototype=d(U.prototype,{then:function(e,t){var n=j(this),r=V(S(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=q?H.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&ie(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ue(he,e,t),this.reject=ue(le,e,t)},P.f=V=function(e){return e===U||e===o?new i(e):W(e)},c||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(U,G.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:U}),p(U,N,!1,!0),m(N),o=l(N),s({target:N,stat:!0,forced:te},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:c||te},{resolve:function(e){return E(c&&this===o?U:this,e)}}),s({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=V(t),r=n.resolve,i=n.reject,o=C((function(){var n=g(t.resolve),o=[],a=0,s=1;x(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=V(t),r=n.reject,i=C((function(){var i=g(t.resolve);x(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=i(t),s=a.f,c=o.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||s(e,l,c(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},f069:function(e,t,n){"use strict";var r=n("1c0b"),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=Object(e),a))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},f8db:function(e,t,n){
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2020 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return r.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return r.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return i.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return o.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return o.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return o.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return a.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return c.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return l.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return h.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return f.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return d.PDFViewer}});var r=n(1),i=n(8),o=n(3),a=n(7),s=n(9),c=n(11),u=n(13),l=n(15),h=n(16),f=n(18),d=n(20)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=n(2),i=n(3),o=n(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,o=t.linkService,s=t.downloadManager,c=t.imageResourcesPath,u=void 0===c?"":c,l=t.renderInteractiveForms,h=void 0!==l&&l,f=t.l10n,d=void 0===f?i.NullL10n:f;a(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=o,this.downloadManager=s,this.imageResourcesPath=u,this.renderInteractiveForms=h,this.l10n=d,this.div=null,this._cancelled=!1}return c(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:n}).then((function(n){if(!t._cancelled){var i={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:n,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div)r.AnnotationLayer.update(i);else{if(0===n.length)return;t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),i.div=t.div,r.AnnotationLayer.render(i),t.l10n.translate(t.div)}}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),e}();t.AnnotationLayerBuilder=u;var l=function(){function e(){a(this,e)}return c(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.NullL10n;return new u({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:r,linkService:new o.SimpleLinkService,l10n:a})}}]),e}();t.DefaultAnnotationLayerFactory=l},function(e,t,r){"use strict";var i;i="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("4383"),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=Y,t.isValidScrollMode=$,t.isValidSpreadMode=Z,t.isPortraitOrientation=J,t.clamp=ne,t.getPDFFileNameFromURL=q,t.noContextMenuHandler=V,t.parseQueryString=F,t.backtrackBeforeAllVisibleElements=H,t.getVisibleElements=G,t.roundToDivide=z,t.getPageSizeInches=B,t.approximateFraction=U,t.getOutputScale=I,t.scrollIntoView=N,t.watchScroll=D,t.binarySearchFirstItem=j,t.normalizeWheelEventDelta=X,t.waitOnEventOrTimeout=Q,t.moveToEndOfArray=ie,t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0;var r=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){return p(e)||d(e,t)||h(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function p(e){if(Array.isArray(e))return e}function m(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))}}var g=96/72;t.CSS_UNITS=g;var y="auto";t.DEFAULT_SCALE_VALUE=y;var b=1;t.DEFAULT_SCALE=b;var _=.1;t.MIN_SCALE=_;var x=10;t.MAX_SCALE=x;var w=0;t.UNKNOWN_SCALE=w;var S=1.25;t.MAX_AUTO_SCALE=S;var A=40;t.SCROLLBAR_PADDING=A;var T=5;t.VERTICAL_PADDING=T;var E={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.PresentationModeState=E;var M={CANVAS:"canvas",SVG:"svg"};t.RendererType=M;var P={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};t.TextLayerMode=P;var C={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=C;var R={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=R;var k=/\bprint\s*\(/;function L(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(e,n){return n in t?t[n]:"{{"+n+"}}"})):e}t.AutoPrintRegExp=k;var O={getLanguage:function(){return v(r["default"].mark((function e(){return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}}),e)})))()},getDirection:function(){return v(r["default"].mark((function e(){return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}}),e)})))()},get:function(e,t,n){return v(r["default"].mark((function e(){return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",L(n,t));case 1:case"end":return e.stop()}}),e)})))()},translate:function(e){return v(r["default"].mark((function e(){return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};function I(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=t/n;return{sx:r,sy:r,scaled:1!==r}}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){var i=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;while(r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,o/=r.dataset._scaleX),i+=r.offsetTop,o+=r.offsetLeft,r=r.offsetParent,!r)return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(o+=t.left,r.scrollLeft=o)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")}function D(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,o=r.lastX;n!==o&&(r.right=n>o),r.lastX=n;var a=e.scrollTop,s=r.lastY;a!==s&&(r.down=a>s),r.lastY=a,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r}function F(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var o=t[r].split("="),a=o[0].toLowerCase(),s=o.length>1?o[1]:null;n[decodeURIComponent(a)]=decodeURIComponent(s)}return n}function j(e,t){var n=0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;while(n<r){var i=n+r>>1,o=e[i];t(o)?r=i:n=i+1}return n}function U(e){if(Math.floor(e)===e)return[e,1];var t=1/e,n=8;if(t>n)return[1,n];if(Math.floor(t)===t)return[1,t];var r,i=e>1?t:e,o=0,a=1,s=1,c=1;while(1){var u=o+s,l=a+c;if(l>n)break;i<=u/l?(s=u,c=l):(o=u,a=l)}return r=i-o/a<s/c-i?i===e?[o,a]:[a,o]:i===e?[s,c]:[c,s],r}function z(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)}function B(e){var t=e.view,n=e.userUnit,r=e.rotate,i=u(t,4),o=i[0],a=i[1],s=i[2],c=i[3],l=r%180!==0,h=(s-o)/72*n,f=(c-a)/72*n;return{width:l?f:h,height:l?h:f}}function H(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(r=t[e-1].div,i=r.offsetTop+r.clientTop);for(var o=e-2;o>=0;--o){if(r=t[o].div,r.offsetTop+r.clientTop+r.clientHeight<=i)break;e=o}return e}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.scrollTop,o=i+e.clientHeight,a=e.scrollLeft,s=a+e.clientWidth;function c(e){var t=e.div,n=t.offsetTop+t.clientTop+t.clientHeight;return n>i}function u(e){var t=e.div,n=t.offsetLeft+t.clientLeft+t.clientWidth;return n>a}var l=[],h=t.length,f=0===h?0:j(t,r?u:c);f>0&&f<h&&!r&&(f=H(f,t,i));for(var d=r?s:-1,p=f;p<h;p++){var m=t[p],v=m.div,g=v.offsetLeft+v.clientLeft,y=v.offsetTop+v.clientTop,b=v.clientWidth,_=v.clientHeight,x=g+b,w=y+_;if(-1===d)w>=o&&(d=w);else if((r?g:y)>d)break;if(!(w<=i||y>=o||x<=a||g>=s)){var S=Math.max(0,i-y)+Math.max(0,w-o),A=Math.max(0,a-g)+Math.max(0,x-s),T=(_-S)*(b-A)*100/_/b|0;l.push({id:m.id,x:g,y:y,view:m,percent:T})}}var E=l[0],M=l[l.length-1];return n&&l.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id})),{first:E,last:M,views:l}}function V(e){e.preventDefault()}function W(e){var t=0,n=e.length;while(t<n&&""===e[t].trim())t++;return"data:"===e.substring(t,t+5).toLowerCase()}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(W(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch(a){}return o||t}function X(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);var r=0,i=1,o=30,a=30;return e.deltaMode===r?t/=o*a:e.deltaMode===i&&(t/=a),t}function Y(e){return Number.isInteger(e)&&e%90===0}function $(e){return Number.isInteger(e)&&Object.values(C).includes(e)&&e!==C.UNKNOWN}function Z(e){return Number.isInteger(e)&&Object.values(R).includes(e)&&e!==R.UNKNOWN}function J(e){return e.width<=e.height}t.NullL10n=O;var K={EVENT:"event",TIMEOUT:"timeout"};function Q(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!==c(t)||!n||"string"!==typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function o(r){t instanceof te?t._off(n,a):t.removeEventListener(n,a),u&&clearTimeout(u),e(r)}var a=o.bind(null,K.EVENT);t instanceof te?t._on(n,a):t.addEventListener(n,a);var s=o.bind(null,K.TIMEOUT),u=setTimeout(s,i)}))}t.WaitOnType=K;var ee=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=ee;var te=function(){function e(t){o(this,e),this._listeners=Object.create(null)}return s(e,[{key:"on",value:function(e,t){this._on(e,t,{external:!0})}},{key:"off",value:function(e,t){this._off(e,t,{external:!0})}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n,r=Array.prototype.slice.call(arguments,1);t.slice(0).forEach((function(e){var t=e.listener,i=e.external;if(i)return n||(n=[]),void n.push(t);t.apply(null,r)})),n&&(n.forEach((function(e){e.apply(null,r)})),n=null)}}},{key:"_on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._listeners[e];r||(this._listeners[e]=r=[]),r.push({listener:t,external:!0===(n&&n.external)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),e}();function ne(e,t,n){return Math.min(Math.max(e,t),n)}t.EventBus=te;var re=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,i=n.width,a=n.units;o(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=i||100,this.units=a||"%",this.div.style.height=this.height+this.units,this.percent=0}return s(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode,n=t.offsetWidth-e.offsetWidth;n>0&&(this.bar.style.width="calc(100% - ".concat(n,"px)"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=ne(e,0,100),this._updateBar()}}]),e}();function ie(e,t){for(var n=[],r=e.length,i=0,o=0;o<r;++o)t(e[o])?n.push(e[o]):(e[i]=e[o],++i);for(var a=0;i<r;++a,++i)e[i]=n[a]}t.ProgressBar=re},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";(function(e){function t(e){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=T(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};b[a]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==r&&i.call(x,a)&&(b=x);var w=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function A(e,n){function r(o,a,s,c){var u=l(e[o],e,a);if("throw"!==u.type){var h=u.arg,f=h.value;return f&&"object"===t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):n.resolve(f).then((function(e){h.value=e,s(h)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var o;function a(e,t){function i(){return new n((function(n,i){r(e,t,n,i)}))}return o=o?o.then(i,i):i()}this._invoke=a}function T(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return k()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:n,done:!0}}return g.prototype=w.constructor=y,y.constructor=g,y[c]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(A.prototype),A.prototype[s]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new A(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(6)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var r=n(3);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,i=void 0===r?null:r,a=t.externalLinkRel,s=void 0===a?null:a,c=t.externalLinkEnabled,u=void 0===c||c,l=t.ignoreDestinationZoom,h=void 0!==l&&l;o(this,e),this.eventBus=n,this.externalLinkTarget=i,this.externalLinkRel=s,this.externalLinkEnabled=u,this._ignoreDestinationZoom=h,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return s(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this,n=function n(r){var i,o=r.namedDest,a=r.explicitDest,s=a[0];if(s instanceof Object){if(i=t._cachedPageNumber(s),null===i)return void t.pdfDocument.getPageIndex(s).then((function(e){t.cachePageRef(e+1,s),n({namedDest:o,explicitDest:a})}))["catch"]((function(){console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}))}else{if(!Number.isInteger(s))return void console.error('PDFLinkService.navigateTo: "'.concat(s,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));i=s+1}!i||i<1||i>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:o,explicitDest:a,pageNumber:i})),t.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:a,ignoreDestinationZoom:t._ignoreDestinationZoom}))};new Promise((function(n,r){"string"!==typeof e?n({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then((function(t){n({namedDest:e,explicitDest:t})}))})).then((function(t){Array.isArray(t.explicitDest)?n(t):console.error('PDFLinkService.navigateTo: "'.concat(t.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".'))}))}},{key:"getDestinationHash",value:function(e){if("string"===typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var i=(0,r.parseQueryString)(e);if("search"in i&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.search.replace(/"/g,""),phraseSearch:"true"===i.phrase}),"page"in i&&(t=0|i.page||1),"zoom"in i){var o=i.zoom.split(","),a=o[0],s=parseFloat(a);a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},o.length>1?0|o[1]:null]:"FitR"===a?5!==o.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|o[1],0|o[2],0|o[3],0|o[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},o.length>1?0|o[1]:null,o.length>2?0|o[2]:null,s?s/100:a]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in i&&this.eventBus.dispatch("pagemode",{source:this,mode:i.pagemode}),"nameddest"in i&&this.navigateTo(i.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(c){}if("string"===typeof n||u(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}();function u(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(("object"!==i(n)||!Number.isInteger(n.num)||!Number.isInteger(n.gen))&&!(Number.isInteger(n)&&n>=0))return!1;var r=e[1];if("object"!==i(r)||"string"!==typeof r.name)return!1;var o=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;o=!1;break;default:return!1}for(var a=2;a<t;a++){var s=e[a];if(!("number"===typeof s||o&&null===s))return!1}return!0}t.PDFLinkService=c;var l=function(){function e(){o(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return s(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}();t.SimpleLinkService=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var r=n(2);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var s=300,c=function(){function e(t){var n=t.textLayerDiv,r=t.eventBus,o=t.pageIndex,a=t.viewport,s=t.findController,c=void 0===s?null:s,u=t.enhanceTextSelection,l=void 0!==u&&u;i(this,e),this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=o,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=a,this.textDivs=[],this.findController=c,this.textLayerRenderTask=null,this.enhanceTextSelection=l,this._onUpdateTextLayerMatches=null,this._bindMouse()}return a(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e._updateMatches()}),(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.findController,r=this.textContentItemsStr,i=0,o=0,a=r.length-1,s=n.state.query.length,c=[],u=0,l=e.length;u<l;u++){var h=e[u];while(i!==a&&h>=o+r[i].length)o+=r[i].length,i++;i===r.length&&console.error("Could not find a matching mapping");var f={begin:{divIdx:i,offset:h-o}};h+=t?t[u]:s;while(i!==a&&h>o+r[i].length)o+=r[i].length,i++;f.end={divIdx:i,offset:h-o},c.push(f)}return c}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=n===t.selected.pageIdx,a=t.selected.matchIdx,s=t.state.highlightAll,c=null,u={divIdx:-1,offset:void 0},l=a,h=l+1;if(s)l=0,h=e.length;else if(!o)return;for(var f=l;f<h;f++){var d=e[f],p=d.begin,m=d.end,v=o&&f===a,g=v?" selected":"";if(v&&t.scrollMatchIntoView({element:i[p.divIdx],pageIndex:n,matchIndex:a}),c&&p.divIdx===c.divIdx?x(c.divIdx,c.offset,p.offset):(null!==c&&x(c.divIdx,c.offset,u.offset),_(p)),p.divIdx===m.divIdx)x(p.divIdx,p.offset,m.offset,"highlight"+g);else{x(p.divIdx,p.offset,u.offset,"highlight begin"+g);for(var y=p.divIdx+1,b=m.divIdx;y<b;y++)i[y].className="highlight middle"+g;_(m,"highlight end"+g)}c=m}c&&x(c.divIdx,c.offset,u.offset)}function _(e,t){var n=e.divIdx;i[n].textContent="",x(n,0,e.offset,t)}function x(e,t,n,o){var a=i[e],s=r[e].substring(t,n),c=document.createTextNode(s);if(o){var u=document.createElement("span");return u.className=o,u.appendChild(c),void a.appendChild(u)}a.appendChild(c)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=-1,a=0,s=t.length;a<s;a++){for(var c=t[a],u=Math.max(o,c.begin.divIdx),l=u,h=c.end.divIdx;l<=h;l++){var f=i[l];f.textContent=r[l],f.className=""}o=c.end.divIdx+1}if(e&&e.highlightMatches){var d=e.pageMatches[n]||null,p=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(d,p),this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",(function(r){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=t.querySelector(".endOfContent");if(i){var o=r.target!==t;if(o=o&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select"),o){var a=t.getBoundingClientRect(),s=Math.max(0,(r.pageY-a.top)/a.height);i.style.top=(100*s).toFixed(2)+"%"}i.classList.add("active")}})),t.addEventListener("mouseup",(function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout((function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null}),s);else{var r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}}))}}]),e}();t.TextLayerBuilder=c;var u=function(){function e(){i(this,e)}return a(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new c({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r,eventBus:i})}}]),e}();t.DefaultTextLayerFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(2),i=n(10);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var c=i.viewerCompatibilityParams.disableCreateObjectURL||!1;function u(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}var l=function(){function e(t){var n=t.disableCreateObjectURL,r=void 0===n?c:n;o(this,e),this.disableCreateObjectURL=r}return s(e,[{key:"downloadUrl",value:function(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")&&u(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([e],{type:n}),t);else{var i=(0,r.createObjectURL)(e,n,this.disableCreateObjectURL);u(i,t)}}},{key:"download",value:function(e,t,n){if(navigator.msSaveBlob)navigator.msSaveBlob(e,n)||this.downloadUrl(t,n);else if(this.disableCreateObjectURL)this.downloadUrl(t,n);else{var r=URL.createObjectURL(e);u(r,n)}}}]),e}();t.DownloadManager=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;var r=Object.create(null),i="undefined"!==typeof navigator&&navigator.userAgent||"",o="undefined"!==typeof navigator&&navigator.platform||"",a="undefined"!==typeof navigator&&navigator.maxTouchPoints||1,s=/Android/.test(i),c=/Trident/.test(i),u=/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===o&&a>1,l=/CriOS/.test(i);(function(){(c||l)&&(r.disableCreateObjectURL=!0)})(),function(){(u||s)&&(r.maxCanvasPixels=5242880)}();var h=Object.freeze(r);t.viewerCompatibilityParams=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var r=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}n(12);var l=document.webL10n,h=function(){function e(t){s(this,e),this._lang=t,this._ready=new Promise((function(e,n){l.setLanguage(t,(function(){e(l)}))}))}return u(e,[{key:"getLanguage",value:function(){var e=a(r["default"].mark((function e(){var t;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getLanguage());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDirection",value:function(){var e=a(r["default"].mark((function e(){var t;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return t=e.sent,e.abrupt("return",t.getDirection());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=a(r["default"].mark((function e(t,n,i){var o;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return o=e.sent,e.abrupt("return",o.get(t,n,i));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"translate",value:function(){var e=a(r["default"].mark((function e(t){var n;return r["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return n=e.sent,e.abrupt("return",n.translate(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t.GenericL10n=h},function(e,t,n){"use strict";document.webL10n=function(e,t,n){var r={},i="",o="textContent",a="",s={},c="loading",u=!0;function l(){return t.querySelectorAll('link[type="application/l10n"]')}function h(){var e=t.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function f(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function d(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}function p(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,u),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(i){n()}}function m(e,t,n,a){var s=e.replace(/[^\/]*$/,"")||"./";function c(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function u(e,n){var r={},i=/^\s*|\s*$/,o=/^\s*#|^\s*$/,a=/^\s*\[(.*)\]\s*$/,u=/^\s*@import\s+url\((.*)\)\s*$/i,l=/^([^=\s]*)\s*=\s*(.+)$/;function h(e,n,h){var d=e.replace(i,"").split(/[\r\n]+/),p="*",m=t.split("-",1)[0],v=!1,g="";function y(){while(1){if(!d.length)return void h();var e=d.shift();if(!o.test(e)){if(n){if(g=a.exec(e),g){p=g[1].toLowerCase(),v="*"!==p&&p!==t&&p!==m;continue}if(v)continue;if(g=u.exec(e),g)return void f(s+g[1],y)}var i=e.match(l);i&&3==i.length&&(r[i[1]]=c(i[2]))}}}y()}function f(e,t){p(e,(function(e){h(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}h(e,!0,(function(){n(r)}))}p(e,(function(e){i+=e,u(e,(function(e){for(var t in e){var i,a,s=t.lastIndexOf(".");s>0?(i=t.substring(0,s),a=t.substring(s+1)):(i=t,a=o),r[i]||(r[i]={}),r[i][a]=e[t]}n&&n()}))}),a)}function v(e,t){e&&(e=e.toLowerCase()),t=t||function(){},g(),a=e;var n=l(),i=n.length;if(0!==i){var o=null,s=0;o=function(){s++,s>=i&&(t(),c="complete")};for(var u=0;u<i;u++){var f=new y(n[u]);f.load(e,o)}}else{var d=h();if(d&&d.locales&&d.default_locale){if(console.log("using the embedded JSON directory, early way out"),r=d.locales[e],!r){var p=d.default_locale.toLowerCase();for(var v in d.locales){if(v=v.toLowerCase(),v===e){r=d.locales[e];break}v===p&&(r=d.locales[p])}}t()}else console.log("no resource to load, early way out");c="complete"}function y(e){var t=e.href;this.load=function(e,n){m(t,e,n,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),a="",n()}))}}}function g(){r={},i="",a=""}function y(e){var t={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function n(e,t){return-1!==t.indexOf(e)}function r(e,t,n){return t<=e&&e<=n}var i={0:function(e){return"other"},1:function(e){return r(e%100,3,10)?"few":0===e?"zero":r(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10===0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return r(e,0,1)?"one":"other"},5:function(e){return r(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return r(e,3,6)?"few":r(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&r(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return r(e%10,2,9)&&!r(e%100,11,19)?"few":e%10!=1||r(e%100,11,19)?"other":"one"},11:function(e){return r(e%10,2,4)&&!r(e%100,12,14)?"few":e%10===0||r(e%10,5,9)||r(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return r(e,2,4)?"few":1==e?"one":"other"},13:function(e){return r(e%10,2,4)&&!r(e%100,12,14)?"few":1!=e&&r(e%10,0,1)||r(e%10,5,9)||r(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return r(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||r(e%100,2,10)?"few":r(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":r(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return r(e,2,10)?"few":r(e,0,1)?"one":"other"},20:function(e){return!r(e%10,3,4)&&e%10!=9||r(e%100,10,19)||r(e%100,70,79)||r(e%100,90,99)?e%1e6===0&&0!==e?"many":e%10!=2||n(e%100,[12,72,92])?e%10!=1||n(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return r(e,0,1)||r(e,11,99)?"one":"other"},23:function(e){return r(e%10,1,2)||e%20===0?"one":"other"},24:function(e){return r(e,3,10)||r(e,13,19)?"few":n(e,[2,12])?"two":n(e,[1,11])?"one":"other"}},o=t[e.replace(/-.*$/,"")];return o in i?i[o]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}function b(e,t,n){var i=r[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var o={};for(var a in i){var s=i[a];s=_(s,t,e,a),s=x(s,t,e),o[a]=s}return o}function _(e,t,n,i){var o=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,a=o.exec(e);if(!a||!a.length)return e;var c,u=a[1],l=a[2];if(t&&l in t?c=t[l]:l in r&&(c=r[l]),u in s){var h=s[u];e=h(e,c,n,i)}return e}function x(e,t,n){var i=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(i,(function(e,i){return t&&i in t?t[i]:i in r?r[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),e)}))}function w(e){var n=d(e);if(n.id){var r=b(n.id,n.args);if(r){if(r[o]){if(0===S(e))e[o]=r[o];else{for(var i=e.childNodes,a=!1,s=0,c=i.length;s<c;s++)3===i[s].nodeType&&/\S/.test(i[s].nodeValue)&&(a?i[s].nodeValue="":(i[s].nodeValue=r[o],a=!0));if(!a){var u=t.createTextNode(r[o]);e.insertBefore(u,e.firstChild)}}delete r[o]}for(var l in r)e[l]=r[l]}else console.warn("#"+n.id+" is undefined.")}}function S(e){if(e.children)return e.children.length;if("undefined"!==typeof e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}function A(e){e=e||t.documentElement;for(var n=f(e),r=n.length,i=0;i<r;i++)w(n[i]);w(e)}return s.plural=function(e,t,n,i){var c=parseFloat(t);if(isNaN(c))return e;if(i!=o)return e;s._pluralRules||(s._pluralRules=y(a));var u="["+s._pluralRules(c)+"]";return 0===c&&n+"[zero]"in r?e=r[n+"[zero]"][i]:1==c&&n+"[one]"in r?e=r[n+"[one]"][i]:2==c&&n+"[two]"in r?e=r[n+"[two]"][i]:n+u in r?e=r[n+u][i]:n+"[other]"in r&&(e=r[n+"[other]"][i]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),a=o;i>0&&(a=e.substring(i+1),e=e.substring(0,i)),n&&(r={},r[a]=n);var s=b(e,t,r);return s&&a in s?s[a]:"{{"+e+"}}"},getData:function(){return r},getText:function(){return i},getLanguage:function(){return a},setLanguage:function(e,t){v(e,(function(){t&&t()}))},getDirection:function(){var e=["ar","he","fa","ps","ur"],t=a.split("-",1)[0];return e.indexOf(t)>=0?"rtl":"ltr"},translate:A,getReadyState:function(){return c},ready:function(n){n&&("complete"==c||"interactive"==c?e.setTimeout((function(){n()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),n()})))}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(2),i=n(14),o=n(3);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=u;var l=250,h=-50,f=-400,d={"":"'","":"'","":"'","":"'","":'"',"":'"',"":'"',"":'"',"":"1/4","":"1/2","":"3/4"},p=null;function m(e){if(!p){var t=Object.keys(d).join("");p=new RegExp("[".concat(t,"]"),"g")}return e.replace(p,(function(e){return d[e]}))}var v=function(){function e(t){var n=t.linkService,r=t.eventBus;a(this,e),this._linkService=n,this._eventBus=r,this._reset(),r._on("findbarclose",this._onFindBarClose.bind(this))}return c(e,[{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(u.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var t=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),l):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,r=e.pageIndex,i=void 0===r?-1:r,a=e.matchIndex,s=void 0===a?-1:a;if(this._scrollMatches&&n&&-1!==s&&s===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx){this._scrollMatches=!1;var c={top:h,left:f};(0,o.scrollIntoView)(n,c,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function r(t){var n=e[t],r=e[t+1];if(t<e.length-1&&n.match===r.match)return n.skipped=!0,!0;for(var i=t-1;i>=0;i--){var o=e[i];if(!o.skipped){if(o.match+o.matchLength<n.match)break;if(o.match+o.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(var i=0,o=e.length;i<o;i++)r(i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var r=e.charCodeAt(t),o=e.charCodeAt(t-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(o))return!1}var a=t+n-1;if(a<e.length-1){var s=e.charCodeAt(a),c=e.charCodeAt(a+1);if((0,i.getCharacterType)(s)===(0,i.getCharacterType)(c))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r){var i=[],o=e.length,a=-o;while(1){if(a=n.indexOf(e,a+o),-1===a)break;r&&!this._isEntireWord(n,a,o)||i.push(a)}this._pageMatches[t]=i}},{key:"_calculateWordMatch",value:function(e,t,n,r){for(var i=[],o=e.match(/\S+/g),a=0,s=o.length;a<s;a++){var c=o[a],u=c.length,l=-u;while(1){if(l=n.indexOf(c,l+u),-1===l)break;r&&!this._isEntireWord(n,l,u)||i.push({match:l,matchLength:u,skipped:!1})}}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(i,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._query,r=this._state,i=r.caseSensitive,o=r.entireWord,a=r.phraseSearch;if(0!==n.length){i||(t=t.toLowerCase(),n=n.toLowerCase()),a?this._calculatePhraseMatch(n,e,t,o):this._calculateWordMatch(n,e,t,o),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,i){var o=(0,r.createPromiseCapability)();e._extractTextPromises[n]=o.promise,t=t.then((function(){return e._pdfDocument.getPage(n+1).then((function(e){return e.getTextContent({normalizeWhitespace:!0})})).then((function(t){for(var r=t.items,i=[],a=0,s=r.length;a<s;a++)i.push(r[a].str);e._pageContents[n]=m(i.join("")),o.resolve(n)}),(function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",o.resolve(n)}))}))},i=0,o=this._linkService.pagesCount;i<o;i++)n(i,o)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then((function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)})))}if(""!==this._query){if(!this._resumePageIdx){var o=this._offset;if(this._pagesToSearch=r,null!==o.matchIdx){var a=this._pageMatches[o.pageIdx].length;if(!t&&o.matchIdx+1<a||t&&o.matchIdx>0)return o.matchIdx=t?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(u.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?u.WRAPPED:u.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(u.FOUND),t._highlightMatches=!1,t._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var o=0;o<t;o++)r+=this._pageMatches[o]&&this._pageMatches[o].length||0;r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=m(this._state.query)),this._normalizedQuery}}]),e}();t.PDFFindController=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=p,t.CharacterType=void 0;var r={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function i(e){return e<11904}function o(e){return 0===(65408&e)}function a(e){return e>=97&&e<=122||e>=65&&e<=90}function s(e){return e>=48&&e<=57}function c(e){return 32===e||9===e||13===e||10===e}function u(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}function l(e){return e>=12448&&e<=12543}function h(e){return e>=12352&&e<=12447}function f(e){return e>=65376&&e<=65439}function d(e){return 3584===(65408&e)}function p(e){return i(e)?o(e)?c(e)?r.SPACE:a(e)||s(e)||95===e?r.ALPHA_LETTER:r.PUNCT:d(e)?r.THAI_LETTER:160===e?r.SPACE:r.ALPHA_LETTER:u(e)?r.HAN_LETTER:l(e)?r.KATAKANA_LETTER:h(e)?r.HIRAGANA_LETTER:f(e)?r.HALFWIDTH_KATAKANA_LETTER:r.ALPHA_LETTER}t.CharacterType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestHashesEqual=b,t.isDestArraysEqual=_,t.PDFHistory=void 0;var r=n(3);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){return l(e)||u(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),t&&n.length===t)break}catch(c){i=!0,o=c}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function l(e){if(Array.isArray(e))return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=1e3,m=50,v=1e3;function g(){return document.location.hash}var y=function(){function e(t){var n=this,r=t.linkService,i=t.eventBus;h(this,e),this.linkService=r,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(function(e){n._isViewerInPresentationMode=e.active||e.switchInProgress})),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1;var e=function e(t){n.eventBus._off("pagesloaded",e),n._isPagesLoaded=!!t.pagesCount};n.eventBus._on("pagesloaded",e)}))}return d(e,[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,r=void 0!==n&&n,i=e.updateUrl,o=void 0!==i&&i;if(t&&"string"===typeof t){this._initialized&&this.reset();var a=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===o,this._initialized=!0,this._bindEvents();var s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=g(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||r){var c=this._parseCurrentHash(!0),u=c.hash,l=c.page,h=c.rotation;return!u||a||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:u,page:l,rotation:h},!0)}var f=s.destination;this._updateInternalState(f,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,r=void 0===n?null:n,i=e.explicitDest,o=e.pageNumber;if(this._initialized)if(r&&"string"!==typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount||null===o&&!this._destination){var a=r||JSON.stringify(i);if(a){var s=!1;if(this._destination&&(b(this._destination.hash,a)||_(this._destination.dest,i))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:i,hash:a,page:o,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){t._popStateInProgress=!1}))))}}else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,i.uid),this._updateUrl&&e&&e.hash){var o=document.location.href.split("#")[0];o.startsWith("file://")||(t="".concat(o,"#").concat(e.hash))}r?window.history.replaceState(i,"",t):(this._maxUid=this._uid,window.history.pushState(i,"",t))}},{key:"_tryPushCurrentPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(t,!0);else if(this._destination.hash!==t.hash&&(this._destination.page||!(m<=0||this._numPositionUpdates<=m))){var n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}else this._pushOrReplaceState(t)}}},{key:"_isValidState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;if("string"!==typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),r=o(n,1),a=r[0];if(!a||"reload"!==a.type)return!1}return!(!Number.isInteger(e.uid)||e.uid<0)&&(null!==e.destination&&"object"===i(e.destination))}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(g()).substring(1),n=(0,r.parseQueryString)(t),i=n.nameddest||"",o=0|n.page;return Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount&&!(e&&i.length>0)||(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(m>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,v>0&&(this._updateViewareaTimeout=setTimeout((function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null}),v)))}},{key:"_popState",value:function(e){var t=this,n=e.state,i=g(),o=this._currentHash!==i;if(this._currentHash=i,n){if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:p}).then((function(){t._blockHashChange--})));var a=n.destination;this._updateInternalState(a,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,r.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.navigateTo(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then((function(){t._popStateInProgress=!1}))}}else{this._uid++;var s=this._parseCurrentHash(),c=s.hash,u=s.page,l=s.rotation;this._pushOrReplaceState({hash:c,page:u,rotation:l},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),e}();function b(e,t){if("string"!==typeof e||"string"!==typeof t)return!1;if(e===t)return!0;var n=(0,r.parseQueryString)(e),i=n.nameddest;return i===t}function _(e,t){function n(e,t){if(i(e)!==i(t))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===i(e)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!n(e[r],t[r]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!n(e[r],t[r]))return!1;return!0}t.PDFHistory=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=c(n(4)),i=n(3),o=n(2),a=n(17),s=n(10);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=s.viewerCompatibilityParams.maxCanvasPixels||16777216,m=function(){function e(t){h(this,e);var n=t.container,r=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||i.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||p,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||i.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||i.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=a.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var o=document.createElement("div");o.className="page",o.style.width=Math.floor(this.viewport.width)+"px",o.style.height=Math.floor(this.viewport.height)+"px",o.setAttribute("data-page-number",this.id),this.div=o,n.appendChild(o)}return d(e,[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*i.CSS_UNITS,rotation:t}),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap["delete"](t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t),this.renderingState=a.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var r=n.childNodes,i=e&&this.zoomLayer||null,o=t&&this.annotationLayer&&this.annotationLayer.div||null,s=r.length-1;s>=0;s--){var c=r[s];i!==c&&o!==c&&n.removeChild(c)}n.removeAttribute("data-loaded"),o?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap["delete"](this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap["delete"](this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){this.scale=e||this.scale,"undefined"!==typeof t&&(this.rotation=t);var n=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*i.CSS_UNITS,rotation:n}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var r=!1;if(this.canvas&&this.maxCanvasPixels>0){var o=this.outputScale;(Math.floor(this.viewport.width)*o.sx|0)*(Math.floor(this.viewport.height)*o.sy|0)>this.maxCanvasPixels&&(r=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&r)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var o=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,a=Math.abs(o),s=1,c=1;90!==a&&270!==a||(s=r/n,c=n/r);var u="rotate("+o+"deg) scale("+s+","+c+")";if(e.style.transform=u,this.textLayer){var l=this.textLayer.viewport,h=this.viewport.rotation-l.rotation,f=Math.abs(h),d=n/l.width;90!==f&&270!==f||(d=n/l.height);var p,m,v=this.textLayer.textLayerDiv;switch(f){case 0:p=m=0;break;case 90:p=0,m="-"+v.style.height;break;case 180:p="-"+v.style.width,m="-"+v.style.height;break;case 270:p="-"+v.style.width,m=0;break;default:console.error("Bad rotation value.");break}v.style.transform="rotate("+f+"deg) scale("+d+", "+d+") translate("+p+", "+m+")",v.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e=this;this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var t=this.div,n=this.pdfPage;if(!n)return this.renderingState=a.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=a.RenderingStates.RUNNING;var s=document.createElement("div");s.style.width=t.style.width,s.style.height=t.style.height,s.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(s,this.annotationLayer.div):t.appendChild(s);var c=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){var u=document.createElement("div");u.className="textLayer",u.style.width=s.style.width,u.style.height=s.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(u,this.annotationLayer.div):t.appendChild(u),c=this.textLayerFactory.createTextLayerBuilder(u,this.id-1,this.viewport,this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=c;var h=null;this.renderingQueue&&(h=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=a.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=a.RenderingStates.RUNNING,t()});t()});var f=function(){var i=l(r["default"].mark((function i(s){return r["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(d===e.paintTask&&(e.paintTask=null),!(s instanceof o.RenderingCancelledException)){r.next=4;break}return e.error=null,r.abrupt("return");case 4:if(e.renderingState=a.RenderingStates.FINISHED,e.loadingIconDiv&&(t.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.error=s,e.stats=n.stats,e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now()}),!s){r.next=12;break}throw s;case 12:case"end":return r.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),d=this.renderer===i.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);d.onRenderContinue=h,this.paintTask=d;var p=d.promise.then((function(){return f(null).then((function(){if(c){var e=n.streamTextContent({normalizeWhitespace:!0});c.setTextContentStream(e),c.render()}}))}),(function(e){return f(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,n,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),p}},{key:"paintOnCanvas",value:function(e){var t=(0,o.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){y.cancel()}},r=this.viewport,a=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(e){a.setAttribute("aria-label",e)})),a.setAttribute("hidden","hidden");var s=!0,c=function(){s&&(a.removeAttribute("hidden"),s=!1)};e.appendChild(a),this.canvas=a,a.mozOpaque=!0;var u=a.getContext("2d",{alpha:!1}),l=(0,i.getOutputScale)(u);if(this.outputScale=l,this.useOnlyCssZoom){var h=r.clone({scale:i.CSS_UNITS});l.sx*=h.width/r.width,l.sy*=h.height/r.height,l.scaled=!0}if(this.maxCanvasPixels>0){var f=r.width*r.height,d=Math.sqrt(this.maxCanvasPixels/f);l.sx>d||l.sy>d?(l.sx=d,l.sy=d,l.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var p=(0,i.approximateFraction)(l.sx),m=(0,i.approximateFraction)(l.sy);a.width=(0,i.roundToDivide)(r.width*l.sx,p[0]),a.height=(0,i.roundToDivide)(r.height*l.sy,m[0]),a.style.width=(0,i.roundToDivide)(r.width,p[1])+"px",a.style.height=(0,i.roundToDivide)(r.height,m[1])+"px",this.paintedViewportMap.set(a,r);var v=l.scaled?[l.sx,0,0,l.sy,0,0]:null,g={canvasContext:u,transform:v,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms},y=this.pdfPage.render(g);return y.onContinue=function(e){c(),n.onRenderContinue?n.onRenderContinue(e):e()},y.promise.then((function(){c(),t.resolve(void 0)}),(function(e){c(),t.reject(e)})),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,r=function(){if(n)throw new o.RenderingCancelledException("Rendering cancelled, page ".concat(t.id),"svg")},s=this.pdfPage,c=this.viewport.clone({scale:i.CSS_UNITS}),u=s.getOperatorList().then((function(n){r();var i=new o.SVGGraphics(s.commonObjs,s.objs);return i.getSVG(n,c).then((function(n){r(),t.svg=n,t.paintedViewportMap.set(n,c),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=a.RenderingStates.FINISHED,e.appendChild(n)}))}));return{promise:u,onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"===typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),e}();t.PDFPageView=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;var a=3e4,s={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=s;var c=function(){function e(){r(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return o(e,[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),a))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return null;for(var o=0;o<i;++o){var a=r[o].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var c=e.first.id-2;if(t[c]&&!this.isViewFinished(t[c]))return t[c]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===s.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case s.FINISHED:return!1;case s.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case s.RUNNING:this.highestPriorityPage=e.renderingId;break;case s.INITIAL:this.highestPriorityPage=e.renderingId,e.draw()["finally"]((function(){t.renderHighestPriority()}))["catch"]((function(e){console.error('renderView: "'.concat(e,'"'))}));break}return!0}}]),e}();t.PDFRenderingQueue=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var r=n(19),i=n(2);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t,n){return u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=l(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},u(e,t,n||e)}function l(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=g(e),null===e)break;return e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=v();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var y=function(e){h(n,e);var t=d(n);function n(e){var r;return a(this,n),r=t.call(this,e),r.eventBus._on("pagesinit",(function(e){r._ensurePageViewVisible()})),r}return c(n,[{key:"_resetView",value:function(){u(g(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),u(g(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,r=e.pageDiv,i=e.pageSpot,o=void 0===i?null:i,a=e.pageNumber,s=void 0===a?null:a;s&&this._setCurrentPageNumber(s);var c=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),u(g(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:r,pageSpot:o,pageNumber:s}),this._updateScrollDown=function(){t.scroll.down=c,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,i.shadow)(this,"_isScrollModeHorizontal",!1)}}]),n}(r.BaseViewer);t.PDFSinglePageViewer=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var r=n(3),i=n(17),o=n(1),a=n(2),s=n(16),c=n(7),u=n(8);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var d=10;function p(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,i){if(e=n,i){for(var o=new Set,a=0,s=i.length;a<s;++a)o.add(i[a].id);(0,r.moveToEndOfArray)(t,(function(e){return o.has(e.id)}))}while(t.length>e)t.shift().destroy()}}function m(e,t){return t===e||Math.abs(t-e)<1e-15}var v=function(){function e(t){var n=this;if(l(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus,this.linkService=t.linkService||new c.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:r.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||r.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||r.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=r.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){n.eventBus.dispatch("baseviewerinit",{source:n})}))}return f(e,[{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,i=e.getPage(1);this._pagesCapability.promise.then((function(){t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})})),this._onBeforeDraw=function(e){var n=t._pages[e.pageNumber-1];n&&t._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||t._onePageRenderedCapability.settled||(t._onePageRenderedCapability.resolve(),t.eventBus._off("pagerendered",t._onAfterDraw),t._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),i.then((function(i){t._firstPageCapability.resolve(i);for(var o=t.currentScale,a=i.getViewport({scale:o*r.CSS_UNITS}),c=t.textLayerMode!==r.TextLayerMode.DISABLE?t:null,u=1;u<=n;++u){var l=new s.PDFPageView({container:t._viewerElement,eventBus:t.eventBus,id:u,scale:o,defaultViewport:a.clone(),renderingQueue:t.renderingQueue,textLayerFactory:c,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n});t._pages.push(l)}var h=t._pages[0];h&&(h.setPdfPage(i),t.linkService.cachePageRef(1,i.ref)),t._spreadMode!==r.SpreadMode.NONE&&t._updateSpreadMode(),t._onePageRenderedOrForceFetch().then((function(){if(t.findController&&t.findController.setDocument(e),e.loadingParams.disableAutoFetch||n>7500)t._pagesCapability.resolve();else{var r=n-1;if(r<=0)t._pagesCapability.resolve();else for(var i=function(n){e.getPage(n).then((function(e){var i=t._pages[n-1];i.pdfPage||i.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0===--r&&t._pagesCapability.resolve()}),(function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0===--r&&t._pagesCapability.resolve()}))},o=2;o<=n;++o)i(o)}})),t.eventBus.dispatch("pagesinit",{source:t}),t.defaultRenderingQueue&&t.update()}))["catch"]((function(e){console.error("Unable to initialize viewer",e)}))}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var r=this._pages[t],i=this._pageLabels&&this._pageLabels[t];r.setPageLabel(i)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=r.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new p(d),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=r.ScrollMode.VERTICAL,this._spreadMode=r.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,i=void 0===n?null:n;e.pageNumber;(0,r.scrollIntoView)(t,i)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),m(this._currentScale,e))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(var i=0,o=this._pages.length;i<o;i++)this._pages[i].update(e);if(this._currentScale=e,!n){var a,s=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,a=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:a,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var i=this._pages[this._currentPageNumber-1];if(!i)return;var o=this.isInPresentationMode||this.removePageBorders,a=o?0:r.SCROLLBAR_PADDING,s=o?0:r.VERTICAL_PADDING;if(!o&&this._isScrollModeHorizontal){var c=[s,a];a=c[0],s=c[1]}var u=(this.container.clientWidth-a)/i.width*i.scale,l=(this.container.clientHeight-s)/i.height*i.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=u;break;case"page-height":n=l;break;case"page-fit":n=Math.min(u,l);break;case"auto":var h=(0,r.isPortraitOrientation)(i)?u:Math.min(l,u);n=Math.min(r.MAX_AUTO_SCALE,h);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var e=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:e.div})}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,i=void 0===n?null:n,o=e.allowNegativeOffset,a=void 0!==o&&o,s=e.ignoreDestinationZoom,c=void 0!==s&&s;if(this.pdfDocument){var u=Number.isInteger(t)&&this._pages[t-1];if(u)if(!this.isInPresentationMode&&i){var l,h,f=0,d=0,p=0,m=0,v=u.rotation%180!==0,g=(v?u.height:u.width)/u.scale/r.CSS_UNITS,y=(v?u.width:u.height)/u.scale/r.CSS_UNITS,b=0;switch(i[1].name){case"XYZ":f=i[2],d=i[3],b=i[4],f=null!==f?f:0,d=null!==d?d:y;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":d=i[2],b="page-width",null===d&&this._location&&(f=this._location.left,d=this._location.top);break;case"FitV":case"FitBV":f=i[2],p=g,m=y,b="page-height";break;case"FitR":f=i[2],d=i[3],p=i[4]-f,m=i[5]-d;var _=this.removePageBorders?0:r.SCROLLBAR_PADDING,x=this.removePageBorders?0:r.VERTICAL_PADDING;l=(this.container.clientWidth-_)/p/r.CSS_UNITS,h=(this.container.clientHeight-x)/m/r.CSS_UNITS,b=Math.min(Math.abs(l),Math.abs(h));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(i[1].name,'" is not a valid destination type.'))}if(c||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===r.UNKNOWN_SCALE&&(this.currentScaleValue=r.DEFAULT_SCALE_VALUE)),"page-fit"!==b||i[4]){var w=[u.viewport.convertToViewportPoint(f,d),u.viewport.convertToViewportPoint(f+p,d+m)],S=Math.min(w[0][0],w[1][0]),A=Math.min(w[0][1],w[1][1]);a||(S=Math.max(S,0),A=Math.max(A,0)),this._scrollIntoView({pageDiv:u.div,pageSpot:{left:S,top:A},pageNumber:t})}else this._scrollIntoView({pageDiv:u.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,o="#page="+i;o+="&zoom="+r;var a=this._pages[i-1],s=this.container,c=a.getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),u=Math.round(c[0]),l=Math.round(c[1]);o+=","+u+","+l,this._location={pageNumber:i,scale:r,top:l,left:u,rotation:this._pagesRotation,pdfOpenParams:o}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var r=Math.max(d,2*n+1);this._buffer.resize(r,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,r.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(e<1||e>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(e,'" is out of bounds.')),!1):this._getVisiblePages().views.some((function(t){return t.id===e})))}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==i.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);var n=this.pdfDocument.getPage(e.id).then((function(n){return e.pdfPage||e.setPdfPage(n),t._pagesRequests["delete"](e),n}))["catch"]((function(n){console.error("Unable to get page for page view",n),t._pagesRequests["delete"](e)}));return this._pagesRequests.set(e,n),n}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,i=this.renderingQueue.getHighestPriority(n,this._pages,r);return!!i&&(this._ensurePdfPageLoaded(i).then((function(){t.renderingQueue.renderView(i)})),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new u.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&r})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.NullL10n;return new o.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:a})}},{key:"getPagesOverview",value:function(){var e=this._pages.map((function(e){var t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}));if(!this.enablePrintAutoRotate)return e;var t=(0,r.isPortraitOrientation)(e[0]);return e.map((function(e){return t===(0,r.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}}))}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===r.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===r.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===r.SpreadMode.NONE)for(var i=0,o=n.length;i<o;++i)t.appendChild(n[i].div);else for(var a=this._spreadMode-1,s=null,c=0,u=n.length;c<u;++c)null===s?(s=document.createElement("div"),s.className="spread",t.appendChild(s)):c%2===a&&(s=s.cloneNode(!1),t.appendChild(s)),s.appendChild(n[c].div);e&&(this._setCurrentPageNumber(e,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return e&&e.pdfPage}))}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,r.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,i=this._pages.length;n<i;n++){var o=this._pages[n];o.update(o.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===r.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===r.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===r.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,r.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,r.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}}]),e}();t.BaseViewer=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var r=n(19),i=n(2);function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(c)throw o}}}}function s(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t,n){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},f(e,t,n||e)}function d(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=_(e),null===e)break;return e}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=b();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var x=function(e){p(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return h(n,[{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,r=e.pageSpot,i=void 0===r?null:r,o=e.pageNumber,a=void 0===o?null:o;if(!i&&!this.isInPresentationMode){var s=t.offsetLeft+t.clientLeft,c=s+t.clientWidth,u=this.container,l=u.scrollLeft,h=u.clientWidth;(this._isScrollModeHorizontal||s<l||c>l+h)&&(i={left:0,top:0})}f(_(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:i,pageNumber:a})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():f(_(n.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,r=!1,i=a(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.percent<100)break;if(o.id===n){r=!0;break}}}catch(s){i.e(s)}finally{i.f()}r||(n=e[0].id),this._setCurrentPageNumber(n)}}},{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this.viewer)}}]),n}(r.BaseViewer);t.PDFViewer=x}])}))},f9a3:function(e,t,n){"use strict";var r=n("67be"),i=n.n(r);i.a},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),a=n("23cb"),s=n("50c4"),c=n("fc6a"),u=n("8418"),l=n("b622"),h=n("1dde"),f=n("ae40"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),m=l("species"),v=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var n,r,l,h=c(this),f=s(h.length),d=a(e,f),p=a(void 0===t?f:t,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(h,d,p);for(r=new(void 0===n?Array:n)(g(p-d,0)),l=0;d<p;d++,l++)d in h&&u(r,l,h[d]);return r.length=l,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(e,t,n){var r=n("da84");e.exports=r.Promise}}]);
//# sourceMappingURL=chunk-vendors.cbe48c25.js.map